var app=function(){"use strict";function e(){}function t(e){return e()}function r(){return Object.create(null)}function o(e){e.forEach(t)}function n(e){return"function"==typeof e}function a(e,t){return e!=e?t==t:e!==t||e&&"object"==typeof e||"function"==typeof e}let s,i;function c(t,r,o){t.$$.on_destroy.push(function(t,...r){if(null==t)return e;const o=t.subscribe(...r);return o.unsubscribe?()=>o.unsubscribe():o}(r,o))}function l(e,t){e.appendChild(t)}function d(e,t,r){e.insertBefore(t,r||null)}function u(e){e.parentNode.removeChild(e)}function h(e,t){for(let r=0;r<e.length;r+=1)e[r]&&e[r].d(t)}function f(e){return document.createElement(e)}function p(e){return document.createTextNode(e)}function m(){return p(" ")}function g(){return p("")}function k(e,t,r,o){return e.addEventListener(t,r,o),()=>e.removeEventListener(t,r,o)}function w(e,t,r){null==r?e.removeAttribute(t):e.getAttribute(t)!==r&&e.setAttribute(t,r)}function b(e,t){t=""+t,e.wholeText!==t&&(e.data=t)}function B(e,t){e.value=null==t?"":t}function y(e,t,r,o){null===r?e.style.removeProperty(t):e.style.setProperty(t,r,o?"important":"")}function v(e,t){for(let r=0;r<e.options.length;r+=1){const o=e.options[r];if(o.__value===t)return void(o.selected=!0)}e.selectedIndex=-1}function C(e){const t=e.querySelector(":checked")||e.options[0];return t&&t.__value}class P{constructor(e=!1){this.is_svg=!1,this.is_svg=e,this.e=this.n=null}c(e){this.h(e)}m(e,t,r=null){var o;this.e||(this.is_svg?this.e=(o=t.nodeName,document.createElementNS("http://www.w3.org/2000/svg",o)):this.e=f(t.nodeName),this.t=t,this.c(e)),this.i(r)}h(e){this.e.innerHTML=e,this.n=Array.from(this.e.childNodes)}i(e){for(let t=0;t<this.n.length;t+=1)d(this.t,this.n[t],e)}p(e){this.d(),this.h(e),this.i(this.a)}d(){this.n.forEach(u)}}function x(e){i=e}function $(){if(!i)throw new Error("Function called outside component initialization");return i}const _=[],A=[],E=[],S=[],L=Promise.resolve();let M=!1;function R(e){E.push(e)}const T=new Set;let I=0;function z(){const e=i;do{for(;I<_.length;){const e=_[I];I++,x(e),O(e.$$)}for(x(null),_.length=0,I=0;A.length;)A.pop()();for(let e=0;e<E.length;e+=1){const t=E[e];T.has(t)||(T.add(t),t())}E.length=0}while(_.length);for(;S.length;)S.pop()();M=!1,T.clear(),x(e)}function O(e){if(null!==e.fragment){e.update(),o(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(R)}}const N=new Set;let D;function U(){D={r:0,c:[],p:D}}function F(){D.r||o(D.c),D=D.p}function q(e,t){e&&e.i&&(N.delete(e),e.i(t))}function j(e,t,r,o){if(e&&e.o){if(N.has(e))return;N.add(e),D.c.push((()=>{N.delete(e),o&&(r&&e.d(1),o())})),e.o(t)}else o&&o()}function H(e){e&&e.c()}function X(e,r,a,s){const{fragment:i,on_mount:c,on_destroy:l,after_update:d}=e.$$;i&&i.m(r,a),s||R((()=>{const r=c.map(t).filter(n);l?l.push(...r):o(r),e.$$.on_mount=[]})),d.forEach(R)}function V(e,t){const r=e.$$;null!==r.fragment&&(o(r.on_destroy),r.fragment&&r.fragment.d(t),r.on_destroy=r.fragment=null,r.ctx=[])}function W(e,t){-1===e.$$.dirty[0]&&(_.push(e),M||(M=!0,L.then(z)),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function Z(t,n,a,s,c,l,d,h=[-1]){const f=i;x(t);const p=t.$$={fragment:null,ctx:null,props:l,update:e,not_equal:c,bound:r(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(n.context||(f?f.$$.context:[])),callbacks:r(),dirty:h,skip_bound:!1,root:n.target||f.$$.root};d&&d(p.root);let m=!1;if(p.ctx=a?a(t,n.props||{},((e,r,...o)=>{const n=o.length?o[0]:r;return p.ctx&&c(p.ctx[e],p.ctx[e]=n)&&(!p.skip_bound&&p.bound[e]&&p.bound[e](n),m&&W(t,e)),r})):[],p.update(),m=!0,o(p.before_update),p.fragment=!!s&&s(p.ctx),n.target){if(n.hydrate){const e=function(e){return Array.from(e.childNodes)}(n.target);p.fragment&&p.fragment.l(e),e.forEach(u)}else p.fragment&&p.fragment.c();n.intro&&q(t.$$.fragment),X(t,n.target,n.anchor,n.customElement),z()}x(f)}class Q{$destroy(){V(this,1),this.$destroy=e}$on(e,t){const r=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return r.push(t),()=>{const e=r.indexOf(t);-1!==e&&r.splice(e,1)}}$set(e){var t;this.$$set&&(t=e,0!==Object.keys(t).length)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const K=[];function Y(t,r=e){let o;const n=new Set;function s(e){if(a(t,e)&&(t=e,o)){const e=!K.length;for(const e of n)e[1](),K.push(e,t);if(e){for(let e=0;e<K.length;e+=2)K[e][0](K[e+1]);K.length=0}}}return{set:s,update:function(e){s(e(t))},subscribe:function(a,i=e){const c=[a,i];return n.add(c),1===n.size&&(o=r(s)||e),a(t),()=>{n.delete(c),0===n.size&&(o(),o=null)}}}}const J=Y("en"),G={subscribe:J.subscribe,set:e=>{J.set(e)}},ee=[{id:"en",name:"English"},{id:"it",name:"Italiano"}],te={menu:{changeLanguage:{en:"Change language",it:"Cambia lingua"},encrypt:{en:"Encrypt",it:"Cripta"},decrypt:{en:"Decrypt",it:"Decripta"},documents:{en:"Documents",it:"Documenti"},files:{en:"Files",it:"File"},message:{en:"Text",it:"Testo"},shootPhoto:{en:"Shoot Photo",it:"Scatta una foto"},useNativeCamera:{en:"Use Native Camera",it:"Usa l'app nativa"},chooseFiles:{en:"Choose Files",it:"Scegli i file"},selectedFile:{en:"Selected File",it:"File selezionato"},photoNative:{en:"Photo (app)",it:"Foto (app)"},photoWebCam:{en:"Photo (webcam)",it:"Foto (webcam)"},showPlainText:{en:"Plain Text",it:"Testo"},showRenderedText:{en:"Rendered Text",it:"HTML"},password:{en:"Password",it:"Password"}}};function re(t){let r,o,n=te[t[0]][t[1]][t[2]]+"";return{c(){r=new P(!1),o=g(),r.a=o},m(e,t){r.m(n,e,t),d(e,o,t)},p(e,[t]){7&t&&n!==(n=te[e[0]][e[1]][e[2]]+"")&&r.p(n)},i:e,o:e,d(e){e&&u(o),e&&r.d()}}}function oe(e,t,r){let o;c(e,G,(e=>r(2,o=e)));let{c:n}=t,{v:a}=t;return e.$$set=e=>{"c"in e&&r(0,n=e.c),"v"in e&&r(1,a=e.v)},[n,a,o]}class ne extends Q{constructor(e){super(),Z(this,e,oe,re,a,{c:0,v:1})}}function ae(e,t,r){const o=e.slice();return o[3]=t[r],o}function se(t){let r,o,n,a=t[3].name+"";return{c(){r=f("option"),o=p(a),n=m(),r.__value=t[3].id,r.value=r.__value},m(e,t){d(e,r,t),l(r,o),l(r,n)},p:e,d(e){e&&u(r)}}}function ie(e){let t,r,n,a,s,i,c,g,b;n=new ne({props:{c:"menu",v:"changeLanguage"}});let B=ee,y=[];for(let t=0;t<B.length;t+=1)y[t]=se(ae(e,B,t));return{c(){t=f("div"),r=f("label"),H(n.$$.fragment),a=p(":"),s=m(),i=f("select");for(let e=0;e<y.length;e+=1)y[e].c();w(r,"for","changeLanguage"),w(i,"id","changeLanguage"),void 0===e[0]&&R((()=>e[1].call(i)))},m(o,u){d(o,t,u),l(t,r),X(n,r,null),l(r,a),l(t,s),l(t,i);for(let e=0;e<y.length;e+=1)y[e].m(i,null);v(i,e[0]),c=!0,g||(b=[k(i,"change",e[1]),k(i,"change",e[2])],g=!0)},p(e,[t]){if(0&t){let r;for(B=ee,r=0;r<B.length;r+=1){const o=ae(e,B,r);y[r]?y[r].p(o,t):(y[r]=se(o),y[r].c(),y[r].m(i,null))}for(;r<y.length;r+=1)y[r].d(1);y.length=B.length}1&t&&v(i,e[0])},i(e){c||(q(n.$$.fragment,e),c=!0)},o(e){j(n.$$.fragment,e),c=!1},d(e){e&&u(t),V(n),h(y,e),g=!1,o(b)}}}function ce(e,t,r){let o="en";return[o,function(){o=C(this),r(0,o)},()=>G.set(o)]}class le extends Q{constructor(e){super(),Z(this,e,ce,ie,a,{})}}const de=Y(""),ue={subscribe:de.subscribe,set:e=>{de.set(e)}};class he{constructor(e,t,r,o,n){this._legacyCanvasSize=he.DEFAULT_CANVAS_SIZE,this._preferredCamera="environment",this._maxScansPerSecond=25,this._lastScanTimestamp=-1,this._destroyed=this._flashOn=this._paused=this._active=!1,this.$video=e,this.$canvas=document.createElement("canvas"),r&&"object"==typeof r?this._onDecode=t:(r||o||n?console.warn("You're using a deprecated version of the QrScanner constructor which will be removed in the future"):console.warn("Note that the type of the scan result passed to onDecode will change in the future. To already switch to the new api today, you can pass returnDetailedScanResult: true."),this._legacyOnDecode=t),t="object"==typeof r?r:{},this._onDecodeError=t.onDecodeError||("function"==typeof r?r:this._onDecodeError),this._calculateScanRegion=t.calculateScanRegion||("function"==typeof o?o:this._calculateScanRegion),this._preferredCamera=t.preferredCamera||n||this._preferredCamera,this._legacyCanvasSize="number"==typeof r?r:"number"==typeof o?o:this._legacyCanvasSize,this._maxScansPerSecond=t.maxScansPerSecond||this._maxScansPerSecond,this._onPlay=this._onPlay.bind(this),this._onLoadedMetaData=this._onLoadedMetaData.bind(this),this._onVisibilityChange=this._onVisibilityChange.bind(this),this._updateOverlay=this._updateOverlay.bind(this),e.disablePictureInPicture=!0,e.playsInline=!0,e.muted=!0;let a=!1;if(e.hidden&&(e.hidden=!1,a=!0),document.body.contains(e)||(document.body.appendChild(e),a=!0),r=e.parentElement,t.highlightScanRegion||t.highlightCodeOutline){if(o=!!t.overlay,this.$overlay=t.overlay||document.createElement("div"),(n=this.$overlay.style).position="absolute",n.display="none",n.pointerEvents="none",this.$overlay.classList.add("scan-region-highlight"),!o&&t.highlightScanRegion){this.$overlay.innerHTML='<svg class="scan-region-highlight-svg" viewBox="0 0 238 238" preserveAspectRatio="none" style="position:absolute;width:100%;height:100%;left:0;top:0;fill:none;stroke:#e9b213;stroke-width:4;stroke-linecap:round;stroke-linejoin:round"><path d="M31 2H10a8 8 0 0 0-8 8v21M207 2h21a8 8 0 0 1 8 8v21m0 176v21a8 8 0 0 1-8 8h-21m-176 0H10a8 8 0 0 1-8-8v-21"/></svg>';try{this.$overlay.firstElementChild.animate({transform:["scale(.98)","scale(1.01)"]},{duration:400,iterations:1/0,direction:"alternate",easing:"ease-in-out"})}catch(e){}r.insertBefore(this.$overlay,this.$video.nextSibling)}t.highlightCodeOutline&&(this.$overlay.insertAdjacentHTML("beforeend",'<svg class="code-outline-highlight" preserveAspectRatio="none" style="display:none;width:100%;height:100%;fill:none;stroke:#e9b213;stroke-width:5;stroke-dasharray:25;stroke-linecap:round;stroke-linejoin:round"><polygon/></svg>'),this.$codeOutlineHighlight=this.$overlay.lastElementChild)}this._scanRegion=this._calculateScanRegion(e),requestAnimationFrame((()=>{let t=window.getComputedStyle(e);"none"===t.display&&(e.style.setProperty("display","block","important"),a=!0),"visible"!==t.visibility&&(e.style.setProperty("visibility","visible","important"),a=!0),a&&(console.warn("QrScanner has overwritten the video hiding style to avoid Safari stopping the playback."),e.style.opacity="0",e.style.width="0",e.style.height="0",this.$overlay&&this.$overlay.parentElement&&this.$overlay.parentElement.removeChild(this.$overlay),delete this.$overlay,delete this.$codeOutlineHighlight),this.$overlay&&this._updateOverlay()})),e.addEventListener("play",this._onPlay),e.addEventListener("loadedmetadata",this._onLoadedMetaData),document.addEventListener("visibilitychange",this._onVisibilityChange),window.addEventListener("resize",this._updateOverlay),this._qrEnginePromise=he.createQrEngine()}static set WORKER_PATH(e){console.warn("Setting QrScanner.WORKER_PATH is not required and not supported anymore. Have a look at the README for new setup instructions.")}static async hasCamera(){try{return!!(await he.listCameras(!1)).length}catch(e){return!1}}static async listCameras(e=!1){if(!navigator.mediaDevices)return[];let t,r=async()=>(await navigator.mediaDevices.enumerateDevices()).filter((e=>"videoinput"===e.kind));try{e&&(await r()).every((e=>!e.label))&&(t=await navigator.mediaDevices.getUserMedia({audio:!1,video:!0}))}catch(e){}try{return(await r()).map(((e,t)=>({id:e.deviceId,label:e.label||(0===t?"Default Camera":`Camera ${t+1}`)})))}finally{t&&(console.warn("Call listCameras after successfully starting a QR scanner to avoid creating a temporary video stream"),he._stopVideoStream(t))}}async hasFlash(){let e;try{if(this.$video.srcObject){if(!(this.$video.srcObject instanceof MediaStream))return!1;e=this.$video.srcObject}else e=(await this._getCameraStream()).stream;return"torch"in e.getVideoTracks()[0].getSettings()}catch(e){return!1}finally{e&&e!==this.$video.srcObject&&(console.warn("Call hasFlash after successfully starting the scanner to avoid creating a temporary video stream"),he._stopVideoStream(e))}}isFlashOn(){return this._flashOn}async toggleFlash(){this._flashOn?await this.turnFlashOff():await this.turnFlashOn()}async turnFlashOn(){if(!this._flashOn&&!this._destroyed&&(this._flashOn=!0,this._active&&!this._paused))try{if(!await this.hasFlash())throw"No flash available";await this.$video.srcObject.getVideoTracks()[0].applyConstraints({advanced:[{torch:!0}]})}catch(e){throw this._flashOn=!1,e}}async turnFlashOff(){this._flashOn&&(this._flashOn=!1,await this._restartVideoStream())}destroy(){this.$video.removeEventListener("loadedmetadata",this._onLoadedMetaData),this.$video.removeEventListener("play",this._onPlay),document.removeEventListener("visibilitychange",this._onVisibilityChange),window.removeEventListener("resize",this._updateOverlay),this._destroyed=!0,this._flashOn=!1,this.stop(),he._postWorkerMessage(this._qrEnginePromise,"close")}async start(){if(this._destroyed)throw Error("The QR scanner can not be started as it had been destroyed.");if((!this._active||this._paused)&&("https:"!==window.location.protocol&&console.warn("The camera stream is only accessible if the page is transferred via https."),this._active=!0,!document.hidden))if(this._paused=!1,this.$video.srcObject)await this.$video.play();else try{let{stream:e,facingMode:t}=await this._getCameraStream();!this._active||this._paused?he._stopVideoStream(e):(this._setVideoMirror(t),this.$video.srcObject=e,await this.$video.play(),this._flashOn&&(this._flashOn=!1,this.turnFlashOn().catch((()=>{}))))}catch(e){if(!this._paused)throw this._active=!1,e}}stop(){this.pause(),this._active=!1}async pause(e=!1){if(this._paused=!0,!this._active)return!0;this.$video.pause(),this.$overlay&&(this.$overlay.style.display="none");let t=()=>{this.$video.srcObject instanceof MediaStream&&(he._stopVideoStream(this.$video.srcObject),this.$video.srcObject=null)};return e?(t(),!0):(await new Promise((e=>setTimeout(e,300))),!!this._paused&&(t(),!0))}async setCamera(e){e!==this._preferredCamera&&(this._preferredCamera=e,await this._restartVideoStream())}static async scanImage(e,t,r,o,n=!1,a=!1){let s,i=!1;t&&("scanRegion"in t||"qrEngine"in t||"canvas"in t||"disallowCanvasResizing"in t||"alsoTryWithoutScanRegion"in t||"returnDetailedScanResult"in t)?(s=t.scanRegion,r=t.qrEngine,o=t.canvas,n=t.disallowCanvasResizing||!1,a=t.alsoTryWithoutScanRegion||!1,i=!0):t||r||o||n||a?console.warn("You're using a deprecated api for scanImage which will be removed in the future."):console.warn("Note that the return type of scanImage will change in the future. To already switch to the new api today, you can pass returnDetailedScanResult: true."),t=!!r;try{let c,l,d;if([r,c]=await Promise.all([r||he.createQrEngine(),he._loadImage(e)]),[o,l]=he._drawToCanvas(c,s,o,n),r instanceof Worker){let e=r;t||he._postWorkerMessageSync(e,"inversionMode","both"),d=await new Promise(((t,r)=>{let n,a,i,c=-1;a=o=>{o.data.id===c&&(e.removeEventListener("message",a),e.removeEventListener("error",i),clearTimeout(n),null!==o.data.data?t({data:o.data.data,cornerPoints:he._convertPoints(o.data.cornerPoints,s)}):r(he.NO_QR_CODE_FOUND))},i=t=>{e.removeEventListener("message",a),e.removeEventListener("error",i),clearTimeout(n),r("Scanner error: "+(t?t.message||t:"Unknown Error"))},e.addEventListener("message",a),e.addEventListener("error",i),n=setTimeout((()=>i("timeout")),1e4);let d=l.getImageData(0,0,o.width,o.height);c=he._postWorkerMessageSync(e,"decode",d,[d.data.buffer])}))}else d=await Promise.race([new Promise(((e,t)=>window.setTimeout((()=>t("Scanner error: timeout")),1e4))),(async()=>{try{var[t]=await r.detect(o);if(!t)throw he.NO_QR_CODE_FOUND;return{data:t.rawValue,cornerPoints:he._convertPoints(t.cornerPoints,s)}}catch(r){if(t=r.message||r,/not implemented|service unavailable/.test(t))return he._disableBarcodeDetector=!0,he.scanImage(e,{scanRegion:s,canvas:o,disallowCanvasResizing:n,alsoTryWithoutScanRegion:a});throw`Scanner error: ${t}`}})()]);return i?d:d.data}catch(t){if(!s||!a)throw t;let c=await he.scanImage(e,{qrEngine:r,canvas:o,disallowCanvasResizing:n});return i?c:c.data}finally{t||he._postWorkerMessage(r,"close")}}setGrayscaleWeights(e,t,r,o=!0){he._postWorkerMessage(this._qrEnginePromise,"grayscaleWeights",{red:e,green:t,blue:r,useIntegerApproximation:o})}setInversionMode(e){he._postWorkerMessage(this._qrEnginePromise,"inversionMode",e)}static async createQrEngine(e){return e&&console.warn("Specifying a worker path is not required and not supported anymore."),!he._disableBarcodeDetector&&"BarcodeDetector"in window&&BarcodeDetector.getSupportedFormats&&(await BarcodeDetector.getSupportedFormats()).includes("qr_code")?new BarcodeDetector({formats:["qr_code"]}):Promise.resolve().then((function(){return Pn})).then((e=>e.createWorker()))}_onPlay(){this._scanRegion=this._calculateScanRegion(this.$video),this._updateOverlay(),this.$overlay&&(this.$overlay.style.display=""),this._scanFrame()}_onLoadedMetaData(){this._scanRegion=this._calculateScanRegion(this.$video),this._updateOverlay()}_onVisibilityChange(){document.hidden?this.pause():this._active&&this.start()}_calculateScanRegion(e){let t=Math.round(2/3*Math.min(e.videoWidth,e.videoHeight));return{x:Math.round((e.videoWidth-t)/2),y:Math.round((e.videoHeight-t)/2),width:t,height:t,downScaledWidth:this._legacyCanvasSize,downScaledHeight:this._legacyCanvasSize}}_updateOverlay(){requestAnimationFrame((()=>{if(this.$overlay){var e=this.$video,t=e.videoWidth,r=e.videoHeight,o=e.offsetWidth,n=e.offsetHeight,a=e.offsetLeft,s=e.offsetTop,i=window.getComputedStyle(e),c=i.objectFit,l=t/r,d=o/n;switch(c){case"none":var u=t,h=r;break;case"fill":u=o,h=n;break;default:("cover"===c?l>d:l<d)?u=(h=n)*l:h=(u=o)/l,"scale-down"===c&&(u=Math.min(u,t),h=Math.min(h,r))}var[f,p]=i.objectPosition.split(" ").map(((e,t)=>{const r=parseFloat(e);return e.endsWith("%")?(t?n-h:o-u)*r/100:r}));i=this._scanRegion.width||t,d=this._scanRegion.height||r,c=this._scanRegion.x||0;var m=this._scanRegion.y||0;(l=this.$overlay.style).width=i/t*u+"px",l.height=d/r*h+"px",l.top=`${s+p+m/r*h}px`,r=/scaleX\(-1\)/.test(e.style.transform),l.left=`${a+(r?o-f-u:f)+(r?t-c-i:c)/t*u}px`,l.transform=e.style.transform}}))}static _convertPoints(e,t){if(!t)return e;let r=t.x||0,o=t.y||0,n=t.width&&t.downScaledWidth?t.width/t.downScaledWidth:1;t=t.height&&t.downScaledHeight?t.height/t.downScaledHeight:1;for(let a of e)a.x=a.x*n+r,a.y=a.y*t+o;return e}_scanFrame(){!this._active||this.$video.paused||this.$video.ended||("requestVideoFrameCallback"in this.$video?this.$video.requestVideoFrameCallback.bind(this.$video):requestAnimationFrame)((async()=>{if(!(1>=this.$video.readyState)){var e=Date.now()-this._lastScanTimestamp,t=1e3/this._maxScansPerSecond;e<t&&await new Promise((r=>setTimeout(r,t-e))),this._lastScanTimestamp=Date.now();try{var r=await he.scanImage(this.$video,{scanRegion:this._scanRegion,qrEngine:this._qrEnginePromise,canvas:this.$canvas})}catch(e){if(!this._active)return;this._onDecodeError(e)}!he._disableBarcodeDetector||await this._qrEnginePromise instanceof Worker||(this._qrEnginePromise=he.createQrEngine()),r?(this._onDecode?this._onDecode(r):this._legacyOnDecode&&this._legacyOnDecode(r.data),this.$codeOutlineHighlight&&(clearTimeout(this._codeOutlineHighlightRemovalTimeout),this._codeOutlineHighlightRemovalTimeout=void 0,this.$codeOutlineHighlight.setAttribute("viewBox",`${this._scanRegion.x||0} ${this._scanRegion.y||0} ${this._scanRegion.width||this.$video.videoWidth} ${this._scanRegion.height||this.$video.videoHeight}`),this.$codeOutlineHighlight.firstElementChild.setAttribute("points",r.cornerPoints.map((({x:e,y:t})=>`${e},${t}`)).join(" ")),this.$codeOutlineHighlight.style.display="")):this.$codeOutlineHighlight&&!this._codeOutlineHighlightRemovalTimeout&&(this._codeOutlineHighlightRemovalTimeout=setTimeout((()=>this.$codeOutlineHighlight.style.display="none"),100))}this._scanFrame()}))}_onDecodeError(e){e!==he.NO_QR_CODE_FOUND&&console.log(e)}async _getCameraStream(){if(!navigator.mediaDevices)throw"Camera not found.";let e=/^(environment|user)$/.test(this._preferredCamera)?"facingMode":"deviceId",t=[{width:{min:1024}},{width:{min:768}},{}],r=t.map((t=>Object.assign({},t,{[e]:{exact:this._preferredCamera}})));for(let e of[...r,...t])try{let t=await navigator.mediaDevices.getUserMedia({video:e,audio:!1});return{stream:t,facingMode:this._getFacingMode(t)||(e.facingMode?this._preferredCamera:"environment"===this._preferredCamera?"user":"environment")}}catch(e){}throw"Camera not found."}async _restartVideoStream(){let e=this._paused;await this.pause(!0)&&!e&&this._active&&await this.start()}static _stopVideoStream(e){for(let t of e.getTracks())t.stop(),e.removeTrack(t)}_setVideoMirror(e){this.$video.style.transform="scaleX("+("user"===e?-1:1)+")"}_getFacingMode(e){return(e=e.getVideoTracks()[0])?/rear|back|environment/i.test(e.label)?"environment":/front|user|face/i.test(e.label)?"user":null:null}static _drawToCanvas(e,t,r,o=!1){r=r||document.createElement("canvas");let n=t&&t.x?t.x:0,a=t&&t.y?t.y:0,s=t&&t.width?t.width:e.videoWidth||e.width,i=t&&t.height?t.height:e.videoHeight||e.height;return o||(o=t&&t.downScaledWidth?t.downScaledWidth:s,t=t&&t.downScaledHeight?t.downScaledHeight:i,r.width!==o&&(r.width=o),r.height!==t&&(r.height=t)),(t=r.getContext("2d",{alpha:!1})).imageSmoothingEnabled=!1,t.drawImage(e,n,a,s,i,0,0,r.width,r.height),[r,t]}static async _loadImage(e){if(e instanceof Image)return await he._awaitImageLoad(e),e;if(e instanceof HTMLVideoElement||e instanceof HTMLCanvasElement||e instanceof SVGImageElement||"OffscreenCanvas"in window&&e instanceof OffscreenCanvas||"ImageBitmap"in window&&e instanceof ImageBitmap)return e;if(!(e instanceof File||e instanceof Blob||e instanceof URL||"string"==typeof e))throw"Unsupported image type.";{let t=new Image;t.src=e instanceof File||e instanceof Blob?URL.createObjectURL(e):e.toString();try{return await he._awaitImageLoad(t),t}finally{(e instanceof File||e instanceof Blob)&&URL.revokeObjectURL(t.src)}}}static async _awaitImageLoad(e){e.complete&&0!==e.naturalWidth||await new Promise(((t,r)=>{let o=n=>{e.removeEventListener("load",o),e.removeEventListener("error",o),n instanceof ErrorEvent?r("Image load error"):t()};e.addEventListener("load",o),e.addEventListener("error",o)}))}static async _postWorkerMessage(e,t,r,o){return he._postWorkerMessageSync(await e,t,r,o)}static _postWorkerMessageSync(e,t,r,o){if(!(e instanceof Worker))return-1;let n=he._workerMessageId++;return e.postMessage({id:n,type:t,data:r},o),n}}function fe(e,t,r){const o=e.slice();return o[10]=t[r],o}function pe(e){let t,r,o,n,a,s,i,c;return{c(){t=f("button"),t.textContent="Scan Again",r=m(),o=f("div"),o.textContent="Password",n=m(),a=f("div"),s=p(e[0])},m(u,h){d(u,t,h),d(u,r,h),d(u,o,h),d(u,n,h),d(u,a,h),l(a,s),i||(c=k(t,"click",e[6]),i=!0)},p(e,t){1&t&&b(s,e[0])},d(e){e&&u(t),e&&u(r),e&&u(o),e&&u(n),e&&u(a),i=!1,c()}}}function me(e){let t,r,n,a=e[3],s=[];for(let t=0;t<a.length;t+=1)s[t]=ge(fe(e,a,t));return{c(){t=f("select");for(let e=0;e<s.length;e+=1)s[e].c();void 0===e[4]&&R((()=>e[7].call(t)))},m(o,a){d(o,t,a);for(let e=0;e<s.length;e+=1)s[e].m(t,null);v(t,e[4]),r||(n=[k(t,"change",e[7]),k(t,"change",e[8])],r=!0)},p(e,r){if(8&r){let o;for(a=e[3],o=0;o<a.length;o+=1){const n=fe(e,a,o);s[o]?s[o].p(n,r):(s[o]=ge(n),s[o].c(),s[o].m(t,null))}for(;o<s.length;o+=1)s[o].d(1);s.length=a.length}24&r&&v(t,e[4])},d(e){e&&u(t),h(s,e),r=!1,o(n)}}}function ge(e){let t,r,o,n,a=e[10].label+"";return{c(){t=f("option"),r=p(a),o=m(),t.__value=n=e[10].id,t.value=t.__value},m(e,n){d(e,t,n),l(t,r),l(t,o)},p(e,o){8&o&&a!==(a=e[10].label+"")&&b(r,a),8&o&&n!==(n=e[10].id)&&(t.__value=n,t.value=t.__value)},d(e){e&&u(t)}}}function ke(e){let t;return{c(){t=f("p"),t.textContent="Camera not found"},m(e,r){d(e,t,r)},d(e){e&&u(t)}}}function we(t){let r,o,n,a,s,i=""!=t[0]&&pe(t),c=t[2]&&me(t),h=!t[2]&&ke();return{c(){r=f("div"),i&&i.c(),o=m(),c&&c.c(),n=m(),a=f("video"),s=m(),h&&h.c(),y(a,"display",t[2]?"inline":"none",!1)},m(e,u){d(e,r,u),i&&i.m(r,null),l(r,o),c&&c.m(r,null),l(r,n),l(r,a),t[9](a),l(r,s),h&&h.m(r,null)},p(e,[t]){""!=e[0]?i?i.p(e,t):(i=pe(e),i.c(),i.m(r,o)):i&&(i.d(1),i=null),e[2]?c?c.p(e,t):(c=me(e),c.c(),c.m(r,n)):c&&(c.d(1),c=null),4&t&&y(a,"display",e[2]?"inline":"none",!1),e[2]?h&&(h.d(1),h=null):h||(h=ke(),h.c(),h.m(r,null))},i:e,o:e,d(e){e&&u(r),i&&i.d(),c&&c.d(),t[9](null),h&&h.d()}}}function be(e,t,r){let o,n,a,s=!1,i=[],c="";var l;l=async()=>{r(2,s=await he.hasCamera()),s&&(r(5,a=new he(o,(e=>{r(0,c=e.data),a.stop()}),{returnDetailedScanResult:!0,highlightScanRegion:!0,highlightCodeOutline:!0})),r(3,i=await he.listCameras(!0)),r(4,n=i[0].id),a.start())},$().$$.on_mount.push(l),function(e){$().$$.on_destroy.push(e)}((()=>{a&&(a.stop(),a.destroy(),r(5,a=null))}));return e.$$.update=()=>{1&e.$$.dirty&&ue.set(c)},[c,o,s,i,n,a,()=>{r(0,c=""),a.start()},function(){n=C(this),r(4,n),r(3,i)},()=>{a.setCamera(n)},function(e){A[e?"unshift":"push"]((()=>{o=e,r(1,o)}))}]}he.DEFAULT_CANVAS_SIZE=400,he.NO_QR_CODE_FOUND="No QR code found",he._disableBarcodeDetector=!1,he._workerMessageId=0;class Be extends Q{constructor(e){super(),Z(this,e,be,we,a,{})}}function ye(t){let r,o,n,a;return{c(){var e,t;r=f("img"),e=r.src,t=o="",s||(s=document.createElement("a")),s.href=t,e!==s.href&&w(r,"src",""),w(r,"alt","Preview"),w(r,"class","svelte-o6s74f")},m(e,o){d(e,r,o),t[7](r),n||(a=k(r,"load",t[8]),n=!0)},p:e,d(e){e&&u(r),t[7](null),n=!1,a()}}}function ve(e){let t,r,o,n;return{c(){t=f("div"),t.textContent="Password",r=m(),o=f("div"),n=p(e[0])},m(e,a){d(e,t,a),d(e,r,a),d(e,o,a),l(o,n)},p(e,t){1&t&&b(n,e[0])},d(e){e&&u(t),e&&u(r),e&&u(o)}}}function Ce(e){let t;return{c(){t=f("div"),t.textContent="No QR code found"},m(e,r){d(e,t,r)},d(e){e&&u(t)}}}function Pe(t){let r,o,n,a,s,i,c,h,p,g=t[3]&&ye(t),b=""!=t[0]&&ve(t),B=t[4]&&Ce();return{c(){r=f("div"),o=f("label"),o.textContent="Upload a picture:",n=m(),a=f("input"),s=m(),g&&g.c(),i=m(),b&&b.c(),c=m(),B&&B.c(),w(o,"for","qr"),w(a,"accept","image/png, image/jpeg"),w(a,"id","qr"),w(a,"name","qr"),w(a,"type","file")},m(e,u){d(e,r,u),l(r,o),l(r,n),l(r,a),t[6](a),l(r,s),g&&g.m(r,null),l(r,i),b&&b.m(r,null),l(r,c),B&&B.m(r,null),h||(p=k(a,"change",t[5]),h=!0)},p(e,[t]){e[3]?g?g.p(e,t):(g=ye(e),g.c(),g.m(r,i)):g&&(g.d(1),g=null),""!=e[0]?b?b.p(e,t):(b=ve(e),b.c(),b.m(r,c)):b&&(b.d(1),b=null),e[4]?B||(B=Ce(),B.c(),B.m(r,null)):B&&(B.d(1),B=null)},i:e,o:e,d(e){e&&u(r),t[6](null),g&&g.d(),b&&b.d(),B&&B.d(),h=!1,p()}}}function xe(e,t,r){let o,n,a="",s=!1,i=!1;return e.$$.update=()=>{1&e.$$.dirty&&ue.set(a)},[a,o,n,s,i,function(){r(0,a=""),r(4,i=!1);const e=o.files[0];if(e){r(3,s=!0);const t=new FileReader;return t.addEventListener("load",(function(){n.setAttribute("src",t.result)})),void t.readAsDataURL(e)}r(3,s=!1)},function(e){A[e?"unshift":"push"]((()=>{o=e,r(1,o)}))},function(e){A[e?"unshift":"push"]((()=>{n=e,r(2,n)}))},()=>{he.scanImage(n,{returnDetailedScanResult:!0}).then((e=>{r(0,a=e.data),r(3,s=!1)})).catch((e=>{r(4,i=!0),r(3,s=!1)}))}]}class $e extends Q{constructor(e){super(),Z(this,e,xe,Pe,a,{})}}function _e(e){let t,r,o;var n=e[2];return n&&(t=new n({})),{c(){t&&H(t.$$.fragment),r=g()},m(e,n){t&&X(t,e,n),d(e,r,n),o=!0},p(e,o){if(n!==(n=e[2])){if(t){U();const e=t;j(e.$$.fragment,1,0,(()=>{V(e,1)})),F()}n?(t=new n({}),H(t.$$.fragment),q(t.$$.fragment,1),X(t,r.parentNode,r)):t=null}},i(e){o||(t&&q(t.$$.fragment,e),o=!0)},o(e){t&&j(t.$$.fragment,e),o=!1},d(e){e&&u(r),t&&V(t,e)}}}function Ae(e){let t,r,n,a,s,i,c,h,p,g,b=e[1]&&_e(e);return{c(){t=f("div"),r=f("input"),n=m(),a=f("button"),a.textContent="From QrCode (Photo)",s=m(),i=f("button"),i.textContent="From QrCode (Image)",c=m(),b&&b.c(),w(r,"placeholder","password")},m(o,u){d(o,t,u),l(t,r),B(r,e[0]),l(t,n),l(t,a),l(t,s),l(t,i),l(t,c),b&&b.m(t,null),h=!0,p||(g=[k(r,"input",e[4]),k(a,"click",e[5]),k(i,"click",e[6])],p=!0)},p(e,[o]){1&o&&r.value!==e[0]&&B(r,e[0]),e[1]?b?(b.p(e,o),2&o&&q(b,1)):(b=_e(e),b.c(),q(b,1),b.m(t,null)):b&&(U(),j(b,1,1,(()=>{b=null})),F())},i(e){h||(q(b),h=!0)},o(e){j(b),h=!1},d(e){e&&u(t),b&&b.d(),p=!1,o(g)}}}function Ee(e,t,r){let o,n;c(e,ue,(e=>r(3,n=e)));let a,s=!1;return e.$$.update=()=>{8&e.$$.dirty&&r(0,o=n),1&e.$$.dirty&&ue.set(o)},[o,s,a,n,function(){o=this.value,r(0,o),r(3,n)},()=>{r(1,s=a!=Be),r(2,a=a==Be?null:Be)},()=>{r(1,s=a!=$e),r(2,a=a==$e?null:$e)}]}class Se extends Q{constructor(e){super(),Z(this,e,Ee,Ae,a,{})}}const Le=Y(""),Me={subscribe:Le.subscribe,set:e=>{Le.set(e)}};var Re,Te="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},Ie={exports:{}};Re=Ie,function(){function e(e,t){return void 0===t?t={autoBom:!1}:"object"!=typeof t&&(console.warn("Deprecated: Expected third argument to be a object"),t={autoBom:!t}),t.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(e.type)?new Blob(["\ufeff",e],{type:e.type}):e}function t(e,t,r){var o=new XMLHttpRequest;o.open("GET",e),o.responseType="blob",o.onload=function(){s(o.response,t,r)},o.onerror=function(){console.error("could not download file")},o.send()}function r(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch(e){}return 200<=t.status&&299>=t.status}function o(e){try{e.dispatchEvent(new MouseEvent("click"))}catch(r){var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var n="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof Te&&Te.global===Te?Te:void 0,a=n.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),s=n.saveAs||("object"!=typeof window||window!==n?function(){}:"download"in HTMLAnchorElement.prototype&&!a?function(e,a,s){var i=n.URL||n.webkitURL,c=document.createElement("a");a=a||e.name||"download",c.download=a,c.rel="noopener","string"==typeof e?(c.href=e,c.origin===location.origin?o(c):r(c.href)?t(e,a,s):o(c,c.target="_blank")):(c.href=i.createObjectURL(e),setTimeout((function(){i.revokeObjectURL(c.href)}),4e4),setTimeout((function(){o(c)}),0))}:"msSaveOrOpenBlob"in navigator?function(n,a,s){if(a=a||n.name||"download","string"!=typeof n)navigator.msSaveOrOpenBlob(e(n,s),a);else if(r(n))t(n,a,s);else{var i=document.createElement("a");i.href=n,i.target="_blank",setTimeout((function(){o(i)}))}}:function(e,r,o,s){if((s=s||open("","_blank"))&&(s.document.title=s.document.body.innerText="downloading..."),"string"==typeof e)return t(e,r,o);var i="application/octet-stream"===e.type,c=/constructor/i.test(n.HTMLElement)||n.safari,l=/CriOS\/[\d]+/.test(navigator.userAgent);if((l||i&&c||a)&&"undefined"!=typeof FileReader){var d=new FileReader;d.onloadend=function(){var e=d.result;e=l?e:e.replace(/^data:[^;]*;/,"data:attachment/file;"),s?s.location.href=e:location=e,s=null},d.readAsDataURL(e)}else{var u=n.URL||n.webkitURL,h=u.createObjectURL(e);s?s.location=h:location.href=h,s=null,setTimeout((function(){u.revokeObjectURL(h)}),4e4)}});n.saveAs=s.saveAs=s,Re.exports=s}();var ze,Oe={};ze=Oe,function(e){var t;t=function(t){var r=e.BlobBuilder||e.WebKitBlobBuilder||e.MSBlobBuilder||e.MozBlobBuilder,o=e.URL||e.webkitURL||function(e,t){return(t=document.createElement("a")).href=e,t},n=e.Blob,a=o.createObjectURL,s=o.revokeObjectURL,i=e.Symbol&&e.Symbol.toStringTag,c=!1,l=!1,d=r&&r.prototype.append&&r.prototype.getBlob;try{c=2===new Blob(["Ã¤"]).size,l=2===new Blob([new Uint8Array([1,2])]).size}catch(e){}function u(e){return e.map((function(e){if(e.buffer instanceof ArrayBuffer){var t=e.buffer;if(e.byteLength!==t.byteLength){var r=new Uint8Array(e.byteLength);r.set(new Uint8Array(t,e.byteOffset,e.byteLength)),t=r.buffer}return t}return e}))}function h(e,t){t=t||{};var o=new r;return u(e).forEach((function(e){o.append(e)})),t.type?o.getBlob(t.type):o.getBlob()}function f(e,t){return new n(u(e),t||{})}e.Blob&&(h.prototype=Blob.prototype,f.prototype=Blob.prototype);var p="function"==typeof TextEncoder?TextEncoder.prototype.encode.bind(new TextEncoder):function(t){for(var r=0,o=t.length,n=e.Uint8Array||Array,a=0,s=Math.max(32,o+(o>>1)+7),i=new n(s>>3<<3);r<o;){var c=t.charCodeAt(r++);if(c>=55296&&c<=56319){if(r<o){var l=t.charCodeAt(r);56320==(64512&l)&&(++r,c=((1023&c)<<10)+(1023&l)+65536)}if(c>=55296&&c<=56319)continue}if(a+4>i.length){s+=8,s=(s*=1+r/t.length*2)>>3<<3;var d=new Uint8Array(s);d.set(i),i=d}if(0!=(4294967168&c)){if(0==(4294965248&c))i[a++]=c>>6&31|192;else if(0==(4294901760&c))i[a++]=c>>12&15|224,i[a++]=c>>6&63|128;else{if(0!=(4292870144&c))continue;i[a++]=c>>18&7|240,i[a++]=c>>12&63|128,i[a++]=c>>6&63|128}i[a++]=63&c|128}else i[a++]=c}return i.slice(0,a)},m="function"==typeof TextDecoder?TextDecoder.prototype.decode.bind(new TextDecoder):function(e){for(var t=e.length,r=[],o=0;o<t;){var n,a,s,i,c=e[o],l=null,d=c>239?4:c>223?3:c>191?2:1;if(o+d<=t)switch(d){case 1:c<128&&(l=c);break;case 2:128==(192&(n=e[o+1]))&&(i=(31&c)<<6|63&n)>127&&(l=i);break;case 3:n=e[o+1],a=e[o+2],128==(192&n)&&128==(192&a)&&(i=(15&c)<<12|(63&n)<<6|63&a)>2047&&(i<55296||i>57343)&&(l=i);break;case 4:n=e[o+1],a=e[o+2],s=e[o+3],128==(192&n)&&128==(192&a)&&128==(192&s)&&(i=(15&c)<<18|(63&n)<<12|(63&a)<<6|63&s)>65535&&i<1114112&&(l=i)}null===l?(l=65533,d=1):l>65535&&(l-=65536,r.push(l>>>10&1023|55296),l=56320|1023&l),r.push(l),o+=d}for(var u=r.length,h="",f=0;f<u;)h+=String.fromCharCode.apply(String,r.slice(f,f+=4096));return h};function g(){var r=!!e.ActiveXObject||"-ms-scroll-limit"in document.documentElement.style&&"-ms-ime-align"in document.documentElement.style,o=e.XMLHttpRequest&&e.XMLHttpRequest.prototype.send;r&&o&&(XMLHttpRequest.prototype.send=function(e){e instanceof Blob?(this.setRequestHeader("Content-Type",e.type),o.call(this,e)):o.call(this,e)});try{new File([],""),t.File=e.File,t.FileReader=e.FileReader}catch(e){try{t.File=new Function('class File extends Blob {constructor(chunks, name, opts) {opts = opts || {};super(chunks, opts || {});this.name = name.replace(/\\//g, ":");this.lastModifiedDate = opts.lastModified ? new Date(opts.lastModified) : new Date();this.lastModified = +this.lastModifiedDate;}};return new File([], ""), File')()}catch(e){t.File=function(e,t,r){var o=new Blob(e,r),n=r&&void 0!==r.lastModified?new Date(r.lastModified):new Date;return o.name=t.replace(/\//g,":"),o.lastModifiedDate=n,o.lastModified=+n,o.toString=function(){return"[object File]"},i&&(o[i]="File"),o}}}}c?(g(),t.Blob=l?e.Blob:f):d?(g(),t.Blob=h):function(){function r(e){for(var t=new Array(e.byteLength),r=new Uint8Array(e),o=t.length;o--;)t[o]=r[o];return t}function n(e){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",r=[],o=0;o<e.length;o+=3){var n=e[o],a=o+1<e.length,s=a?e[o+1]:0,i=o+2<e.length,c=i?e[o+2]:0,l=n>>2,d=(3&n)<<4|s>>4,u=(15&s)<<2|c>>6,h=63&c;i||(h=64,a||(u=64)),r.push(t[l],t[d],t[u],t[h])}return r.join("")}var i=Object.create||function(e){function t(){}return t.prototype=e,new t};function c(e){return Object.prototype.toString.call(e).slice(8,-1)}function l(e,t){return"object"==typeof e&&Object.prototype.isPrototypeOf.call(e.prototype,t)}var d=["Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Uint16Array","Int32Array","Uint32Array","Float32Array","Float64Array","ArrayBuffer"];function u(t){return r=d,o=c(t),-1!==r.indexOf(o)||l(e.ArrayBuffer,t);var r,o}function h(t,o){o=null==o?{}:o;for(var n=0,a=(t=t?t.slice():[]).length;n<a;n++){var s=t[n];s instanceof h?t[n]=s._buffer:"string"==typeof s?t[n]=p(s):"DataView"===c(i=s)||l(e.DataView,i)?t[n]=r(s.buffer):u(s)?t[n]=r(s):t[n]=p(String(s))}var i;this._buffer=e.Uint8Array?function(e){for(var t=0,r=e.length;r--;)t+=e[r].length;for(var o=new Uint8Array(t),n=0,a=0;a<e.length;a++){var s=e[a];o.set(s,n),n+=s.byteLength||s.length}return o}(t):[].concat.apply([],t),this.size=this._buffer.length,this.type=o.type||"",/[^\u0020-\u007E]/.test(this.type)?this.type="":this.type=this.type.toLowerCase()}function f(e,t,r){r=r||{};var o=h.call(this,e,r)||this;return o.name=t.replace(/\//g,":"),o.lastModifiedDate=r.lastModified?new Date(r.lastModified):new Date,o.lastModified=+o.lastModifiedDate,o}if(h.prototype.arrayBuffer=function(){return Promise.resolve(this._buffer.buffer||this._buffer)},h.prototype.text=function(){return Promise.resolve(m(this._buffer))},h.prototype.slice=function(e,t,r){return new h([this._buffer.slice(e||0,t||this._buffer.length)],{type:r})},h.prototype.toString=function(){return"[object Blob]"},f.prototype=i(h.prototype),f.prototype.constructor=f,Object.setPrototypeOf)Object.setPrototypeOf(f,h);else try{f.__proto__=h}catch(e){}function g(){if(!(this instanceof g))throw new TypeError("Failed to construct 'FileReader': Please use the 'new' operator, this DOM object constructor cannot be called as a function.");var e=document.createDocumentFragment();this.addEventListener=e.addEventListener,this.dispatchEvent=function(t){var r=this["on"+t.type];"function"==typeof r&&r(t),e.dispatchEvent(t)},this.removeEventListener=e.removeEventListener}function k(e,t,r){if(!(t instanceof h))throw new TypeError("Failed to execute '"+r+"' on 'FileReader': parameter 1 is not of type 'Blob'.");e.result="",setTimeout((function(){this.readyState=g.LOADING,e.dispatchEvent(new Event("load")),e.dispatchEvent(new Event("loadend"))}))}f.prototype.toString=function(){return"[object File]"},g.EMPTY=0,g.LOADING=1,g.DONE=2,g.prototype.error=null,g.prototype.onabort=null,g.prototype.onerror=null,g.prototype.onload=null,g.prototype.onloadend=null,g.prototype.onloadstart=null,g.prototype.onprogress=null,g.prototype.readAsDataURL=function(e){k(this,e,"readAsDataURL"),this.result="data:"+e.type+";base64,"+n(e._buffer)},g.prototype.readAsText=function(e){k(this,e,"readAsText"),this.result=m(e._buffer)},g.prototype.readAsArrayBuffer=function(e){k(this,e,"readAsText"),this.result=(e._buffer.buffer||e._buffer).slice()},g.prototype.abort=function(){},o.createObjectURL=function(e){return e instanceof h?"data:"+e.type+";base64,"+n(e._buffer):a.call(o,e)},o.revokeObjectURL=function(e){s&&s.call(o,e)};var w=e.XMLHttpRequest&&e.XMLHttpRequest.prototype.send;w&&(XMLHttpRequest.prototype.send=function(e){e instanceof h?(this.setRequestHeader("Content-Type",e.type),w.call(this,m(e._buffer))):w.call(this,e)}),t.Blob=h,t.File=f,t.FileReader=g,t.URL=o}(),i&&(t.File.prototype[i]||(t.File.prototype[i]="File"),t.Blob.prototype[i]||(t.Blob.prototype[i]="Blob"),t.FileReader.prototype[i]||(t.FileReader.prototype[i]="FileReader"));var k,w=t.Blob.prototype;try{new ReadableStream({type:"bytes"}),k=function(){var e=0,t=this;return new ReadableStream({type:"bytes",autoAllocateChunkSize:524288,pull:function(r){var o=r.byobRequest.view;return t.slice(e,e+o.byteLength).arrayBuffer().then((function(n){var a=new Uint8Array(n),s=a.byteLength;e+=s,o.set(a),r.byobRequest.respond(s),e>=t.size&&r.close()}))}})}}catch(e){try{new ReadableStream({}),k=function(e){var t=0;return new ReadableStream({pull:function(r){return e.slice(t,t+524288).arrayBuffer().then((function(o){t+=o.byteLength;var n=new Uint8Array(o);r.enqueue(n),t==e.size&&r.close()}))}})}}catch(e){try{new Response("").body.getReader().read(),k=function(){return new Response(this).body}}catch(e){k=function(){throw new Error("Include https://github.com/MattiasBuelens/web-streams-polyfill")}}}}function b(e){return new Promise((function(t,r){e.onload=e.onerror=function(o){e.onload=e.onerror=null,"load"===o.type?t(e.result||e):r(new Error("Failed to read the blob/file"))}}))}w.arrayBuffer||(w.arrayBuffer=function(){var e=new FileReader;return e.readAsArrayBuffer(this),b(e)}),w.text||(w.text=function(){var e=new FileReader;return e.readAsText(this),b(e)}),w.stream||(w.stream=k)},"string"!=typeof ze.nodeName?t(ze):t(e)}("undefined"!=typeof self&&self||"undefined"!=typeof window&&window||void 0!==Te&&Te||Te);const Ne=e=>{let t,r=!1;try{r=!!new Blob}catch(e){}return t=r?new Blob([e],{type:"text/plain"}):new Oe.Blob([e],{type:"text/plain"}),t};function De(t){let r,o,n;return{c(){r=f("button"),r.textContent="Save Base64 File"},m(e,a){d(e,r,a),o||(n=k(r,"click",t[0]),o=!0)},p:e,i:e,o:e,d(e){e&&u(r),o=!1,n()}}}function Ue(e,t,r){let o;c(e,Me,(e=>r(1,o=e)));return[()=>{console.log(o),(async e=>{const{text:t,showSaveFilePickerSupported:r=!1,fileName:o="DoCrypt.txt"}=e,n=Ne(t);if(r){const e=await globalThis.showSaveFilePicker({suggestedName:o,types:[{description:"Text file",accept:{"text/plain":[".txt"]}}]}),t=await e.createWritable();await t.write(n,{type:"text/plain"}),await t.close()}else Ie.exports.saveAs(n,o)})({text:o,fileName:"DoCrypt.txt",showSaveFilePickerSupported:!1})}]}class Fe extends Q{constructor(e){super(),Z(this,e,Ue,De,a,{})}}function qe(t){let r,o,n;return{c(){r=f("button"),r.textContent="Share Base64 File"},m(e,a){d(e,r,a),o||(n=k(r,"click",t[0]),o=!0)},p:e,i:e,o:e,d(e){e&&u(r),o=!1,n()}}}function je(e,t,r){let o;c(e,Me,(e=>r(1,o=e)));return[()=>{const e=Ne(o),t=new File([e],"doCrypt.txt",{type:"text/plain"});navigator.share({text:"",files:[t]})}]}class He extends Q{constructor(e){super(),Z(this,e,je,qe,a,{})}}function Xe(t){let r;return{c(){r=f("div"),r.textContent=`${Ve}`},m(e,t){d(e,r,t)},p:e,i:e,o:e,d(e){e&&u(r)}}}const Ve="Version: 0.0.16 - built on September 27, 2022 18:06:31";class We extends Q{constructor(e){super(),Z(this,e,null,Xe,a,{})}}function Ze(){return{async:!1,baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartLists:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1}}let Qe={async:!1,baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartLists:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1};const Ke=/[&<>"']/,Ye=/[&<>"']/g,Je=/[<>"']|&(?!#?\w+;)/,Ge=/[<>"']|&(?!#?\w+;)/g,et={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},tt=e=>et[e];function rt(e,t){if(t){if(Ke.test(e))return e.replace(Ye,tt)}else if(Je.test(e))return e.replace(Ge,tt);return e}const ot=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/gi;function nt(e){return e.replace(ot,((e,t)=>"colon"===(t=t.toLowerCase())?":":"#"===t.charAt(0)?"x"===t.charAt(1)?String.fromCharCode(parseInt(t.substring(2),16)):String.fromCharCode(+t.substring(1)):""))}const at=/(^|[^\[])\^/g;function st(e,t){e="string"==typeof e?e:e.source,t=t||"";const r={replace:(t,o)=>(o=(o=o.source||o).replace(at,"$1"),e=e.replace(t,o),r),getRegex:()=>new RegExp(e,t)};return r}const it=/[^\w:]/g,ct=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;function lt(e,t,r){if(e){let e;try{e=decodeURIComponent(nt(r)).replace(it,"").toLowerCase()}catch(e){return null}if(0===e.indexOf("javascript:")||0===e.indexOf("vbscript:")||0===e.indexOf("data:"))return null}t&&!ct.test(r)&&(r=function(e,t){dt[" "+e]||(ut.test(e)?dt[" "+e]=e+"/":dt[" "+e]=kt(e,"/",!0));const r=-1===(e=dt[" "+e]).indexOf(":");return"//"===t.substring(0,2)?r?t:e.replace(ht,"$1")+t:"/"===t.charAt(0)?r?t:e.replace(ft,"$1")+t:e+t}(t,r));try{r=encodeURI(r).replace(/%25/g,"%")}catch(e){return null}return r}const dt={},ut=/^[^:]+:\/*[^/]*$/,ht=/^([^:]+:)[\s\S]*$/,ft=/^([^:]+:\/*[^/]*)[\s\S]*$/;const pt={exec:function(){}};function mt(e){let t,r,o=1;for(;o<arguments.length;o++)for(r in t=arguments[o],t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}function gt(e,t){const r=e.replace(/\|/g,((e,t,r)=>{let o=!1,n=t;for(;--n>=0&&"\\"===r[n];)o=!o;return o?"|":" |"})).split(/ \|/);let o=0;if(r[0].trim()||r.shift(),r.length>0&&!r[r.length-1].trim()&&r.pop(),r.length>t)r.splice(t);else for(;r.length<t;)r.push("");for(;o<r.length;o++)r[o]=r[o].trim().replace(/\\\|/g,"|");return r}function kt(e,t,r){const o=e.length;if(0===o)return"";let n=0;for(;n<o;){const a=e.charAt(o-n-1);if(a!==t||r){if(a===t||!r)break;n++}else n++}return e.slice(0,o-n)}function wt(e){e&&e.sanitize&&!e.silent&&console.warn("marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options")}function bt(e,t){if(t<1)return"";let r="";for(;t>1;)1&t&&(r+=e),t>>=1,e+=e;return r+e}function Bt(e,t,r,o){const n=t.href,a=t.title?rt(t.title):null,s=e[1].replace(/\\([\[\]])/g,"$1");if("!"!==e[0].charAt(0)){o.state.inLink=!0;const e={type:"link",raw:r,href:n,title:a,text:s,tokens:o.inlineTokens(s)};return o.state.inLink=!1,e}return{type:"image",raw:r,href:n,title:a,text:rt(s)}}class yt{constructor(e){this.options=e||Qe}space(e){const t=this.rules.block.newline.exec(e);if(t&&t[0].length>0)return{type:"space",raw:t[0]}}code(e){const t=this.rules.block.code.exec(e);if(t){const e=t[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:t[0],codeBlockStyle:"indented",text:this.options.pedantic?e:kt(e,"\n")}}}fences(e){const t=this.rules.block.fences.exec(e);if(t){const e=t[0],r=function(e,t){const r=e.match(/^(\s+)(?:```)/);if(null===r)return t;const o=r[1];return t.split("\n").map((e=>{const t=e.match(/^\s+/);if(null===t)return e;const[r]=t;return r.length>=o.length?e.slice(o.length):e})).join("\n")}(e,t[3]||"");return{type:"code",raw:e,lang:t[2]?t[2].trim():t[2],text:r}}}heading(e){const t=this.rules.block.heading.exec(e);if(t){let e=t[2].trim();if(/#$/.test(e)){const t=kt(e,"#");this.options.pedantic?e=t.trim():t&&!/ $/.test(t)||(e=t.trim())}return{type:"heading",raw:t[0],depth:t[1].length,text:e,tokens:this.lexer.inline(e)}}}hr(e){const t=this.rules.block.hr.exec(e);if(t)return{type:"hr",raw:t[0]}}blockquote(e){const t=this.rules.block.blockquote.exec(e);if(t){const e=t[0].replace(/^ *>[ \t]?/gm,"");return{type:"blockquote",raw:t[0],tokens:this.lexer.blockTokens(e,[]),text:e}}}list(e){let t=this.rules.block.list.exec(e);if(t){let r,o,n,a,s,i,c,l,d,u,h,f,p=t[1].trim();const m=p.length>1,g={type:"list",raw:"",ordered:m,start:m?+p.slice(0,-1):"",loose:!1,items:[]};p=m?`\\d{1,9}\\${p.slice(-1)}`:`\\${p}`,this.options.pedantic&&(p=m?p:"[*+-]");const k=new RegExp(`^( {0,3}${p})((?:[\t ][^\\n]*)?(?:\\n|$))`);for(;e&&(f=!1,t=k.exec(e))&&!this.rules.block.hr.test(e);){if(r=t[0],e=e.substring(r.length),l=t[2].split("\n",1)[0],d=e.split("\n",1)[0],this.options.pedantic?(a=2,h=l.trimLeft()):(a=t[2].search(/[^ ]/),a=a>4?1:a,h=l.slice(a),a+=t[1].length),i=!1,!l&&/^ *$/.test(d)&&(r+=d+"\n",e=e.substring(d.length+1),f=!0),!f){const t=new RegExp(`^ {0,${Math.min(3,a-1)}}(?:[*+-]|\\d{1,9}[.)])((?: [^\\n]*)?(?:\\n|$))`),o=new RegExp(`^ {0,${Math.min(3,a-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),n=new RegExp(`^ {0,${Math.min(3,a-1)}}(?:\`\`\`|~~~)`),s=new RegExp(`^ {0,${Math.min(3,a-1)}}#`);for(;e&&(u=e.split("\n",1)[0],l=u,this.options.pedantic&&(l=l.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),!n.test(l))&&!s.test(l)&&!t.test(l)&&!o.test(e);){if(l.search(/[^ ]/)>=a||!l.trim())h+="\n"+l.slice(a);else{if(i)break;h+="\n"+l}i||l.trim()||(i=!0),r+=u+"\n",e=e.substring(u.length+1)}}g.loose||(c?g.loose=!0:/\n *\n *$/.test(r)&&(c=!0)),this.options.gfm&&(o=/^\[[ xX]\] /.exec(h),o&&(n="[ ] "!==o[0],h=h.replace(/^\[[ xX]\] +/,""))),g.items.push({type:"list_item",raw:r,task:!!o,checked:n,loose:!1,text:h}),g.raw+=r}g.items[g.items.length-1].raw=r.trimRight(),g.items[g.items.length-1].text=h.trimRight(),g.raw=g.raw.trimRight();const w=g.items.length;for(s=0;s<w;s++){this.lexer.state.top=!1,g.items[s].tokens=this.lexer.blockTokens(g.items[s].text,[]);const e=g.items[s].tokens.filter((e=>"space"===e.type)),t=e.every((e=>{const t=e.raw.split("");let r=0;for(const e of t)if("\n"===e&&(r+=1),r>1)return!0;return!1}));!g.loose&&e.length&&t&&(g.loose=!0,g.items[s].loose=!0)}return g}}html(e){const t=this.rules.block.html.exec(e);if(t){const e={type:"html",raw:t[0],pre:!this.options.sanitizer&&("pre"===t[1]||"script"===t[1]||"style"===t[1]),text:t[0]};if(this.options.sanitize){const r=this.options.sanitizer?this.options.sanitizer(t[0]):rt(t[0]);e.type="paragraph",e.text=r,e.tokens=this.lexer.inline(r)}return e}}def(e){const t=this.rules.block.def.exec(e);if(t){t[3]&&(t[3]=t[3].substring(1,t[3].length-1));return{type:"def",tag:t[1].toLowerCase().replace(/\s+/g," "),raw:t[0],href:t[2],title:t[3]}}}table(e){const t=this.rules.block.table.exec(e);if(t){const e={type:"table",header:gt(t[1]).map((e=>({text:e}))),align:t[2].replace(/^ *|\| *$/g,"").split(/ *\| */),rows:t[3]&&t[3].trim()?t[3].replace(/\n[ \t]*$/,"").split("\n"):[]};if(e.header.length===e.align.length){e.raw=t[0];let r,o,n,a,s=e.align.length;for(r=0;r<s;r++)/^ *-+: *$/.test(e.align[r])?e.align[r]="right":/^ *:-+: *$/.test(e.align[r])?e.align[r]="center":/^ *:-+ *$/.test(e.align[r])?e.align[r]="left":e.align[r]=null;for(s=e.rows.length,r=0;r<s;r++)e.rows[r]=gt(e.rows[r],e.header.length).map((e=>({text:e})));for(s=e.header.length,o=0;o<s;o++)e.header[o].tokens=this.lexer.inline(e.header[o].text);for(s=e.rows.length,o=0;o<s;o++)for(a=e.rows[o],n=0;n<a.length;n++)a[n].tokens=this.lexer.inline(a[n].text);return e}}}lheading(e){const t=this.rules.block.lheading.exec(e);if(t)return{type:"heading",raw:t[0],depth:"="===t[2].charAt(0)?1:2,text:t[1],tokens:this.lexer.inline(t[1])}}paragraph(e){const t=this.rules.block.paragraph.exec(e);if(t){const e="\n"===t[1].charAt(t[1].length-1)?t[1].slice(0,-1):t[1];return{type:"paragraph",raw:t[0],text:e,tokens:this.lexer.inline(e)}}}text(e){const t=this.rules.block.text.exec(e);if(t)return{type:"text",raw:t[0],text:t[0],tokens:this.lexer.inline(t[0])}}escape(e){const t=this.rules.inline.escape.exec(e);if(t)return{type:"escape",raw:t[0],text:rt(t[1])}}tag(e){const t=this.rules.inline.tag.exec(e);if(t)return!this.lexer.state.inLink&&/^<a /i.test(t[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(t[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(t[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(t[0])&&(this.lexer.state.inRawBlock=!1),{type:this.options.sanitize?"text":"html",raw:t[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(t[0]):rt(t[0]):t[0]}}link(e){const t=this.rules.inline.link.exec(e);if(t){const e=t[2].trim();if(!this.options.pedantic&&/^</.test(e)){if(!/>$/.test(e))return;const t=kt(e.slice(0,-1),"\\");if((e.length-t.length)%2==0)return}else{const e=function(e,t){if(-1===e.indexOf(t[1]))return-1;const r=e.length;let o=0,n=0;for(;n<r;n++)if("\\"===e[n])n++;else if(e[n]===t[0])o++;else if(e[n]===t[1]&&(o--,o<0))return n;return-1}(t[2],"()");if(e>-1){const r=(0===t[0].indexOf("!")?5:4)+t[1].length+e;t[2]=t[2].substring(0,e),t[0]=t[0].substring(0,r).trim(),t[3]=""}}let r=t[2],o="";if(this.options.pedantic){const e=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(r);e&&(r=e[1],o=e[3])}else o=t[3]?t[3].slice(1,-1):"";return r=r.trim(),/^</.test(r)&&(r=this.options.pedantic&&!/>$/.test(e)?r.slice(1):r.slice(1,-1)),Bt(t,{href:r?r.replace(this.rules.inline._escapes,"$1"):r,title:o?o.replace(this.rules.inline._escapes,"$1"):o},t[0],this.lexer)}}reflink(e,t){let r;if((r=this.rules.inline.reflink.exec(e))||(r=this.rules.inline.nolink.exec(e))){let e=(r[2]||r[1]).replace(/\s+/g," ");if(e=t[e.toLowerCase()],!e||!e.href){const e=r[0].charAt(0);return{type:"text",raw:e,text:e}}return Bt(r,e,r[0],this.lexer)}}emStrong(e,t,r=""){let o=this.rules.inline.emStrong.lDelim.exec(e);if(!o)return;if(o[3]&&r.match(/[\p{L}\p{N}]/u))return;const n=o[1]||o[2]||"";if(!n||n&&(""===r||this.rules.inline.punctuation.exec(r))){const r=o[0].length-1;let n,a,s=r,i=0;const c="*"===o[0][0]?this.rules.inline.emStrong.rDelimAst:this.rules.inline.emStrong.rDelimUnd;for(c.lastIndex=0,t=t.slice(-1*e.length+r);null!=(o=c.exec(t));){if(n=o[1]||o[2]||o[3]||o[4]||o[5]||o[6],!n)continue;if(a=n.length,o[3]||o[4]){s+=a;continue}if((o[5]||o[6])&&r%3&&!((r+a)%3)){i+=a;continue}if(s-=a,s>0)continue;if(a=Math.min(a,a+s+i),Math.min(r,a)%2){const t=e.slice(1,r+o.index+a);return{type:"em",raw:e.slice(0,r+o.index+a+1),text:t,tokens:this.lexer.inlineTokens(t)}}const t=e.slice(2,r+o.index+a-1);return{type:"strong",raw:e.slice(0,r+o.index+a+1),text:t,tokens:this.lexer.inlineTokens(t)}}}}codespan(e){const t=this.rules.inline.code.exec(e);if(t){let e=t[2].replace(/\n/g," ");const r=/[^ ]/.test(e),o=/^ /.test(e)&&/ $/.test(e);return r&&o&&(e=e.substring(1,e.length-1)),e=rt(e,!0),{type:"codespan",raw:t[0],text:e}}}br(e){const t=this.rules.inline.br.exec(e);if(t)return{type:"br",raw:t[0]}}del(e){const t=this.rules.inline.del.exec(e);if(t)return{type:"del",raw:t[0],text:t[2],tokens:this.lexer.inlineTokens(t[2])}}autolink(e,t){const r=this.rules.inline.autolink.exec(e);if(r){let e,o;return"@"===r[2]?(e=rt(this.options.mangle?t(r[1]):r[1]),o="mailto:"+e):(e=rt(r[1]),o=e),{type:"link",raw:r[0],text:e,href:o,tokens:[{type:"text",raw:e,text:e}]}}}url(e,t){let r;if(r=this.rules.inline.url.exec(e)){let e,o;if("@"===r[2])e=rt(this.options.mangle?t(r[0]):r[0]),o="mailto:"+e;else{let t;do{t=r[0],r[0]=this.rules.inline._backpedal.exec(r[0])[0]}while(t!==r[0]);e=rt(r[0]),o="www."===r[1]?"http://"+e:e}return{type:"link",raw:r[0],text:e,href:o,tokens:[{type:"text",raw:e,text:e}]}}}inlineText(e,t){const r=this.rules.inline.text.exec(e);if(r){let e;return e=this.lexer.state.inRawBlock?this.options.sanitize?this.options.sanitizer?this.options.sanitizer(r[0]):rt(r[0]):r[0]:rt(this.options.smartypants?t(r[0]):r[0]),{type:"text",raw:r[0],text:e}}}}const vt={newline:/^(?: *(?:\n|$))+/,code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*\n)|~{3,})([^\n]*)\n(?:|([\s\S]*?)\n)(?: {0,3}\1[~`]* *(?=\n|$)|$)/,hr:/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/,html:"^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))",def:/^ {0,3}\[(label)\]: *(?:\n *)?<?([^\s>]+)>?(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/,table:pt,lheading:/^([^\n]+)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,text:/^[^\n]+/,_label:/(?!\s*\])(?:\\.|[^\[\]\\])+/,_title:/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/};vt.def=st(vt.def).replace("label",vt._label).replace("title",vt._title).getRegex(),vt.bullet=/(?:[*+-]|\d{1,9}[.)])/,vt.listItemStart=st(/^( *)(bull) */).replace("bull",vt.bullet).getRegex(),vt.list=st(vt.list).replace(/bull/g,vt.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+vt.def.source+")").getRegex(),vt._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",vt._comment=/<!--(?!-?>)[\s\S]*?(?:-->|$)/,vt.html=st(vt.html,"i").replace("comment",vt._comment).replace("tag",vt._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),vt.paragraph=st(vt._paragraph).replace("hr",vt.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",vt._tag).getRegex(),vt.blockquote=st(vt.blockquote).replace("paragraph",vt.paragraph).getRegex(),vt.normal=mt({},vt),vt.gfm=mt({},vt.normal,{table:"^ *([^\\n ].*\\|.*)\\n {0,3}(?:\\| *)?(:?-+:? *(?:\\| *:?-+:? *)*)(?:\\| *)?(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"}),vt.gfm.table=st(vt.gfm.table).replace("hr",vt.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",vt._tag).getRegex(),vt.gfm.paragraph=st(vt._paragraph).replace("hr",vt.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("table",vt.gfm.table).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",vt._tag).getRegex(),vt.pedantic=mt({},vt.normal,{html:st("^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:\"[^\"]*\"|'[^']*'|\\s[^'\"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))").replace("comment",vt._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:pt,paragraph:st(vt.normal._paragraph).replace("hr",vt.hr).replace("heading"," *#{1,6} *[^\n]").replace("lheading",vt.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()});const Ct={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:pt,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(ref)\]/,nolink:/^!?\[(ref)\](?:\[\])?/,reflinkSearch:"reflink|nolink(?!\\()",emStrong:{lDelim:/^(?:\*+(?:([punct_])|[^\s*]))|^_+(?:([punct*])|([^\s_]))/,rDelimAst:/^[^_*]*?\_\_[^_*]*?\*[^_*]*?(?=\_\_)|[^*]+(?=[^*])|[punct_](\*+)(?=[\s]|$)|[^punct*_\s](\*+)(?=[punct_\s]|$)|[punct_\s](\*+)(?=[^punct*_\s])|[\s](\*+)(?=[punct_])|[punct_](\*+)(?=[punct_])|[^punct*_\s](\*+)(?=[^punct*_\s])/,rDelimUnd:/^[^_*]*?\*\*[^_*]*?\_[^_*]*?(?=\*\*)|[^_]+(?=[^_])|[punct*](\_+)(?=[\s]|$)|[^punct*_\s](\_+)(?=[punct*\s]|$)|[punct*\s](\_+)(?=[^punct*_\s])|[\s](\_+)(?=[punct*])|[punct*](\_+)(?=[punct*])/},code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:pt,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,punctuation:/^([\spunctuation])/};function Pt(e){return e.replace(/---/g,"â").replace(/--/g,"â").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1â").replace(/'/g,"â").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1â").replace(/"/g,"â").replace(/\.{3}/g,"â¦")}function xt(e){let t,r,o="";const n=e.length;for(t=0;t<n;t++)r=e.charCodeAt(t),Math.random()>.5&&(r="x"+r.toString(16)),o+="&#"+r+";";return o}Ct._punctuation="!\"#$%&'()+\\-.,/:;<=>?@\\[\\]`^{|}~",Ct.punctuation=st(Ct.punctuation).replace(/punctuation/g,Ct._punctuation).getRegex(),Ct.blockSkip=/\[[^\]]*?\]\([^\)]*?\)|`[^`]*?`|<[^>]*?>/g,Ct.escapedEmSt=/\\\*|\\_/g,Ct._comment=st(vt._comment).replace("(?:--\x3e|$)","--\x3e").getRegex(),Ct.emStrong.lDelim=st(Ct.emStrong.lDelim).replace(/punct/g,Ct._punctuation).getRegex(),Ct.emStrong.rDelimAst=st(Ct.emStrong.rDelimAst,"g").replace(/punct/g,Ct._punctuation).getRegex(),Ct.emStrong.rDelimUnd=st(Ct.emStrong.rDelimUnd,"g").replace(/punct/g,Ct._punctuation).getRegex(),Ct._escapes=/\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/g,Ct._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/,Ct._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/,Ct.autolink=st(Ct.autolink).replace("scheme",Ct._scheme).replace("email",Ct._email).getRegex(),Ct._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/,Ct.tag=st(Ct.tag).replace("comment",Ct._comment).replace("attribute",Ct._attribute).getRegex(),Ct._label=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,Ct._href=/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/,Ct._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/,Ct.link=st(Ct.link).replace("label",Ct._label).replace("href",Ct._href).replace("title",Ct._title).getRegex(),Ct.reflink=st(Ct.reflink).replace("label",Ct._label).replace("ref",vt._label).getRegex(),Ct.nolink=st(Ct.nolink).replace("ref",vt._label).getRegex(),Ct.reflinkSearch=st(Ct.reflinkSearch,"g").replace("reflink",Ct.reflink).replace("nolink",Ct.nolink).getRegex(),Ct.normal=mt({},Ct),Ct.pedantic=mt({},Ct.normal,{strong:{start:/^__|\*\*/,middle:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,endAst:/\*\*(?!\*)/g,endUnd:/__(?!_)/g},em:{start:/^_|\*/,middle:/^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,endAst:/\*(?!\*)/g,endUnd:/_(?!_)/g},link:st(/^!?\[(label)\]\((.*?)\)/).replace("label",Ct._label).getRegex(),reflink:st(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",Ct._label).getRegex()}),Ct.gfm=mt({},Ct.normal,{escape:st(Ct.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/}),Ct.gfm.url=st(Ct.gfm.url,"i").replace("email",Ct.gfm._extended_email).getRegex(),Ct.breaks=mt({},Ct.gfm,{br:st(Ct.br).replace("{2,}","*").getRegex(),text:st(Ct.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()});class $t{constructor(e){this.tokens=[],this.tokens.links=Object.create(null),this.options=e||Qe,this.options.tokenizer=this.options.tokenizer||new yt,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};const t={block:vt.normal,inline:Ct.normal};this.options.pedantic?(t.block=vt.pedantic,t.inline=Ct.pedantic):this.options.gfm&&(t.block=vt.gfm,this.options.breaks?t.inline=Ct.breaks:t.inline=Ct.gfm),this.tokenizer.rules=t}static get rules(){return{block:vt,inline:Ct}}static lex(e,t){return new $t(t).lex(e)}static lexInline(e,t){return new $t(t).inlineTokens(e)}lex(e){let t;for(e=e.replace(/\r\n|\r/g,"\n"),this.blockTokens(e,this.tokens);t=this.inlineQueue.shift();)this.inlineTokens(t.src,t.tokens);return this.tokens}blockTokens(e,t=[]){let r,o,n,a;for(e=this.options.pedantic?e.replace(/\t/g,"    ").replace(/^ +$/gm,""):e.replace(/^( *)(\t+)/gm,((e,t,r)=>t+"    ".repeat(r.length)));e;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some((o=>!!(r=o.call({lexer:this},e,t))&&(e=e.substring(r.raw.length),t.push(r),!0)))))if(r=this.tokenizer.space(e))e=e.substring(r.raw.length),1===r.raw.length&&t.length>0?t[t.length-1].raw+="\n":t.push(r);else if(r=this.tokenizer.code(e))e=e.substring(r.raw.length),o=t[t.length-1],!o||"paragraph"!==o.type&&"text"!==o.type?t.push(r):(o.raw+="\n"+r.raw,o.text+="\n"+r.text,this.inlineQueue[this.inlineQueue.length-1].src=o.text);else if(r=this.tokenizer.fences(e))e=e.substring(r.raw.length),t.push(r);else if(r=this.tokenizer.heading(e))e=e.substring(r.raw.length),t.push(r);else if(r=this.tokenizer.hr(e))e=e.substring(r.raw.length),t.push(r);else if(r=this.tokenizer.blockquote(e))e=e.substring(r.raw.length),t.push(r);else if(r=this.tokenizer.list(e))e=e.substring(r.raw.length),t.push(r);else if(r=this.tokenizer.html(e))e=e.substring(r.raw.length),t.push(r);else if(r=this.tokenizer.def(e))e=e.substring(r.raw.length),o=t[t.length-1],!o||"paragraph"!==o.type&&"text"!==o.type?this.tokens.links[r.tag]||(this.tokens.links[r.tag]={href:r.href,title:r.title}):(o.raw+="\n"+r.raw,o.text+="\n"+r.raw,this.inlineQueue[this.inlineQueue.length-1].src=o.text);else if(r=this.tokenizer.table(e))e=e.substring(r.raw.length),t.push(r);else if(r=this.tokenizer.lheading(e))e=e.substring(r.raw.length),t.push(r);else{if(n=e,this.options.extensions&&this.options.extensions.startBlock){let t=1/0;const r=e.slice(1);let o;this.options.extensions.startBlock.forEach((function(e){o=e.call({lexer:this},r),"number"==typeof o&&o>=0&&(t=Math.min(t,o))})),t<1/0&&t>=0&&(n=e.substring(0,t+1))}if(this.state.top&&(r=this.tokenizer.paragraph(n)))o=t[t.length-1],a&&"paragraph"===o.type?(o.raw+="\n"+r.raw,o.text+="\n"+r.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=o.text):t.push(r),a=n.length!==e.length,e=e.substring(r.raw.length);else if(r=this.tokenizer.text(e))e=e.substring(r.raw.length),o=t[t.length-1],o&&"text"===o.type?(o.raw+="\n"+r.raw,o.text+="\n"+r.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=o.text):t.push(r);else if(e){const t="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(t);break}throw new Error(t)}}return this.state.top=!0,t}inline(e,t=[]){return this.inlineQueue.push({src:e,tokens:t}),t}inlineTokens(e,t=[]){let r,o,n,a,s,i,c=e;if(this.tokens.links){const e=Object.keys(this.tokens.links);if(e.length>0)for(;null!=(a=this.tokenizer.rules.inline.reflinkSearch.exec(c));)e.includes(a[0].slice(a[0].lastIndexOf("[")+1,-1))&&(c=c.slice(0,a.index)+"["+bt("a",a[0].length-2)+"]"+c.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;null!=(a=this.tokenizer.rules.inline.blockSkip.exec(c));)c=c.slice(0,a.index)+"["+bt("a",a[0].length-2)+"]"+c.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;null!=(a=this.tokenizer.rules.inline.escapedEmSt.exec(c));)c=c.slice(0,a.index)+"++"+c.slice(this.tokenizer.rules.inline.escapedEmSt.lastIndex);for(;e;)if(s||(i=""),s=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some((o=>!!(r=o.call({lexer:this},e,t))&&(e=e.substring(r.raw.length),t.push(r),!0)))))if(r=this.tokenizer.escape(e))e=e.substring(r.raw.length),t.push(r);else if(r=this.tokenizer.tag(e))e=e.substring(r.raw.length),o=t[t.length-1],o&&"text"===r.type&&"text"===o.type?(o.raw+=r.raw,o.text+=r.text):t.push(r);else if(r=this.tokenizer.link(e))e=e.substring(r.raw.length),t.push(r);else if(r=this.tokenizer.reflink(e,this.tokens.links))e=e.substring(r.raw.length),o=t[t.length-1],o&&"text"===r.type&&"text"===o.type?(o.raw+=r.raw,o.text+=r.text):t.push(r);else if(r=this.tokenizer.emStrong(e,c,i))e=e.substring(r.raw.length),t.push(r);else if(r=this.tokenizer.codespan(e))e=e.substring(r.raw.length),t.push(r);else if(r=this.tokenizer.br(e))e=e.substring(r.raw.length),t.push(r);else if(r=this.tokenizer.del(e))e=e.substring(r.raw.length),t.push(r);else if(r=this.tokenizer.autolink(e,xt))e=e.substring(r.raw.length),t.push(r);else if(this.state.inLink||!(r=this.tokenizer.url(e,xt))){if(n=e,this.options.extensions&&this.options.extensions.startInline){let t=1/0;const r=e.slice(1);let o;this.options.extensions.startInline.forEach((function(e){o=e.call({lexer:this},r),"number"==typeof o&&o>=0&&(t=Math.min(t,o))})),t<1/0&&t>=0&&(n=e.substring(0,t+1))}if(r=this.tokenizer.inlineText(n,Pt))e=e.substring(r.raw.length),"_"!==r.raw.slice(-1)&&(i=r.raw.slice(-1)),s=!0,o=t[t.length-1],o&&"text"===o.type?(o.raw+=r.raw,o.text+=r.text):t.push(r);else if(e){const t="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(t);break}throw new Error(t)}}else e=e.substring(r.raw.length),t.push(r);return t}}class _t{constructor(e){this.options=e||Qe}code(e,t,r){const o=(t||"").match(/\S*/)[0];if(this.options.highlight){const t=this.options.highlight(e,o);null!=t&&t!==e&&(r=!0,e=t)}return e=e.replace(/\n$/,"")+"\n",o?'<pre><code class="'+this.options.langPrefix+rt(o,!0)+'">'+(r?e:rt(e,!0))+"</code></pre>\n":"<pre><code>"+(r?e:rt(e,!0))+"</code></pre>\n"}blockquote(e){return`<blockquote>\n${e}</blockquote>\n`}html(e){return e}heading(e,t,r,o){if(this.options.headerIds){return`<h${t} id="${this.options.headerPrefix+o.slug(r)}">${e}</h${t}>\n`}return`<h${t}>${e}</h${t}>\n`}hr(){return this.options.xhtml?"<hr/>\n":"<hr>\n"}list(e,t,r){const o=t?"ol":"ul";return"<"+o+(t&&1!==r?' start="'+r+'"':"")+">\n"+e+"</"+o+">\n"}listitem(e){return`<li>${e}</li>\n`}checkbox(e){return"<input "+(e?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "}paragraph(e){return`<p>${e}</p>\n`}table(e,t){return t&&(t=`<tbody>${t}</tbody>`),"<table>\n<thead>\n"+e+"</thead>\n"+t+"</table>\n"}tablerow(e){return`<tr>\n${e}</tr>\n`}tablecell(e,t){const r=t.header?"th":"td";return(t.align?`<${r} align="${t.align}">`:`<${r}>`)+e+`</${r}>\n`}strong(e){return`<strong>${e}</strong>`}em(e){return`<em>${e}</em>`}codespan(e){return`<code>${e}</code>`}br(){return this.options.xhtml?"<br/>":"<br>"}del(e){return`<del>${e}</del>`}link(e,t,r){if(null===(e=lt(this.options.sanitize,this.options.baseUrl,e)))return r;let o='<a href="'+rt(e)+'"';return t&&(o+=' title="'+t+'"'),o+=">"+r+"</a>",o}image(e,t,r){if(null===(e=lt(this.options.sanitize,this.options.baseUrl,e)))return r;let o=`<img src="${e}" alt="${r}"`;return t&&(o+=` title="${t}"`),o+=this.options.xhtml?"/>":">",o}text(e){return e}}class At{strong(e){return e}em(e){return e}codespan(e){return e}del(e){return e}html(e){return e}text(e){return e}link(e,t,r){return""+r}image(e,t,r){return""+r}br(){return""}}class Et{constructor(){this.seen={}}serialize(e){return e.toLowerCase().trim().replace(/<[!\/a-z].*?>/gi,"").replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-")}getNextSafeSlug(e,t){let r=e,o=0;if(this.seen.hasOwnProperty(r)){o=this.seen[e];do{o++,r=e+"-"+o}while(this.seen.hasOwnProperty(r))}return t||(this.seen[e]=o,this.seen[r]=0),r}slug(e,t={}){const r=this.serialize(e);return this.getNextSafeSlug(r,t.dryrun)}}class St{constructor(e){this.options=e||Qe,this.options.renderer=this.options.renderer||new _t,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new At,this.slugger=new Et}static parse(e,t){return new St(t).parse(e)}static parseInline(e,t){return new St(t).parseInline(e)}parse(e,t=!0){let r,o,n,a,s,i,c,l,d,u,h,f,p,m,g,k,w,b,B,y="";const v=e.length;for(r=0;r<v;r++)if(u=e[r],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[u.type]&&(B=this.options.extensions.renderers[u.type].call({parser:this},u),!1!==B||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(u.type)))y+=B||"";else switch(u.type){case"space":continue;case"hr":y+=this.renderer.hr();continue;case"heading":y+=this.renderer.heading(this.parseInline(u.tokens),u.depth,nt(this.parseInline(u.tokens,this.textRenderer)),this.slugger);continue;case"code":y+=this.renderer.code(u.text,u.lang,u.escaped);continue;case"table":for(l="",c="",a=u.header.length,o=0;o<a;o++)c+=this.renderer.tablecell(this.parseInline(u.header[o].tokens),{header:!0,align:u.align[o]});for(l+=this.renderer.tablerow(c),d="",a=u.rows.length,o=0;o<a;o++){for(i=u.rows[o],c="",s=i.length,n=0;n<s;n++)c+=this.renderer.tablecell(this.parseInline(i[n].tokens),{header:!1,align:u.align[n]});d+=this.renderer.tablerow(c)}y+=this.renderer.table(l,d);continue;case"blockquote":d=this.parse(u.tokens),y+=this.renderer.blockquote(d);continue;case"list":for(h=u.ordered,f=u.start,p=u.loose,a=u.items.length,d="",o=0;o<a;o++)g=u.items[o],k=g.checked,w=g.task,m="",g.task&&(b=this.renderer.checkbox(k),p?g.tokens.length>0&&"paragraph"===g.tokens[0].type?(g.tokens[0].text=b+" "+g.tokens[0].text,g.tokens[0].tokens&&g.tokens[0].tokens.length>0&&"text"===g.tokens[0].tokens[0].type&&(g.tokens[0].tokens[0].text=b+" "+g.tokens[0].tokens[0].text)):g.tokens.unshift({type:"text",text:b}):m+=b),m+=this.parse(g.tokens,p),d+=this.renderer.listitem(m,w,k);y+=this.renderer.list(d,h,f);continue;case"html":y+=this.renderer.html(u.text);continue;case"paragraph":y+=this.renderer.paragraph(this.parseInline(u.tokens));continue;case"text":for(d=u.tokens?this.parseInline(u.tokens):u.text;r+1<v&&"text"===e[r+1].type;)u=e[++r],d+="\n"+(u.tokens?this.parseInline(u.tokens):u.text);y+=t?this.renderer.paragraph(d):d;continue;default:{const e='Token with "'+u.type+'" type was not found.';if(this.options.silent)return void console.error(e);throw new Error(e)}}return y}parseInline(e,t){t=t||this.renderer;let r,o,n,a="";const s=e.length;for(r=0;r<s;r++)if(o=e[r],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[o.type]&&(n=this.options.extensions.renderers[o.type].call({parser:this},o),!1!==n||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(o.type)))a+=n||"";else switch(o.type){case"escape":case"text":a+=t.text(o.text);break;case"html":a+=t.html(o.text);break;case"link":a+=t.link(o.href,o.title,this.parseInline(o.tokens,t));break;case"image":a+=t.image(o.href,o.title,o.text);break;case"strong":a+=t.strong(this.parseInline(o.tokens,t));break;case"em":a+=t.em(this.parseInline(o.tokens,t));break;case"codespan":a+=t.codespan(o.text);break;case"br":a+=t.br();break;case"del":a+=t.del(this.parseInline(o.tokens,t));break;default:{const e='Token with "'+o.type+'" type was not found.';if(this.options.silent)return void console.error(e);throw new Error(e)}}return a}}function Lt(e,t,r){if(null==e)throw new Error("marked(): input parameter is undefined or null");if("string"!=typeof e)throw new Error("marked(): input parameter is of type "+Object.prototype.toString.call(e)+", string expected");if("function"==typeof t&&(r=t,t=null),wt(t=mt({},Lt.defaults,t||{})),r){const o=t.highlight;let n;try{n=$t.lex(e,t)}catch(e){return r(e)}const a=function(e){let a;if(!e)try{t.walkTokens&&Lt.walkTokens(n,t.walkTokens),a=St.parse(n,t)}catch(t){e=t}return t.highlight=o,e?r(e):r(null,a)};if(!o||o.length<3)return a();if(delete t.highlight,!n.length)return a();let s=0;return Lt.walkTokens(n,(function(e){"code"===e.type&&(s++,setTimeout((()=>{o(e.text,e.lang,(function(t,r){if(t)return a(t);null!=r&&r!==e.text&&(e.text=r,e.escaped=!0),s--,0===s&&a()}))}),0))})),void(0===s&&a())}function o(e){if(e.message+="\nPlease report this to https://github.com/markedjs/marked.",t.silent)return"<p>An error occurred:</p><pre>"+rt(e.message+"",!0)+"</pre>";throw e}try{const r=$t.lex(e,t);if(t.walkTokens){if(t.async)return Promise.all(Lt.walkTokens(r,t.walkTokens)).then((()=>St.parse(r,t))).catch(o);Lt.walkTokens(r,t.walkTokens)}return St.parse(r,t)}catch(e){o(e)}}Lt.options=Lt.setOptions=function(e){var t;return mt(Lt.defaults,e),t=Lt.defaults,Qe=t,Lt},Lt.getDefaults=Ze,Lt.defaults=Qe,Lt.use=function(...e){const t=mt({},...e),r=Lt.defaults.extensions||{renderers:{},childTokens:{}};let o;e.forEach((e=>{if(e.extensions&&(o=!0,e.extensions.forEach((e=>{if(!e.name)throw new Error("extension name required");if(e.renderer){const t=r.renderers?r.renderers[e.name]:null;r.renderers[e.name]=t?function(...r){let o=e.renderer.apply(this,r);return!1===o&&(o=t.apply(this,r)),o}:e.renderer}if(e.tokenizer){if(!e.level||"block"!==e.level&&"inline"!==e.level)throw new Error("extension level must be 'block' or 'inline'");r[e.level]?r[e.level].unshift(e.tokenizer):r[e.level]=[e.tokenizer],e.start&&("block"===e.level?r.startBlock?r.startBlock.push(e.start):r.startBlock=[e.start]:"inline"===e.level&&(r.startInline?r.startInline.push(e.start):r.startInline=[e.start]))}e.childTokens&&(r.childTokens[e.name]=e.childTokens)}))),e.renderer){const r=Lt.defaults.renderer||new _t;for(const t in e.renderer){const o=r[t];r[t]=(...n)=>{let a=e.renderer[t].apply(r,n);return!1===a&&(a=o.apply(r,n)),a}}t.renderer=r}if(e.tokenizer){const r=Lt.defaults.tokenizer||new yt;for(const t in e.tokenizer){const o=r[t];r[t]=(...n)=>{let a=e.tokenizer[t].apply(r,n);return!1===a&&(a=o.apply(r,n)),a}}t.tokenizer=r}if(e.walkTokens){const r=Lt.defaults.walkTokens;t.walkTokens=function(t){let o=[];return o.push(e.walkTokens.call(this,t)),r&&(o=o.concat(r.call(this,t))),o}}o&&(t.extensions=r),Lt.setOptions(t)}))},Lt.walkTokens=function(e,t){let r=[];for(const o of e)switch(r=r.concat(t.call(Lt,o)),o.type){case"table":for(const e of o.header)r=r.concat(Lt.walkTokens(e.tokens,t));for(const e of o.rows)for(const o of e)r=r.concat(Lt.walkTokens(o.tokens,t));break;case"list":r=r.concat(Lt.walkTokens(o.items,t));break;default:Lt.defaults.extensions&&Lt.defaults.extensions.childTokens&&Lt.defaults.extensions.childTokens[o.type]?Lt.defaults.extensions.childTokens[o.type].forEach((function(e){r=r.concat(Lt.walkTokens(o[e],t))})):o.tokens&&(r=r.concat(Lt.walkTokens(o.tokens,t)))}return r},Lt.parseInline=function(e,t){if(null==e)throw new Error("marked.parseInline(): input parameter is undefined or null");if("string"!=typeof e)throw new Error("marked.parseInline(): input parameter is of type "+Object.prototype.toString.call(e)+", string expected");wt(t=mt({},Lt.defaults,t||{}));try{const r=$t.lexInline(e,t);return t.walkTokens&&Lt.walkTokens(r,t.walkTokens),St.parseInline(r,t)}catch(e){if(e.message+="\nPlease report this to https://github.com/markedjs/marked.",t.silent)return"<p>An error occurred:</p><pre>"+rt(e.message+"",!0)+"</pre>";throw e}},Lt.Parser=St,Lt.parser=St.parse,Lt.Renderer=_t,Lt.TextRenderer=At,Lt.Lexer=$t,Lt.lexer=$t.lex,Lt.Tokenizer=yt,Lt.Slugger=Et,Lt.parse=Lt,Lt.options,Lt.setOptions,Lt.use,Lt.walkTokens,Lt.parseInline,St.parse,$t.lex;const Mt="function"==typeof atob,Rt="function"==typeof btoa,Tt="function"==typeof Buffer,It="function"==typeof TextDecoder?new TextDecoder:void 0,zt="function"==typeof TextEncoder?new TextEncoder:void 0,Ot=Array.prototype.slice.call("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="),Nt=(e=>{let t={};return e.forEach(((e,r)=>t[e]=r)),t})(Ot),Dt=/^(?:[A-Za-z\d+\/]{4})*?(?:[A-Za-z\d+\/]{2}(?:==)?|[A-Za-z\d+\/]{3}=?)?$/,Ut=String.fromCharCode.bind(String),Ft="function"==typeof Uint8Array.from?Uint8Array.from.bind(Uint8Array):(e,t=(e=>e))=>new Uint8Array(Array.prototype.slice.call(e,0).map(t)),qt=e=>e.replace(/=/g,"").replace(/[+\/]/g,(e=>"+"==e?"-":"_")),jt=e=>e.replace(/[^A-Za-z0-9\+\/]/g,""),Ht=e=>{let t,r,o,n,a="";const s=e.length%3;for(let s=0;s<e.length;){if((r=e.charCodeAt(s++))>255||(o=e.charCodeAt(s++))>255||(n=e.charCodeAt(s++))>255)throw new TypeError("invalid character found");t=r<<16|o<<8|n,a+=Ot[t>>18&63]+Ot[t>>12&63]+Ot[t>>6&63]+Ot[63&t]}return s?a.slice(0,s-3)+"===".substring(s):a},Xt=Rt?e=>btoa(e):Tt?e=>Buffer.from(e,"binary").toString("base64"):Ht,Vt=Tt?e=>Buffer.from(e).toString("base64"):e=>{let t=[];for(let r=0,o=e.length;r<o;r+=4096)t.push(Ut.apply(null,e.subarray(r,r+4096)));return Xt(t.join(""))},Wt=e=>{if(e.length<2)return(t=e.charCodeAt(0))<128?e:t<2048?Ut(192|t>>>6)+Ut(128|63&t):Ut(224|t>>>12&15)+Ut(128|t>>>6&63)+Ut(128|63&t);var t=65536+1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320);return Ut(240|t>>>18&7)+Ut(128|t>>>12&63)+Ut(128|t>>>6&63)+Ut(128|63&t)},Zt=/[\uD800-\uDBFF][\uDC00-\uDFFFF]|[^\x00-\x7F]/g,Qt=e=>e.replace(Zt,Wt),Kt=Tt?e=>Buffer.from(e,"utf8").toString("base64"):zt?e=>Vt(zt.encode(e)):e=>Xt(Qt(e)),Yt=(e,t=!1)=>t?qt(Kt(e)):Kt(e),Jt=/[\xC0-\xDF][\x80-\xBF]|[\xE0-\xEF][\x80-\xBF]{2}|[\xF0-\xF7][\x80-\xBF]{3}/g,Gt=e=>{switch(e.length){case 4:var t=((7&e.charCodeAt(0))<<18|(63&e.charCodeAt(1))<<12|(63&e.charCodeAt(2))<<6|63&e.charCodeAt(3))-65536;return Ut(55296+(t>>>10))+Ut(56320+(1023&t));case 3:return Ut((15&e.charCodeAt(0))<<12|(63&e.charCodeAt(1))<<6|63&e.charCodeAt(2));default:return Ut((31&e.charCodeAt(0))<<6|63&e.charCodeAt(1))}},er=e=>e.replace(Jt,Gt),tr=e=>{if(e=e.replace(/\s+/g,""),!Dt.test(e))throw new TypeError("malformed base64.");e+="==".slice(2-(3&e.length));let t,r,o,n="";for(let a=0;a<e.length;)t=Nt[e.charAt(a++)]<<18|Nt[e.charAt(a++)]<<12|(r=Nt[e.charAt(a++)])<<6|(o=Nt[e.charAt(a++)]),n+=64===r?Ut(t>>16&255):64===o?Ut(t>>16&255,t>>8&255):Ut(t>>16&255,t>>8&255,255&t);return n},rr=Mt?e=>atob(jt(e)):Tt?e=>Buffer.from(e,"base64").toString("binary"):tr,or=Tt?e=>Ft(Buffer.from(e,"base64")):e=>Ft(rr(e),(e=>e.charCodeAt(0))),nr=Tt?e=>Buffer.from(e,"base64").toString("utf8"):It?e=>It.decode(or(e)):e=>er(rr(e)),ar=e=>jt(e.replace(/[-_]/g,(e=>"-"==e?"+":"/"))),sr=e=>nr(ar(e)),ir=Yt,cr=sr;function lr(e){let t,r;return t=new ne({props:{c:"menu",v:"showPlainText"}}),{c(){H(t.$$.fragment)},m(e,o){X(t,e,o),r=!0},i(e){r||(q(t.$$.fragment,e),r=!0)},o(e){j(t.$$.fragment,e),r=!1},d(e){V(t,e)}}}function dr(e){let t,r;return t=new ne({props:{c:"menu",v:"showRenderedText"}}),{c(){H(t.$$.fragment)},m(e,o){X(t,e,o),r=!0},i(e){r||(q(t.$$.fragment,e),r=!0)},o(e){j(t.$$.fragment,e),r=!1},d(e){V(t,e)}}}function ur(e){let t,r,o=Lt(e[0])+"";return{c(){t=new P(!1),r=g(),t.a=r},m(e,n){t.m(o,e,n),d(e,r,n)},p(e,r){1&r&&o!==(o=Lt(e[0])+"")&&t.p(o)},d(e){e&&u(r),e&&t.d()}}}function hr(e){let t,r,n;return{c(){t=f("textarea"),w(t,"class","svelte-ebzv1t")},m(o,a){d(o,t,a),e[4](t),B(t,e[0]),r||(n=[k(t,"input",e[5]),k(t,"keydown",e[6])],r=!0)},p(e,r){1&r&&B(t,e[0])},d(a){a&&u(t),e[4](null),r=!1,o(n)}}}function fr(e){let t,r,o,n,a,s,i,c;const h=[dr,lr],p=[];function g(e,t){return e[2]?0:1}function w(e,t){return e[2]?hr:ur}o=g(e),n=p[o]=h[o](e);let b=w(e),B=b(e);return{c(){t=f("section"),r=f("button"),n.c(),a=m(),B.c()},m(n,u){d(n,t,u),l(t,r),p[o].m(r,null),l(t,a),B.m(t,null),s=!0,i||(c=k(r,"click",e[3]),i=!0)},p(e,[a]){let s=o;o=g(e),o!==s&&(U(),j(p[s],1,1,(()=>{p[s]=null})),F(),n=p[o],n||(n=p[o]=h[o](e),n.c()),q(n,1),n.m(r,null)),b===(b=w(e))&&B?B.p(e,a):(B.d(1),B=b(e),B&&(B.c(),B.m(t,null)))},i(e){s||(q(n),s=!0)},o(e){j(n),s=!1},d(e){e&&u(t),p[o].d(),B.d(),i=!1,c()}}}function pr(e,t,r){let o,n="",a=!0;return e.$$.update=()=>{if(1&e.$$.dirty){const e={name:"message.txt",type:"text/plain",size:n.length,base64:ir(n,!0)};Me.set(JSON.stringify(e))}},[n,o,a,()=>r(2,a=!a),function(e){A[e?"unshift":"push"]((()=>{o=e,r(1,o)}))},function(){n=this.value,r(0,n)},e=>{if("Tab"==e.key){e.preventDefault();const t=o.selectionStart,n=o.selectionEnd;r(1,o.value=o.value.substring(0,t)+"\t"+o.value.substring(n),o),r(1,o.selectionStart=r(1,o.selectionEnd=t+1,o),o)}}]}class mr extends Q{constructor(e){super(),Z(this,e,pr,fr,a,{})}}var gr={exports:{}};!function(e){var t={cipher:{},hash:{},keyexchange:{},mode:{},misc:{},codec:{},exception:{corrupt:function(e){this.toString=function(){return"CORRUPT: "+this.message},this.message=e},invalid:function(e){this.toString=function(){return"INVALID: "+this.message},this.message=e},bug:function(e){this.toString=function(){return"BUG: "+this.message},this.message=e},notReady:function(e){this.toString=function(){return"NOT READY: "+this.message},this.message=e}}};function r(e,r,o){if(4!==r.length)throw new t.exception.invalid("invalid aes block size");var n=e.b[o],a=r[0]^n[0],s=r[o?3:1]^n[1],i=r[2]^n[2];r=r[o?1:3]^n[3];var c,l,d,u,h=n.length/4-2,f=4,p=[0,0,0,0];e=(c=e.s[o])[0];var m=c[1],g=c[2],k=c[3],w=c[4];for(u=0;u<h;u++)c=e[a>>>24]^m[s>>16&255]^g[i>>8&255]^k[255&r]^n[f],l=e[s>>>24]^m[i>>16&255]^g[r>>8&255]^k[255&a]^n[f+1],d=e[i>>>24]^m[r>>16&255]^g[a>>8&255]^k[255&s]^n[f+2],r=e[r>>>24]^m[a>>16&255]^g[s>>8&255]^k[255&i]^n[f+3],f+=4,a=c,s=l,i=d;for(u=0;4>u;u++)p[o?3&-u:u]=w[a>>>24]<<24^w[s>>16&255]<<16^w[i>>8&255]<<8^w[255&r]^n[f++],c=a,a=s,s=i,i=r,r=c;return p}function o(e,t){var r,o,n,a=e.F,s=e.b,i=a[0],c=a[1],l=a[2],d=a[3],u=a[4],h=a[5],f=a[6],p=a[7];for(r=0;64>r;r++)16>r?o=t[r]:(o=t[r+1&15],n=t[r+14&15],o=t[15&r]=(o>>>7^o>>>18^o>>>3^o<<25^o<<14)+(n>>>17^n>>>19^n>>>10^n<<15^n<<13)+t[15&r]+t[r+9&15]|0),o=o+p+(u>>>6^u>>>11^u>>>25^u<<26^u<<21^u<<7)+(f^u&(h^f))+s[r],p=f,f=h,h=u,u=d+o|0,d=l,l=c,i=o+((c=i)&l^d&(c^l))+(c>>>2^c>>>13^c>>>22^c<<30^c<<19^c<<10)|0;a[0]=a[0]+i|0,a[1]=a[1]+c|0,a[2]=a[2]+l|0,a[3]=a[3]+d|0,a[4]=a[4]+u|0,a[5]=a[5]+h|0,a[6]=a[6]+f|0,a[7]=a[7]+p|0}function n(e,r){var o,n=t.random.K[e],a=[];for(o in n)n.hasOwnProperty(o)&&a.push(n[o]);for(o=0;o<a.length;o++)a[o](r)}function a(e,t){"undefined"!=typeof window&&window.performance&&"function"==typeof window.performance.now?e.addEntropy(window.performance.now(),t,"loadtime"):e.addEntropy((new Date).valueOf(),t,"loadtime")}function s(e){e.b=i(e).concat(i(e)),e.L=new t.cipher.aes(e.b)}function i(e){for(var t=0;4>t&&(e.h[t]=e.h[t]+1|0,!e.h[t]);t++);return e.L.encrypt(e.h)}function c(e,t){return function(){t.apply(e,arguments)}}t.cipher.aes=function(e){this.s[0][0][0]||this.O();var r,o,n,a,s=this.s[0][4],i=this.s[1],c=1;if(4!==(r=e.length)&&6!==r&&8!==r)throw new t.exception.invalid("invalid aes key size");for(this.b=[n=e.slice(0),a=[]],e=r;e<4*r+28;e++)o=n[e-1],(0==e%r||8===r&&4==e%r)&&(o=s[o>>>24]<<24^s[o>>16&255]<<16^s[o>>8&255]<<8^s[255&o],0==e%r&&(o=o<<8^o>>>24^c<<24,c=c<<1^283*(c>>7))),n[e]=n[e-r]^o;for(r=0;e;r++,e--)o=n[3&r?e:e-4],a[r]=4>=e||4>r?o:i[0][s[o>>>24]]^i[1][s[o>>16&255]]^i[2][s[o>>8&255]]^i[3][s[255&o]]},t.cipher.aes.prototype={encrypt:function(e){return r(this,e,0)},decrypt:function(e){return r(this,e,1)},s:[[[],[],[],[],[]],[[],[],[],[],[]]],O:function(){var e,t,r,o,n,a,s,i=this.s[0],c=this.s[1],l=i[4],d=c[4],u=[],h=[];for(e=0;256>e;e++)h[(u[e]=e<<1^283*(e>>7))^e]=e;for(t=r=0;!l[t];t^=o||1,r=h[r]||1)for(a=(a=r^r<<1^r<<2^r<<3^r<<4)>>8^255&a^99,l[t]=a,d[a]=t,s=16843009*(n=u[e=u[o=u[t]]])^65537*e^257*o^16843008*t,n=257*u[a]^16843008*a,e=0;4>e;e++)i[e][t]=n=n<<24^n>>>8,c[e][a]=s=s<<24^s>>>8;for(e=0;5>e;e++)i[e]=i[e].slice(0),c[e]=c[e].slice(0)}},t.bitArray={bitSlice:function(e,r,o){return e=t.bitArray.$(e.slice(r/32),32-(31&r)).slice(1),void 0===o?e:t.bitArray.clamp(e,o-r)},extract:function(e,t,r){var o=Math.floor(-t-r&31);return(-32&(t+r-1^t)?e[t/32|0]<<32-o^e[t/32+1|0]>>>o:e[t/32|0]>>>o)&(1<<r)-1},concat:function(e,r){if(0===e.length||0===r.length)return e.concat(r);var o=e[e.length-1],n=t.bitArray.getPartial(o);return 32===n?e.concat(r):t.bitArray.$(r,n,0|o,e.slice(0,e.length-1))},bitLength:function(e){var r=e.length;return 0===r?0:32*(r-1)+t.bitArray.getPartial(e[r-1])},clamp:function(e,r){if(32*e.length<r)return e;var o=(e=e.slice(0,Math.ceil(r/32))).length;return r&=31,0<o&&r&&(e[o-1]=t.bitArray.partial(r,e[o-1]&2147483648>>r-1,1)),e},partial:function(e,t,r){return 32===e?t:(r?0|t:t<<32-e)+1099511627776*e},getPartial:function(e){return Math.round(e/1099511627776)||32},equal:function(e,r){if(t.bitArray.bitLength(e)!==t.bitArray.bitLength(r))return!1;var o,n=0;for(o=0;o<e.length;o++)n|=e[o]^r[o];return 0===n},$:function(e,r,o,n){var a;for(a=0,void 0===n&&(n=[]);32<=r;r-=32)n.push(o),o=0;if(0===r)return n.concat(e);for(a=0;a<e.length;a++)n.push(o|e[a]>>>r),o=e[a]<<32-r;return a=e.length?e[e.length-1]:0,e=t.bitArray.getPartial(a),n.push(t.bitArray.partial(r+e&31,32<r+e?o:n.pop(),1)),n},i:function(e,t){return[e[0]^t[0],e[1]^t[1],e[2]^t[2],e[3]^t[3]]},byteswapM:function(e){var t,r;for(t=0;t<e.length;++t)r=e[t],e[t]=r>>>24|r>>>8&65280|(65280&r)<<8|r<<24;return e}},t.codec.utf8String={fromBits:function(e){var r,o,n="",a=t.bitArray.bitLength(e);for(r=0;r<a/8;r++)0==(3&r)&&(o=e[r/4]),n+=String.fromCharCode(o>>>8>>>8>>>8),o<<=8;return decodeURIComponent(escape(n))},toBits:function(e){e=unescape(encodeURIComponent(e));var r,o=[],n=0;for(r=0;r<e.length;r++)n=n<<8|e.charCodeAt(r),3==(3&r)&&(o.push(n),n=0);return 3&r&&o.push(t.bitArray.partial(8*(3&r),n)),o}},t.codec.hex={fromBits:function(e){var r,o="";for(r=0;r<e.length;r++)o+=(0xf00000000000+(0|e[r])).toString(16).substr(4);return o.substr(0,t.bitArray.bitLength(e)/4)},toBits:function(e){var r,o,n=[];for(o=(e=e.replace(/\s|0x/g,"")).length,e+="00000000",r=0;r<e.length;r+=8)n.push(0^parseInt(e.substr(r,8),16));return t.bitArray.clamp(n,4*o)}},t.codec.base32={B:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",X:"0123456789ABCDEFGHIJKLMNOPQRSTUV",BITS:32,BASE:5,REMAINING:27,fromBits:function(e,r,o){var n=t.codec.base32.BASE,a=t.codec.base32.REMAINING,s="",i=0,c=t.codec.base32.B,l=0,d=t.bitArray.bitLength(e);for(o&&(c=t.codec.base32.X),o=0;s.length*n<d;)s+=c.charAt((l^e[o]>>>i)>>>a),i<n?(l=e[o]<<n-i,i+=a,o++):(l<<=n,i-=n);for(;7&s.length&&!r;)s+="=";return s},toBits:function(e,r){e=e.replace(/\s|=/g,"").toUpperCase();var o,n,a=t.codec.base32.BITS,s=t.codec.base32.BASE,i=t.codec.base32.REMAINING,c=[],l=0,d=t.codec.base32.B,u=0,h="base32";for(r&&(d=t.codec.base32.X,h="base32hex"),o=0;o<e.length;o++){if(0>(n=d.indexOf(e.charAt(o)))){if(!r)try{return t.codec.base32hex.toBits(e)}catch(e){}throw new t.exception.invalid("this isn't "+h+"!")}l>i?(l-=i,c.push(u^n>>>l),u=n<<a-l):u^=n<<a-(l+=s)}return 56&l&&c.push(t.bitArray.partial(56&l,u,1)),c}},t.codec.base32hex={fromBits:function(e,r){return t.codec.base32.fromBits(e,r,1)},toBits:function(e){return t.codec.base32.toBits(e,1)}},t.codec.base64={B:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",fromBits:function(e,r,o){var n="",a=0,s=t.codec.base64.B,i=0,c=t.bitArray.bitLength(e);for(o&&(s=s.substr(0,62)+"-_"),o=0;6*n.length<c;)n+=s.charAt((i^e[o]>>>a)>>>26),6>a?(i=e[o]<<6-a,a+=26,o++):(i<<=6,a-=6);for(;3&n.length&&!r;)n+="=";return n},toBits:function(e,r){e=e.replace(/\s|=/g,"");var o,n,a=[],s=0,i=t.codec.base64.B,c=0;for(r&&(i=i.substr(0,62)+"-_"),o=0;o<e.length;o++){if(0>(n=i.indexOf(e.charAt(o))))throw new t.exception.invalid("this isn't base64!");26<s?(s-=26,a.push(c^n>>>s),c=n<<32-s):c^=n<<32-(s+=6)}return 56&s&&a.push(t.bitArray.partial(56&s,c,1)),a}},t.codec.base64url={fromBits:function(e){return t.codec.base64.fromBits(e,1,1)},toBits:function(e){return t.codec.base64.toBits(e,1)}},t.hash.sha256=function(e){this.b[0]||this.O(),e?(this.F=e.F.slice(0),this.A=e.A.slice(0),this.l=e.l):this.reset()},t.hash.sha256.hash=function(e){return(new t.hash.sha256).update(e).finalize()},t.hash.sha256.prototype={blockSize:512,reset:function(){return this.F=this.Y.slice(0),this.A=[],this.l=0,this},update:function(e){"string"==typeof e&&(e=t.codec.utf8String.toBits(e));var r,n=this.A=t.bitArray.concat(this.A,e);if(r=this.l,9007199254740991<(e=this.l=r+t.bitArray.bitLength(e)))throw new t.exception.invalid("Cannot hash more than 2^53 - 1 bits");if("undefined"!=typeof Uint32Array){var a=new Uint32Array(n),s=0;for(r=512+r-(512+r&511);r<=e;r+=512)o(this,a.subarray(16*s,16*(s+1))),s+=1;n.splice(0,16*s)}else for(r=512+r-(512+r&511);r<=e;r+=512)o(this,n.splice(0,16));return this},finalize:function(){var e,r=this.A,n=this.F;for(e=(r=t.bitArray.concat(r,[t.bitArray.partial(1,1)])).length+2;15&e;e++)r.push(0);for(r.push(Math.floor(this.l/4294967296)),r.push(0|this.l);r.length;)o(this,r.splice(0,16));return this.reset(),n},Y:[],b:[],O:function(){function e(e){return 4294967296*(e-Math.floor(e))|0}for(var t,r,o=0,n=2;64>o;n++){for(r=!0,t=2;t*t<=n;t++)if(0==n%t){r=!1;break}r&&(8>o&&(this.Y[o]=e(Math.pow(n,.5))),this.b[o]=e(Math.pow(n,1/3)),o++)}}},t.mode.ccm={name:"ccm",G:[],listenProgress:function(e){t.mode.ccm.G.push(e)},unListenProgress:function(e){-1<(e=t.mode.ccm.G.indexOf(e))&&t.mode.ccm.G.splice(e,1)},fa:function(e){var r,o=t.mode.ccm.G.slice();for(r=0;r<o.length;r+=1)o[r](e)},encrypt:function(e,r,o,n,a){var s,i=r.slice(0),c=t.bitArray,l=c.bitLength(o)/8,d=c.bitLength(i)/8;if(a=a||64,n=n||[],7>l)throw new t.exception.invalid("ccm: iv must be at least 7 bytes");for(s=2;4>s&&d>>>8*s;s++);return s<15-l&&(s=15-l),o=c.clamp(o,8*(15-s)),r=t.mode.ccm.V(e,r,o,n,a,s),i=t.mode.ccm.C(e,i,o,r,a,s),c.concat(i.data,i.tag)},decrypt:function(e,r,o,n,a){a=a||64,n=n||[];var s=t.bitArray,i=s.bitLength(o)/8,c=s.bitLength(r),l=s.clamp(r,c-a),d=s.bitSlice(r,c-a);c=(c-a)/8;if(7>i)throw new t.exception.invalid("ccm: iv must be at least 7 bytes");for(r=2;4>r&&c>>>8*r;r++);if(r<15-i&&(r=15-i),o=s.clamp(o,8*(15-r)),l=t.mode.ccm.C(e,l,o,d,a,r),e=t.mode.ccm.V(e,l.data,o,n,a,r),!s.equal(l.tag,e))throw new t.exception.corrupt("ccm: tag doesn't match");return l.data},na:function(e,r,o,n,a,s){var i=[],c=t.bitArray,l=c.i;if(n=[c.partial(8,(r.length?64:0)|n-2<<2|s-1)],(n=c.concat(n,o))[3]|=a,n=e.encrypt(n),r.length)for(65279>=(o=c.bitLength(r)/8)?i=[c.partial(16,o)]:4294967295>=o&&(i=c.concat([c.partial(16,65534)],[o])),i=c.concat(i,r),r=0;r<i.length;r+=4)n=e.encrypt(l(n,i.slice(r,r+4).concat([0,0,0])));return n},V:function(e,r,o,n,a,s){var i=t.bitArray,c=i.i;if((a/=8)%2||4>a||16<a)throw new t.exception.invalid("ccm: invalid tag length");if(4294967295<n.length||4294967295<r.length)throw new t.exception.bug("ccm: can't deal with 4GiB or more data");for(o=t.mode.ccm.na(e,n,o,a,i.bitLength(r)/8,s),n=0;n<r.length;n+=4)o=e.encrypt(c(o,r.slice(n,n+4).concat([0,0,0])));return i.clamp(o,8*a)},C:function(e,r,o,n,a,s){var i,c=t.bitArray;i=c.i;var l=r.length,d=c.bitLength(r),u=l/50,h=u;if(o=c.concat([c.partial(8,s-1)],o).concat([0,0,0]).slice(0,4),n=c.bitSlice(i(n,e.encrypt(o)),0,a),!l)return{tag:n,data:[]};for(i=0;i<l;i+=4)i>u&&(t.mode.ccm.fa(i/l),u+=h),o[3]++,a=e.encrypt(o),r[i]^=a[0],r[i+1]^=a[1],r[i+2]^=a[2],r[i+3]^=a[3];return{tag:n,data:c.clamp(r,d)}}},t.mode.ocb2={name:"ocb2",encrypt:function(e,r,o,n,a,s){if(128!==t.bitArray.bitLength(o))throw new t.exception.invalid("ocb iv must be 128 bits");var i,c=t.mode.ocb2.S,l=t.bitArray,d=l.i,u=[0,0,0,0];o=c(e.encrypt(o));var h,f=[];for(n=n||[],a=a||64,i=0;i+4<r.length;i+=4)u=d(u,h=r.slice(i,i+4)),f=f.concat(d(o,e.encrypt(d(o,h)))),o=c(o);return h=r.slice(i),r=l.bitLength(h),i=e.encrypt(d(o,[0,0,0,r])),h=l.clamp(d(h.concat([0,0,0]),i),r),u=d(u,d(h.concat([0,0,0]),i)),u=e.encrypt(d(u,d(o,c(o)))),n.length&&(u=d(u,s?n:t.mode.ocb2.pmac(e,n))),f.concat(l.concat(h,l.clamp(u,a)))},decrypt:function(e,r,o,n,a,s){if(128!==t.bitArray.bitLength(o))throw new t.exception.invalid("ocb iv must be 128 bits");a=a||64;var i,c,l=t.mode.ocb2.S,d=t.bitArray,u=d.i,h=[0,0,0,0],f=l(e.encrypt(o)),p=t.bitArray.bitLength(r)-a,m=[];for(n=n||[],o=0;o+4<p/32;o+=4)i=u(f,e.decrypt(u(f,r.slice(o,o+4)))),h=u(h,i),m=m.concat(i),f=l(f);if(c=p-32*o,i=e.encrypt(u(f,[0,0,0,c])),i=u(i,d.clamp(r.slice(o),c).concat([0,0,0])),h=u(h,i),h=e.encrypt(u(h,u(f,l(f)))),n.length&&(h=u(h,s?n:t.mode.ocb2.pmac(e,n))),!d.equal(d.clamp(h,a),d.bitSlice(r,p)))throw new t.exception.corrupt("ocb: tag doesn't match");return m.concat(d.clamp(i,c))},pmac:function(e,r){var o,n=t.mode.ocb2.S,a=t.bitArray,s=a.i,i=[0,0,0,0],c=s(c=e.encrypt([0,0,0,0]),n(n(c)));for(o=0;o+4<r.length;o+=4)c=n(c),i=s(i,e.encrypt(s(c,r.slice(o,o+4))));return o=r.slice(o),128>a.bitLength(o)&&(c=s(c,n(c)),o=a.concat(o,[-2147483648,0,0,0])),i=s(i,o),e.encrypt(s(n(s(c,n(c))),i))},S:function(e){return[e[0]<<1^e[1]>>>31,e[1]<<1^e[2]>>>31,e[2]<<1^e[3]>>>31,e[3]<<1^135*(e[0]>>>31)]}},t.mode.gcm={name:"gcm",encrypt:function(e,r,o,n,a){var s=r.slice(0);return r=t.bitArray,n=n||[],e=t.mode.gcm.C(!0,e,s,n,o,a||128),r.concat(e.data,e.tag)},decrypt:function(e,r,o,n,a){var s=r.slice(0),i=t.bitArray,c=i.bitLength(s);if(n=n||[],(a=a||128)<=c?(r=i.bitSlice(s,c-a),s=i.bitSlice(s,0,c-a)):(r=s,s=[]),e=t.mode.gcm.C(!1,e,s,n,o,a),!i.equal(e.tag,r))throw new t.exception.corrupt("gcm: tag doesn't match");return e.data},ka:function(e,r){var o,n,a,s,i,c=t.bitArray.i;for(a=[0,0,0,0],s=r.slice(0),o=0;128>o;o++){for((n=0!=(e[Math.floor(o/32)]&1<<31-o%32))&&(a=c(a,s)),i=0!=(1&s[3]),n=3;0<n;n--)s[n]=s[n]>>>1|(1&s[n-1])<<31;s[0]>>>=1,i&&(s[0]^=-520093696)}return a},j:function(e,r,o){var n,a=o.length;for(r=r.slice(0),n=0;n<a;n+=4)r[0]^=4294967295&o[n],r[1]^=4294967295&o[n+1],r[2]^=4294967295&o[n+2],r[3]^=4294967295&o[n+3],r=t.mode.gcm.ka(r,e);return r},C:function(e,r,o,n,a,s){var i,c,l,d,u,h,f,p,m=t.bitArray;for(h=o.length,f=m.bitLength(o),p=m.bitLength(n),c=m.bitLength(a),i=r.encrypt([0,0,0,0]),96===c?(a=a.slice(0),a=m.concat(a,[1])):(a=t.mode.gcm.j(i,[0,0,0,0],a),a=t.mode.gcm.j(i,a,[0,0,Math.floor(c/4294967296),4294967295&c])),c=t.mode.gcm.j(i,[0,0,0,0],n),u=a.slice(0),n=c.slice(0),e||(n=t.mode.gcm.j(i,c,o)),d=0;d<h;d+=4)u[3]++,l=r.encrypt(u),o[d]^=l[0],o[d+1]^=l[1],o[d+2]^=l[2],o[d+3]^=l[3];return o=m.clamp(o,f),e&&(n=t.mode.gcm.j(i,c,o)),e=[Math.floor(p/4294967296),4294967295&p,Math.floor(f/4294967296),4294967295&f],n=t.mode.gcm.j(i,n,e),l=r.encrypt(a),n[0]^=l[0],n[1]^=l[1],n[2]^=l[2],n[3]^=l[3],{tag:m.bitSlice(n,0,s),data:o}}},t.misc.hmac=function(e,r){this.W=r=r||t.hash.sha256;var o,n=[[],[]],a=r.prototype.blockSize/32;for(this.w=[new r,new r],e.length>a&&(e=r.hash(e)),o=0;o<a;o++)n[0][o]=909522486^e[o],n[1][o]=1549556828^e[o];this.w[0].update(n[0]),this.w[1].update(n[1]),this.R=new r(this.w[0])},t.misc.hmac.prototype.encrypt=t.misc.hmac.prototype.mac=function(e){if(this.aa)throw new t.exception.invalid("encrypt on already updated hmac called!");return this.update(e),this.digest(e)},t.misc.hmac.prototype.reset=function(){this.R=new this.W(this.w[0]),this.aa=!1},t.misc.hmac.prototype.update=function(e){this.aa=!0,this.R.update(e)},t.misc.hmac.prototype.digest=function(){var e=this.R.finalize();e=new this.W(this.w[1]).update(e).finalize();return this.reset(),e},t.misc.pbkdf2=function(e,r,o,n,a){if(o=o||1e4,0>n||0>o)throw new t.exception.invalid("invalid params to pbkdf2");"string"==typeof e&&(e=t.codec.utf8String.toBits(e)),"string"==typeof r&&(r=t.codec.utf8String.toBits(r)),e=new(a=a||t.misc.hmac)(e);var s,i,c,l,d=[],u=t.bitArray;for(l=1;32*d.length<(n||1);l++){for(a=s=e.encrypt(u.concat(r,[l])),i=1;i<o;i++)for(s=e.encrypt(s),c=0;c<s.length;c++)a[c]^=s[c];d=d.concat(a)}return n&&(d=u.clamp(d,n)),d},t.prng=function(e){this.c=[new t.hash.sha256],this.m=[0],this.P=0,this.H={},this.N=0,this.U={},this.Z=this.f=this.o=this.ha=0,this.b=[0,0,0,0,0,0,0,0],this.h=[0,0,0,0],this.L=void 0,this.M=e,this.D=!1,this.K={progress:{},seeded:{}},this.u=this.ga=0,this.I=1,this.J=2,this.ca=65536,this.T=[0,48,64,96,128,192,256,384,512,768,1024],this.da=3e4,this.ba=80},t.prng.prototype={randomWords:function(e,r){var o,n,a=[];if((o=this.isReady(r))===this.u)throw new t.exception.notReady("generator isn't seeded");if(o&this.J){o=!(o&this.I),n=[];var c,l=0;for(this.Z=n[0]=(new Date).valueOf()+this.da,c=0;16>c;c++)n.push(4294967296*Math.random()|0);for(c=0;c<this.c.length&&(n=n.concat(this.c[c].finalize()),l+=this.m[c],this.m[c]=0,o||!(this.P&1<<c));c++);for(this.P>=1<<this.c.length&&(this.c.push(new t.hash.sha256),this.m.push(0)),this.f-=l,l>this.o&&(this.o=l),this.P++,this.b=t.hash.sha256.hash(this.b.concat(n)),this.L=new t.cipher.aes(this.b),o=0;4>o&&(this.h[o]=this.h[o]+1|0,!this.h[o]);o++);}for(o=0;o<e;o+=4)0==(o+1)%this.ca&&s(this),n=i(this),a.push(n[0],n[1],n[2],n[3]);return s(this),a.slice(0,e)},setDefaultParanoia:function(e,r){if(0===e&&"Setting paranoia=0 will ruin your security; use it only for testing"!==r)throw new t.exception.invalid("Setting paranoia=0 will ruin your security; use it only for testing");this.M=e},addEntropy:function(e,r,o){o=o||"user";var a,s,i=(new Date).valueOf(),c=this.H[o],l=this.isReady(),d=0;switch(void 0===(a=this.U[o])&&(a=this.U[o]=this.ha++),void 0===c&&(c=this.H[o]=0),this.H[o]=(this.H[o]+1)%this.c.length,typeof e){case"number":void 0===r&&(r=1),this.c[c].update([a,this.N++,1,r,i,1,0|e]);break;case"object":if("[object Uint32Array]"===(o=Object.prototype.toString.call(e))){for(s=[],o=0;o<e.length;o++)s.push(e[o]);e=s}else for("[object Array]"!==o&&(d=1),o=0;o<e.length&&!d;o++)"number"!=typeof e[o]&&(d=1);if(!d){if(void 0===r)for(o=r=0;o<e.length;o++)for(s=e[o];0<s;)r++,s>>>=1;this.c[c].update([a,this.N++,2,r,i,e.length].concat(e))}break;case"string":void 0===r&&(r=e.length),this.c[c].update([a,this.N++,3,r,i,e.length]),this.c[c].update(e);break;default:d=1}if(d)throw new t.exception.bug("random: addEntropy only supports number, array of numbers or string");this.m[c]+=r,this.f+=r,l===this.u&&(this.isReady()!==this.u&&n("seeded",Math.max(this.o,this.f)),n("progress",this.getProgress()))},isReady:function(e){return e=this.T[void 0!==e?e:this.M],this.o&&this.o>=e?this.m[0]>this.ba&&(new Date).valueOf()>this.Z?this.J|this.I:this.I:this.f>=e?this.J|this.u:this.u},getProgress:function(e){return e=this.T[e||this.M],this.o>=e||this.f>e?1:this.f/e},startCollectors:function(){if(!this.D){if(this.a={loadTimeCollector:c(this,this.ma),mouseCollector:c(this,this.oa),keyboardCollector:c(this,this.la),accelerometerCollector:c(this,this.ea),touchCollector:c(this,this.qa)},window.addEventListener)window.addEventListener("load",this.a.loadTimeCollector,!1),window.addEventListener("mousemove",this.a.mouseCollector,!1),window.addEventListener("keypress",this.a.keyboardCollector,!1),window.addEventListener("devicemotion",this.a.accelerometerCollector,!1),window.addEventListener("touchmove",this.a.touchCollector,!1);else{if(!document.attachEvent)throw new t.exception.bug("can't attach event");document.attachEvent("onload",this.a.loadTimeCollector),document.attachEvent("onmousemove",this.a.mouseCollector),document.attachEvent("keypress",this.a.keyboardCollector)}this.D=!0}},stopCollectors:function(){this.D&&(window.removeEventListener?(window.removeEventListener("load",this.a.loadTimeCollector,!1),window.removeEventListener("mousemove",this.a.mouseCollector,!1),window.removeEventListener("keypress",this.a.keyboardCollector,!1),window.removeEventListener("devicemotion",this.a.accelerometerCollector,!1),window.removeEventListener("touchmove",this.a.touchCollector,!1)):document.detachEvent&&(document.detachEvent("onload",this.a.loadTimeCollector),document.detachEvent("onmousemove",this.a.mouseCollector),document.detachEvent("keypress",this.a.keyboardCollector)),this.D=!1)},addEventListener:function(e,t){this.K[e][this.ga++]=t},removeEventListener:function(e,t){var r,o,n=this.K[e],a=[];for(o in n)n.hasOwnProperty(o)&&n[o]===t&&a.push(o);for(r=0;r<a.length;r++)delete n[o=a[r]]},la:function(){a(this,1)},oa:function(e){var t,r;try{t=e.x||e.clientX||e.offsetX||0,r=e.y||e.clientY||e.offsetY||0}catch(e){r=t=0}0!=t&&0!=r&&this.addEntropy([t,r],2,"mouse"),a(this,0)},qa:function(e){e=e.touches[0]||e.changedTouches[0],this.addEntropy([e.pageX||e.clientX,e.pageY||e.clientY],1,"touch"),a(this,0)},ma:function(){a(this,2)},ea:function(e){if(e=e.accelerationIncludingGravity.x||e.accelerationIncludingGravity.y||e.accelerationIncludingGravity.z,window.orientation){var t=window.orientation;"number"==typeof t&&this.addEntropy(t,1,"accelerometer")}e&&this.addEntropy(e,2,"accelerometer"),a(this,0)}},t.random=new t.prng(6);e:try{var l,d,u,h;if(h=e.exports){var f;try{f=require("crypto")}catch(e){f=null}h=d=f}if(h&&d.randomBytes)l=d.randomBytes(128),l=new Uint32Array(new Uint8Array(l).buffer),t.random.addEntropy(l,1024,"crypto['randomBytes']");else if("undefined"!=typeof window&&"undefined"!=typeof Uint32Array){if(u=new Uint32Array(32),window.crypto&&window.crypto.getRandomValues)window.crypto.getRandomValues(u);else{if(!window.msCrypto||!window.msCrypto.getRandomValues)break e;window.msCrypto.getRandomValues(u)}t.random.addEntropy(u,1024,"crypto['getRandomValues']")}}catch(e){"undefined"!=typeof window&&window.console&&(console.log("There was an error collecting entropy from the browser:"),console.log(e))}t.json={defaults:{v:1,iter:1e4,ks:128,ts:64,mode:"ccm",adata:"",cipher:"aes"},ja:function(e,r,o,n){o=o||{},n=n||{};var a,s=t.json,i=s.g({iv:t.random.randomWords(4,0)},s.defaults);if(s.g(i,o),o=i.adata,"string"==typeof i.salt&&(i.salt=t.codec.base64.toBits(i.salt)),"string"==typeof i.iv&&(i.iv=t.codec.base64.toBits(i.iv)),!t.mode[i.mode]||!t.cipher[i.cipher]||"string"==typeof e&&100>=i.iter||64!==i.ts&&96!==i.ts&&128!==i.ts||128!==i.ks&&192!==i.ks&&256!==i.ks||2>i.iv.length||4<i.iv.length)throw new t.exception.invalid("json encrypt: invalid parameters");return"string"==typeof e?(e=(a=t.misc.cachedPbkdf2(e,i)).key.slice(0,i.ks/32),i.salt=a.salt):t.ecc&&e instanceof t.ecc.elGamal.publicKey&&(a=e.kem(),i.kemtag=a.tag,e=a.key.slice(0,i.ks/32)),"string"==typeof r&&(r=t.codec.utf8String.toBits(r)),"string"==typeof o&&(i.adata=o=t.codec.utf8String.toBits(o)),a=new t.cipher[i.cipher](e),s.g(n,i),n.key=e,i.ct="ccm"===i.mode&&t.arrayBuffer&&t.arrayBuffer.ccm&&r instanceof ArrayBuffer?t.arrayBuffer.ccm.encrypt(a,r,i.iv,o,i.ts):t.mode[i.mode].encrypt(a,r,i.iv,o,i.ts),i},encrypt:function(e,r,o,n){var a=t.json,s=a.ja.apply(a,arguments);return a.encode(s)},ia:function(e,r,o,n){o=o||{},n=n||{};var a,s,i=t.json;if(a=(r=i.g(i.g(i.g({},i.defaults),r),o,!0)).adata,"string"==typeof r.salt&&(r.salt=t.codec.base64.toBits(r.salt)),"string"==typeof r.iv&&(r.iv=t.codec.base64.toBits(r.iv)),!t.mode[r.mode]||!t.cipher[r.cipher]||"string"==typeof e&&100>=r.iter||64!==r.ts&&96!==r.ts&&128!==r.ts||128!==r.ks&&192!==r.ks&&256!==r.ks||!r.iv||2>r.iv.length||4<r.iv.length)throw new t.exception.invalid("json decrypt: invalid parameters");return"string"==typeof e?(e=(s=t.misc.cachedPbkdf2(e,r)).key.slice(0,r.ks/32),r.salt=s.salt):t.ecc&&e instanceof t.ecc.elGamal.secretKey&&(e=e.unkem(t.codec.base64.toBits(r.kemtag)).slice(0,r.ks/32)),"string"==typeof a&&(a=t.codec.utf8String.toBits(a)),s=new t.cipher[r.cipher](e),a="ccm"===r.mode&&t.arrayBuffer&&t.arrayBuffer.ccm&&r.ct instanceof ArrayBuffer?t.arrayBuffer.ccm.decrypt(s,r.ct,r.iv,r.tag,a,r.ts):t.mode[r.mode].decrypt(s,r.ct,r.iv,a,r.ts),i.g(n,r),n.key=e,1===o.raw?a:t.codec.utf8String.fromBits(a)},decrypt:function(e,r,o,n){var a=t.json;return a.ia(e,a.decode(r),o,n)},encode:function(e){var r,o="{",n="";for(r in e)if(e.hasOwnProperty(r)){if(!r.match(/^[a-z0-9]+$/i))throw new t.exception.invalid("json encode: invalid property name");switch(o+=n+'"'+r+'":',n=",",typeof e[r]){case"number":case"boolean":o+=e[r];break;case"string":o+='"'+escape(e[r])+'"';break;case"object":o+='"'+t.codec.base64.fromBits(e[r],0)+'"';break;default:throw new t.exception.bug("json encode: unsupported type")}}return o+"}"},decode:function(e){if(!(e=e.replace(/\s/g,"")).match(/^\{.*\}$/))throw new t.exception.invalid("json decode: this isn't json!");e=e.replace(/^\{|\}$/g,"").split(/,/);var r,o,n={};for(r=0;r<e.length;r++){if(!(o=e[r].match(/^\s*(?:(["']?)([a-z][a-z0-9]*)\1)\s*:\s*(?:(-?\d+)|"([a-z0-9+\/%*_.@=\-]*)"|(true|false))$/i)))throw new t.exception.invalid("json decode: this isn't json!");null!=o[3]?n[o[2]]=parseInt(o[3],10):null!=o[4]?n[o[2]]=o[2].match(/^(ct|adata|salt|iv)$/)?t.codec.base64.toBits(o[4]):unescape(o[4]):null!=o[5]&&(n[o[2]]="true"===o[5])}return n},g:function(e,r,o){if(void 0===e&&(e={}),void 0===r)return e;for(var n in r)if(r.hasOwnProperty(n)){if(o&&void 0!==e[n]&&e[n]!==r[n])throw new t.exception.invalid("required parameter overridden");e[n]=r[n]}return e},sa:function(e,t){var r,o={};for(r in e)e.hasOwnProperty(r)&&e[r]!==t[r]&&(o[r]=e[r]);return o},ra:function(e,t){var r,o={};for(r=0;r<t.length;r++)void 0!==e[t[r]]&&(o[t[r]]=e[t[r]]);return o}},t.encrypt=t.json.encrypt,t.decrypt=t.json.decrypt,t.misc.pa={},t.misc.cachedPbkdf2=function(e,r){var o,n=t.misc.pa;return o=(r=r||{}).iter||1e3,(o=(n=n[e]=n[e]||{})[o]=n[o]||{firstSalt:r.salt&&r.salt.length?r.salt.slice(0):t.random.randomWords(2,0)})[n=void 0===r.salt?o.firstSalt:r.salt]=o[n]||t.misc.pbkdf2(e,n,r.iter),{key:o[n].slice(0),salt:n.slice(0)}},e.exports&&(e.exports=t)}(gr);var kr=gr.exports;function wr(t){let r,o,n,a,s,i;return{c(){r=f("section"),o=p(t[0]),n=m(),a=f("button"),a.textContent="Share Crypted Text",w(r,"class","svelte-1mnvu2k")},m(e,c){d(e,r,c),l(r,o),d(e,n,c),d(e,a,c),s||(i=k(a,"click",t[1]),s=!0)},p(e,[t]){1&t&&b(o,e[0])},i:e,o:e,d(e){e&&u(r),e&&u(n),e&&u(a),s=!1,i()}}}function br(e,t,r){let o,n,a,s;c(e,ue,(e=>r(3,a=e))),c(e,Me,(e=>r(4,s=e)));return e.$$.update=()=>{24&e.$$.dirty&&r(2,o=()=>{const e=JSON.parse(s).base64,t=kr.encrypt(a,e),{iv:r,salt:o,ct:n}=JSON.parse(t);console.log(r,o);const i=JSON.stringify({iv:r,salt:o,ct:n});return ir(i,!0)}),4&e.$$.dirty&&r(0,n=o())},[n,()=>{navigator.share({text:n})},o,a,s]}class Br extends Q{constructor(e){super(),Z(this,e,br,wr,a,{})}}function yr(e){let t,r;return t=new ne({props:{c:"menu",v:"showPlainText"}}),{c(){H(t.$$.fragment)},m(e,o){X(t,e,o),r=!0},i(e){r||(q(t.$$.fragment,e),r=!0)},o(e){j(t.$$.fragment,e),r=!1},d(e){V(t,e)}}}function vr(e){let t,r;return t=new ne({props:{c:"menu",v:"showRenderedText"}}),{c(){H(t.$$.fragment)},m(e,o){X(t,e,o),r=!0},i(e){r||(q(t.$$.fragment,e),r=!0)},o(e){j(t.$$.fragment,e),r=!1},d(e){V(t,e)}}}function Cr(e){let t,r,o=Lt(e[1])+"";return{c(){t=new P(!1),r=g(),t.a=r},m(e,n){t.m(o,e,n),d(e,r,n)},p(e,r){2&r&&o!==(o=Lt(e[1])+"")&&t.p(o)},d(e){e&&u(r),e&&t.d()}}}function Pr(e){let t,r,o;return{c(){t=f("textarea"),w(t,"class","svelte-ebzv1t")},m(n,a){d(n,t,a),B(t,e[1]),r||(o=k(t,"input",e[7]),r=!0)},p(e,r){2&r&&B(t,e[1])},d(e){e&&u(t),r=!1,o()}}}function xr(e){let t,r,n,a,s,i,c,h,p,g,b,y,v,C,P;s=new Se({});const x=[vr,yr],$=[];function _(e,t){return e[2]?0:1}function A(e,t){return e[2]?Pr:Cr}g=_(e),b=$[g]=x[g](e);let E=A(e),S=E(e);return{c(){t=f("section"),r=f("textarea"),n=m(),a=f("div"),H(s.$$.fragment),i=m(),c=f("button"),c.textContent="Decrypt",h=m(),p=f("button"),b.c(),y=m(),S.c(),w(r,"class","svelte-ebzv1t")},m(o,u){d(o,t,u),l(t,r),B(r,e[0]),l(t,n),l(t,a),X(s,a,null),l(a,i),l(a,c),l(t,h),l(t,p),$[g].m(p,null),l(t,y),S.m(t,null),v=!0,C||(P=[k(r,"input",e[4]),k(c,"click",e[5]),k(p,"click",e[6])],C=!0)},p(e,[o]){1&o&&B(r,e[0]);let n=g;g=_(e),g!==n&&(U(),j($[n],1,1,(()=>{$[n]=null})),F(),b=$[g],b||(b=$[g]=x[g](e),b.c()),q(b,1),b.m(p,null)),E===(E=A(e))&&S?S.p(e,o):(S.d(1),S=E(e),S&&(S.c(),S.m(t,null)))},i(e){v||(q(s.$$.fragment,e),q(b),v=!0)},o(e){j(s.$$.fragment,e),j(b),v=!1},d(e){e&&u(t),V(s),$[g].d(),S.d(),C=!1,o(P)}}}function $r(e,t,r){let o;c(e,ue,(e=>r(8,o=e)));let n="",a="",s=!0;const i=e=>{const t=window.atob(e);try{const e=kr.decrypt(o,t);return cr(e)}catch(e){return"Error"}};return[n,a,s,i,function(){n=this.value,r(0,n)},()=>{r(1,a=i(n))},()=>r(2,s=!s),function(){a=this.value,r(1,a)}]}class _r extends Q{constructor(e){super(),Z(this,e,$r,xr,a,{})}}const Ar=Y("start"),Er={subscribe:Ar.subscribe,set:e=>{Ar.set(e)}};var Sr={},Lr={},Mr={};let Rr;const Tr=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];Mr.getSymbolSize=function(e){if(!e)throw new Error('"version" cannot be null or undefined');if(e<1||e>40)throw new Error('"version" should be in range from 1 to 40');return 4*e+17},Mr.getSymbolTotalCodewords=function(e){return Tr[e]},Mr.getBCHDigit=function(e){let t=0;for(;0!==e;)t++,e>>>=1;return t},Mr.setToSJISFunction=function(e){if("function"!=typeof e)throw new Error('"toSJISFunc" is not a valid function.');Rr=e},Mr.isKanjiModeEnabled=function(){return void 0!==Rr},Mr.toSJIS=function(e){return Rr(e)};var Ir={};function zr(){this.buffer=[],this.length=0}!function(e){e.L={bit:1},e.M={bit:0},e.Q={bit:3},e.H={bit:2},e.isValid=function(e){return e&&void 0!==e.bit&&e.bit>=0&&e.bit<4},e.from=function(t,r){if(e.isValid(t))return t;try{return function(t){if("string"!=typeof t)throw new Error("Param is not a string");switch(t.toLowerCase()){case"l":case"low":return e.L;case"m":case"medium":return e.M;case"q":case"quartile":return e.Q;case"h":case"high":return e.H;default:throw new Error("Unknown EC Level: "+t)}}(t)}catch(e){return r}}}(Ir),zr.prototype={get:function(e){const t=Math.floor(e/8);return 1==(this.buffer[t]>>>7-e%8&1)},put:function(e,t){for(let r=0;r<t;r++)this.putBit(1==(e>>>t-r-1&1))},getLengthInBits:function(){return this.length},putBit:function(e){const t=Math.floor(this.length/8);this.buffer.length<=t&&this.buffer.push(0),e&&(this.buffer[t]|=128>>>this.length%8),this.length++}};var Or=zr;function Nr(e){if(!e||e<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=e,this.data=new Uint8Array(e*e),this.reservedBit=new Uint8Array(e*e)}Nr.prototype.set=function(e,t,r,o){const n=e*this.size+t;this.data[n]=r,o&&(this.reservedBit[n]=!0)},Nr.prototype.get=function(e,t){return this.data[e*this.size+t]},Nr.prototype.xor=function(e,t,r){this.data[e*this.size+t]^=r},Nr.prototype.isReserved=function(e,t){return this.reservedBit[e*this.size+t]};var Dr=Nr,Ur={};!function(e){const t=Mr.getSymbolSize;e.getRowColCoords=function(e){if(1===e)return[];const r=Math.floor(e/7)+2,o=t(e),n=145===o?26:2*Math.ceil((o-13)/(2*r-2)),a=[o-7];for(let e=1;e<r-1;e++)a[e]=a[e-1]-n;return a.push(6),a.reverse()},e.getPositions=function(t){const r=[],o=e.getRowColCoords(t),n=o.length;for(let e=0;e<n;e++)for(let t=0;t<n;t++)0===e&&0===t||0===e&&t===n-1||e===n-1&&0===t||r.push([o[e],o[t]]);return r}}(Ur);var Fr={};const qr=Mr.getSymbolSize;Fr.getPositions=function(e){const t=qr(e);return[[0,0],[t-7,0],[0,t-7]]};var jr={};!function(e){e.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};const t=3,r=3,o=40,n=10;function a(t,r,o){switch(t){case e.Patterns.PATTERN000:return(r+o)%2==0;case e.Patterns.PATTERN001:return r%2==0;case e.Patterns.PATTERN010:return o%3==0;case e.Patterns.PATTERN011:return(r+o)%3==0;case e.Patterns.PATTERN100:return(Math.floor(r/2)+Math.floor(o/3))%2==0;case e.Patterns.PATTERN101:return r*o%2+r*o%3==0;case e.Patterns.PATTERN110:return(r*o%2+r*o%3)%2==0;case e.Patterns.PATTERN111:return(r*o%3+(r+o)%2)%2==0;default:throw new Error("bad maskPattern:"+t)}}e.isValid=function(e){return null!=e&&""!==e&&!isNaN(e)&&e>=0&&e<=7},e.from=function(t){return e.isValid(t)?parseInt(t,10):void 0},e.getPenaltyN1=function(e){const r=e.size;let o=0,n=0,a=0,s=null,i=null;for(let c=0;c<r;c++){n=a=0,s=i=null;for(let l=0;l<r;l++){let r=e.get(c,l);r===s?n++:(n>=5&&(o+=t+(n-5)),s=r,n=1),r=e.get(l,c),r===i?a++:(a>=5&&(o+=t+(a-5)),i=r,a=1)}n>=5&&(o+=t+(n-5)),a>=5&&(o+=t+(a-5))}return o},e.getPenaltyN2=function(e){const t=e.size;let o=0;for(let r=0;r<t-1;r++)for(let n=0;n<t-1;n++){const t=e.get(r,n)+e.get(r,n+1)+e.get(r+1,n)+e.get(r+1,n+1);4!==t&&0!==t||o++}return o*r},e.getPenaltyN3=function(e){const t=e.size;let r=0,n=0,a=0;for(let o=0;o<t;o++){n=a=0;for(let s=0;s<t;s++)n=n<<1&2047|e.get(o,s),s>=10&&(1488===n||93===n)&&r++,a=a<<1&2047|e.get(s,o),s>=10&&(1488===a||93===a)&&r++}return r*o},e.getPenaltyN4=function(e){let t=0;const r=e.data.length;for(let o=0;o<r;o++)t+=e.data[o];return Math.abs(Math.ceil(100*t/r/5)-10)*n},e.applyMask=function(e,t){const r=t.size;for(let o=0;o<r;o++)for(let n=0;n<r;n++)t.isReserved(n,o)||t.xor(n,o,a(e,n,o))},e.getBestMask=function(t,r){const o=Object.keys(e.Patterns).length;let n=0,a=1/0;for(let s=0;s<o;s++){r(s),e.applyMask(s,t);const o=e.getPenaltyN1(t)+e.getPenaltyN2(t)+e.getPenaltyN3(t)+e.getPenaltyN4(t);e.applyMask(s,t),o<a&&(a=o,n=s)}return n}}(jr);var Hr={};const Xr=Ir,Vr=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],Wr=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];Hr.getBlocksCount=function(e,t){switch(t){case Xr.L:return Vr[4*(e-1)+0];case Xr.M:return Vr[4*(e-1)+1];case Xr.Q:return Vr[4*(e-1)+2];case Xr.H:return Vr[4*(e-1)+3];default:return}},Hr.getTotalCodewordsCount=function(e,t){switch(t){case Xr.L:return Wr[4*(e-1)+0];case Xr.M:return Wr[4*(e-1)+1];case Xr.Q:return Wr[4*(e-1)+2];case Xr.H:return Wr[4*(e-1)+3];default:return}};var Zr={},Qr={};const Kr=new Uint8Array(512),Yr=new Uint8Array(256);!function(){let e=1;for(let t=0;t<255;t++)Kr[t]=e,Yr[e]=t,e<<=1,256&e&&(e^=285);for(let e=255;e<512;e++)Kr[e]=Kr[e-255]}(),Qr.log=function(e){if(e<1)throw new Error("log("+e+")");return Yr[e]},Qr.exp=function(e){return Kr[e]},Qr.mul=function(e,t){return 0===e||0===t?0:Kr[Yr[e]+Yr[t]]},function(e){const t=Qr;e.mul=function(e,r){const o=new Uint8Array(e.length+r.length-1);for(let n=0;n<e.length;n++)for(let a=0;a<r.length;a++)o[n+a]^=t.mul(e[n],r[a]);return o},e.mod=function(e,r){let o=new Uint8Array(e);for(;o.length-r.length>=0;){const e=o[0];for(let n=0;n<r.length;n++)o[n]^=t.mul(r[n],e);let n=0;for(;n<o.length&&0===o[n];)n++;o=o.slice(n)}return o},e.generateECPolynomial=function(r){let o=new Uint8Array([1]);for(let n=0;n<r;n++)o=e.mul(o,new Uint8Array([1,t.exp(n)]));return o}}(Zr);const Jr=Zr;function Gr(e){this.genPoly=void 0,this.degree=e,this.degree&&this.initialize(this.degree)}Gr.prototype.initialize=function(e){this.degree=e,this.genPoly=Jr.generateECPolynomial(this.degree)},Gr.prototype.encode=function(e){if(!this.genPoly)throw new Error("Encoder not initialized");const t=new Uint8Array(e.length+this.degree);t.set(e);const r=Jr.mod(t,this.genPoly),o=this.degree-r.length;if(o>0){const e=new Uint8Array(this.degree);return e.set(r,o),e}return r};var eo=Gr,to={},ro={},oo={isValid:function(e){return!isNaN(e)&&e>=1&&e<=40}},no={};const ao="[0-9]+";let so="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";so=so.replace(/u/g,"\\u");const io="(?:(?![A-Z0-9 $%*+\\-./:]|"+so+")(?:.|[\r\n]))+";no.KANJI=new RegExp(so,"g"),no.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g"),no.BYTE=new RegExp(io,"g"),no.NUMERIC=new RegExp(ao,"g"),no.ALPHANUMERIC=new RegExp("[A-Z $%*+\\-./:]+","g");const co=new RegExp("^"+so+"$"),lo=new RegExp("^[0-9]+$"),uo=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");no.testKanji=function(e){return co.test(e)},no.testNumeric=function(e){return lo.test(e)},no.testAlphanumeric=function(e){return uo.test(e)},function(e){const t=oo,r=no;e.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},e.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},e.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},e.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},e.MIXED={bit:-1},e.getCharCountIndicator=function(e,r){if(!e.ccBits)throw new Error("Invalid mode: "+e);if(!t.isValid(r))throw new Error("Invalid version: "+r);return r>=1&&r<10?e.ccBits[0]:r<27?e.ccBits[1]:e.ccBits[2]},e.getBestModeForData=function(t){return r.testNumeric(t)?e.NUMERIC:r.testAlphanumeric(t)?e.ALPHANUMERIC:r.testKanji(t)?e.KANJI:e.BYTE},e.toString=function(e){if(e&&e.id)return e.id;throw new Error("Invalid mode")},e.isValid=function(e){return e&&e.bit&&e.ccBits},e.from=function(t,r){if(e.isValid(t))return t;try{return function(t){if("string"!=typeof t)throw new Error("Param is not a string");switch(t.toLowerCase()){case"numeric":return e.NUMERIC;case"alphanumeric":return e.ALPHANUMERIC;case"kanji":return e.KANJI;case"byte":return e.BYTE;default:throw new Error("Unknown mode: "+t)}}(t)}catch(e){return r}}}(ro),function(e){const t=Mr,r=Hr,o=Ir,n=ro,a=oo,s=t.getBCHDigit(7973);function i(e,t){return n.getCharCountIndicator(e,t)+4}function c(e,t){let r=0;return e.forEach((function(e){const o=i(e.mode,t);r+=o+e.getBitsLength()})),r}e.from=function(e,t){return a.isValid(e)?parseInt(e,10):t},e.getCapacity=function(e,o,s){if(!a.isValid(e))throw new Error("Invalid QR Code version");void 0===s&&(s=n.BYTE);const c=8*(t.getSymbolTotalCodewords(e)-r.getTotalCodewordsCount(e,o));if(s===n.MIXED)return c;const l=c-i(s,e);switch(s){case n.NUMERIC:return Math.floor(l/10*3);case n.ALPHANUMERIC:return Math.floor(l/11*2);case n.KANJI:return Math.floor(l/13);case n.BYTE:default:return Math.floor(l/8)}},e.getBestVersionForData=function(t,r){let a;const s=o.from(r,o.M);if(Array.isArray(t)){if(t.length>1)return function(t,r){for(let o=1;o<=40;o++)if(c(t,o)<=e.getCapacity(o,r,n.MIXED))return o}(t,s);if(0===t.length)return 1;a=t[0]}else a=t;return function(t,r,o){for(let n=1;n<=40;n++)if(r<=e.getCapacity(n,o,t))return n}(a.mode,a.getLength(),s)},e.getEncodedBits=function(e){if(!a.isValid(e)||e<7)throw new Error("Invalid QR Code version");let r=e<<12;for(;t.getBCHDigit(r)-s>=0;)r^=7973<<t.getBCHDigit(r)-s;return e<<12|r}}(to);var ho={};const fo=Mr,po=fo.getBCHDigit(1335);ho.getEncodedBits=function(e,t){const r=e.bit<<3|t;let o=r<<10;for(;fo.getBCHDigit(o)-po>=0;)o^=1335<<fo.getBCHDigit(o)-po;return 21522^(r<<10|o)};var mo={};const go=ro;function ko(e){this.mode=go.NUMERIC,this.data=e.toString()}ko.getBitsLength=function(e){return 10*Math.floor(e/3)+(e%3?e%3*3+1:0)},ko.prototype.getLength=function(){return this.data.length},ko.prototype.getBitsLength=function(){return ko.getBitsLength(this.data.length)},ko.prototype.write=function(e){let t,r,o;for(t=0;t+3<=this.data.length;t+=3)r=this.data.substr(t,3),o=parseInt(r,10),e.put(o,10);const n=this.data.length-t;n>0&&(r=this.data.substr(t),o=parseInt(r,10),e.put(o,3*n+1))};var wo=ko;const bo=ro,Bo=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function yo(e){this.mode=bo.ALPHANUMERIC,this.data=e}yo.getBitsLength=function(e){return 11*Math.floor(e/2)+e%2*6},yo.prototype.getLength=function(){return this.data.length},yo.prototype.getBitsLength=function(){return yo.getBitsLength(this.data.length)},yo.prototype.write=function(e){let t;for(t=0;t+2<=this.data.length;t+=2){let r=45*Bo.indexOf(this.data[t]);r+=Bo.indexOf(this.data[t+1]),e.put(r,11)}this.data.length%2&&e.put(Bo.indexOf(this.data[t]),6)};var vo=yo;const Co=function(e){for(var t=[],r=e.length,o=0;o<r;o++){var n=e.charCodeAt(o);if(n>=55296&&n<=56319&&r>o+1){var a=e.charCodeAt(o+1);a>=56320&&a<=57343&&(n=1024*(n-55296)+a-56320+65536,o+=1)}n<128?t.push(n):n<2048?(t.push(n>>6|192),t.push(63&n|128)):n<55296||n>=57344&&n<65536?(t.push(n>>12|224),t.push(n>>6&63|128),t.push(63&n|128)):n>=65536&&n<=1114111?(t.push(n>>18|240),t.push(n>>12&63|128),t.push(n>>6&63|128),t.push(63&n|128)):t.push(239,191,189)}return new Uint8Array(t).buffer},Po=ro;function xo(e){this.mode=Po.BYTE,"string"==typeof e&&(e=Co(e)),this.data=new Uint8Array(e)}xo.getBitsLength=function(e){return 8*e},xo.prototype.getLength=function(){return this.data.length},xo.prototype.getBitsLength=function(){return xo.getBitsLength(this.data.length)},xo.prototype.write=function(e){for(let t=0,r=this.data.length;t<r;t++)e.put(this.data[t],8)};var $o=xo;const _o=ro,Ao=Mr;function Eo(e){this.mode=_o.KANJI,this.data=e}Eo.getBitsLength=function(e){return 13*e},Eo.prototype.getLength=function(){return this.data.length},Eo.prototype.getBitsLength=function(){return Eo.getBitsLength(this.data.length)},Eo.prototype.write=function(e){let t;for(t=0;t<this.data.length;t++){let r=Ao.toSJIS(this.data[t]);if(r>=33088&&r<=40956)r-=33088;else{if(!(r>=57408&&r<=60351))throw new Error("Invalid SJIS character: "+this.data[t]+"\nMake sure your charset is UTF-8");r-=49472}r=192*(r>>>8&255)+(255&r),e.put(r,13)}};var So=Eo,Lo={exports:{}};!function(e){var t={single_source_shortest_paths:function(e,r,o){var n={},a={};a[r]=0;var s,i,c,l,d,u,h,f=t.PriorityQueue.make();for(f.push(r,0);!f.empty();)for(c in i=(s=f.pop()).value,l=s.cost,d=e[i]||{})d.hasOwnProperty(c)&&(u=l+d[c],h=a[c],(void 0===a[c]||h>u)&&(a[c]=u,f.push(c,u),n[c]=i));if(void 0!==o&&void 0===a[o]){var p=["Could not find a path from ",r," to ",o,"."].join("");throw new Error(p)}return n},extract_shortest_path_from_predecessor_list:function(e,t){for(var r=[],o=t;o;)r.push(o),e[o],o=e[o];return r.reverse(),r},find_path:function(e,r,o){var n=t.single_source_shortest_paths(e,r,o);return t.extract_shortest_path_from_predecessor_list(n,o)},PriorityQueue:{make:function(e){var r,o=t.PriorityQueue,n={};for(r in e=e||{},o)o.hasOwnProperty(r)&&(n[r]=o[r]);return n.queue=[],n.sorter=e.sorter||o.default_sorter,n},default_sorter:function(e,t){return e.cost-t.cost},push:function(e,t){var r={value:e,cost:t};this.queue.push(r),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return 0===this.queue.length}}};e.exports=t}(Lo),function(e){const t=ro,r=wo,o=vo,n=$o,a=So,s=no,i=Mr,c=Lo.exports;function l(e){return unescape(encodeURIComponent(e)).length}function d(e,t,r){const o=[];let n;for(;null!==(n=e.exec(r));)o.push({data:n[0],index:n.index,mode:t,length:n[0].length});return o}function u(e){const r=d(s.NUMERIC,t.NUMERIC,e),o=d(s.ALPHANUMERIC,t.ALPHANUMERIC,e);let n,a;i.isKanjiModeEnabled()?(n=d(s.BYTE,t.BYTE,e),a=d(s.KANJI,t.KANJI,e)):(n=d(s.BYTE_KANJI,t.BYTE,e),a=[]);return r.concat(o,n,a).sort((function(e,t){return e.index-t.index})).map((function(e){return{data:e.data,mode:e.mode,length:e.length}}))}function h(e,s){switch(s){case t.NUMERIC:return r.getBitsLength(e);case t.ALPHANUMERIC:return o.getBitsLength(e);case t.KANJI:return a.getBitsLength(e);case t.BYTE:return n.getBitsLength(e)}}function f(e,s){let c;const l=t.getBestModeForData(e);if(c=t.from(s,l),c!==t.BYTE&&c.bit<l.bit)throw new Error('"'+e+'" cannot be encoded with mode '+t.toString(c)+".\n Suggested mode is: "+t.toString(l));switch(c!==t.KANJI||i.isKanjiModeEnabled()||(c=t.BYTE),c){case t.NUMERIC:return new r(e);case t.ALPHANUMERIC:return new o(e);case t.KANJI:return new a(e);case t.BYTE:return new n(e)}}e.fromArray=function(e){return e.reduce((function(e,t){return"string"==typeof t?e.push(f(t,null)):t.data&&e.push(f(t.data,t.mode)),e}),[])},e.fromString=function(r,o){const n=function(e){const r=[];for(let o=0;o<e.length;o++){const n=e[o];switch(n.mode){case t.NUMERIC:r.push([n,{data:n.data,mode:t.ALPHANUMERIC,length:n.length},{data:n.data,mode:t.BYTE,length:n.length}]);break;case t.ALPHANUMERIC:r.push([n,{data:n.data,mode:t.BYTE,length:n.length}]);break;case t.KANJI:r.push([n,{data:n.data,mode:t.BYTE,length:l(n.data)}]);break;case t.BYTE:r.push([{data:n.data,mode:t.BYTE,length:l(n.data)}])}}return r}(u(r,i.isKanjiModeEnabled())),a=function(e,r){const o={},n={start:{}};let a=["start"];for(let s=0;s<e.length;s++){const i=e[s],c=[];for(let e=0;e<i.length;e++){const l=i[e],d=""+s+e;c.push(d),o[d]={node:l,lastCount:0},n[d]={};for(let e=0;e<a.length;e++){const s=a[e];o[s]&&o[s].node.mode===l.mode?(n[s][d]=h(o[s].lastCount+l.length,l.mode)-h(o[s].lastCount,l.mode),o[s].lastCount+=l.length):(o[s]&&(o[s].lastCount=l.length),n[s][d]=h(l.length,l.mode)+4+t.getCharCountIndicator(l.mode,r))}}a=c}for(let e=0;e<a.length;e++)n[a[e]].end=0;return{map:n,table:o}}(n,o),s=c.find_path(a.map,"start","end"),d=[];for(let e=1;e<s.length-1;e++)d.push(a.table[s[e]].node);return e.fromArray(function(e){return e.reduce((function(e,t){const r=e.length-1>=0?e[e.length-1]:null;return r&&r.mode===t.mode?(e[e.length-1].data+=t.data,e):(e.push(t),e)}),[])}(d))},e.rawSplit=function(t){return e.fromArray(u(t,i.isKanjiModeEnabled()))}}(mo);const Mo=Mr,Ro=Ir,To=Or,Io=Dr,zo=Ur,Oo=Fr,No=jr,Do=Hr,Uo=eo,Fo=to,qo=ho,jo=ro,Ho=mo;function Xo(e,t,r){const o=e.size,n=qo.getEncodedBits(t,r);let a,s;for(a=0;a<15;a++)s=1==(n>>a&1),a<6?e.set(a,8,s,!0):a<8?e.set(a+1,8,s,!0):e.set(o-15+a,8,s,!0),a<8?e.set(8,o-a-1,s,!0):a<9?e.set(8,15-a-1+1,s,!0):e.set(8,15-a-1,s,!0);e.set(o-8,8,1,!0)}function Vo(e,t,r){const o=new To;r.forEach((function(t){o.put(t.mode.bit,4),o.put(t.getLength(),jo.getCharCountIndicator(t.mode,e)),t.write(o)}));const n=8*(Mo.getSymbolTotalCodewords(e)-Do.getTotalCodewordsCount(e,t));for(o.getLengthInBits()+4<=n&&o.put(0,4);o.getLengthInBits()%8!=0;)o.putBit(0);const a=(n-o.getLengthInBits())/8;for(let e=0;e<a;e++)o.put(e%2?17:236,8);return function(e,t,r){const o=Mo.getSymbolTotalCodewords(t),n=Do.getTotalCodewordsCount(t,r),a=o-n,s=Do.getBlocksCount(t,r),i=s-o%s,c=Math.floor(o/s),l=Math.floor(a/s),d=l+1,u=c-l,h=new Uo(u);let f=0;const p=new Array(s),m=new Array(s);let g=0;const k=new Uint8Array(e.buffer);for(let e=0;e<s;e++){const t=e<i?l:d;p[e]=k.slice(f,f+t),m[e]=h.encode(p[e]),f+=t,g=Math.max(g,t)}const w=new Uint8Array(o);let b,B,y=0;for(b=0;b<g;b++)for(B=0;B<s;B++)b<p[B].length&&(w[y++]=p[B][b]);for(b=0;b<u;b++)for(B=0;B<s;B++)w[y++]=m[B][b];return w}(o,e,t)}function Wo(e,t,r,o){let n;if(Array.isArray(e))n=Ho.fromArray(e);else{if("string"!=typeof e)throw new Error("Invalid data");{let o=t;if(!o){const t=Ho.rawSplit(e);o=Fo.getBestVersionForData(t,r)}n=Ho.fromString(e,o||40)}}const a=Fo.getBestVersionForData(n,r);if(!a)throw new Error("The amount of data is too big to be stored in a QR Code");if(t){if(t<a)throw new Error("\nThe chosen QR Code version cannot contain this amount of data.\nMinimum version required to store current data is: "+a+".\n")}else t=a;const s=Vo(t,r,n),i=Mo.getSymbolSize(t),c=new Io(i);return function(e,t){const r=e.size,o=Oo.getPositions(t);for(let t=0;t<o.length;t++){const n=o[t][0],a=o[t][1];for(let t=-1;t<=7;t++)if(!(n+t<=-1||r<=n+t))for(let o=-1;o<=7;o++)a+o<=-1||r<=a+o||(t>=0&&t<=6&&(0===o||6===o)||o>=0&&o<=6&&(0===t||6===t)||t>=2&&t<=4&&o>=2&&o<=4?e.set(n+t,a+o,!0,!0):e.set(n+t,a+o,!1,!0))}}(c,t),function(e){const t=e.size;for(let r=8;r<t-8;r++){const t=r%2==0;e.set(r,6,t,!0),e.set(6,r,t,!0)}}(c),function(e,t){const r=zo.getPositions(t);for(let t=0;t<r.length;t++){const o=r[t][0],n=r[t][1];for(let t=-2;t<=2;t++)for(let r=-2;r<=2;r++)-2===t||2===t||-2===r||2===r||0===t&&0===r?e.set(o+t,n+r,!0,!0):e.set(o+t,n+r,!1,!0)}}(c,t),Xo(c,r,0),t>=7&&function(e,t){const r=e.size,o=Fo.getEncodedBits(t);let n,a,s;for(let t=0;t<18;t++)n=Math.floor(t/3),a=t%3+r-8-3,s=1==(o>>t&1),e.set(n,a,s,!0),e.set(a,n,s,!0)}(c,t),function(e,t){const r=e.size;let o=-1,n=r-1,a=7,s=0;for(let i=r-1;i>0;i-=2)for(6===i&&i--;;){for(let r=0;r<2;r++)if(!e.isReserved(n,i-r)){let o=!1;s<t.length&&(o=1==(t[s]>>>a&1)),e.set(n,i-r,o),a--,-1===a&&(s++,a=7)}if(n+=o,n<0||r<=n){n-=o,o=-o;break}}}(c,s),isNaN(o)&&(o=No.getBestMask(c,Xo.bind(null,c,r))),No.applyMask(o,c),Xo(c,r,o),{modules:c,version:t,errorCorrectionLevel:r,maskPattern:o,segments:n}}Lr.create=function(e,t){if(void 0===e||""===e)throw new Error("No input text");let r,o,n=Ro.M;return void 0!==t&&(n=Ro.from(t.errorCorrectionLevel,Ro.M),r=Fo.from(t.version),o=No.from(t.maskPattern),t.toSJISFunc&&Mo.setToSJISFunction(t.toSJISFunc)),Wo(e,r,n,o)};var Zo={},Qo={};!function(e){function t(e){if("number"==typeof e&&(e=e.toString()),"string"!=typeof e)throw new Error("Color should be defined as hex string");let t=e.slice().replace("#","").split("");if(t.length<3||5===t.length||t.length>8)throw new Error("Invalid hex color: "+e);3!==t.length&&4!==t.length||(t=Array.prototype.concat.apply([],t.map((function(e){return[e,e]})))),6===t.length&&t.push("F","F");const r=parseInt(t.join(""),16);return{r:r>>24&255,g:r>>16&255,b:r>>8&255,a:255&r,hex:"#"+t.slice(0,6).join("")}}e.getOptions=function(e){e||(e={}),e.color||(e.color={});const r=void 0===e.margin||null===e.margin||e.margin<0?4:e.margin,o=e.width&&e.width>=21?e.width:void 0,n=e.scale||4;return{width:o,scale:o?4:n,margin:r,color:{dark:t(e.color.dark||"#000000ff"),light:t(e.color.light||"#ffffffff")},type:e.type,rendererOpts:e.rendererOpts||{}}},e.getScale=function(e,t){return t.width&&t.width>=e+2*t.margin?t.width/(e+2*t.margin):t.scale},e.getImageWidth=function(t,r){const o=e.getScale(t,r);return Math.floor((t+2*r.margin)*o)},e.qrToImageData=function(t,r,o){const n=r.modules.size,a=r.modules.data,s=e.getScale(n,o),i=Math.floor((n+2*o.margin)*s),c=o.margin*s,l=[o.color.light,o.color.dark];for(let e=0;e<i;e++)for(let r=0;r<i;r++){let d=4*(e*i+r),u=o.color.light;if(e>=c&&r>=c&&e<i-c&&r<i-c){u=l[a[Math.floor((e-c)/s)*n+Math.floor((r-c)/s)]?1:0]}t[d++]=u.r,t[d++]=u.g,t[d++]=u.b,t[d]=u.a}}}(Qo),function(e){const t=Qo;e.render=function(e,r,o){let n=o,a=r;void 0!==n||r&&r.getContext||(n=r,r=void 0),r||(a=function(){try{return document.createElement("canvas")}catch(e){throw new Error("You need to specify a canvas element")}}()),n=t.getOptions(n);const s=t.getImageWidth(e.modules.size,n),i=a.getContext("2d"),c=i.createImageData(s,s);return t.qrToImageData(c.data,e,n),function(e,t,r){e.clearRect(0,0,t.width,t.height),t.style||(t.style={}),t.height=r,t.width=r,t.style.height=r+"px",t.style.width=r+"px"}(i,a,s),i.putImageData(c,0,0),a},e.renderToDataURL=function(t,r,o){let n=o;void 0!==n||r&&r.getContext||(n=r,r=void 0),n||(n={});const a=e.render(t,r,n),s=n.type||"image/png",i=n.rendererOpts||{};return a.toDataURL(s,i.quality)}}(Zo);var Ko={};const Yo=Qo;function Jo(e,t){const r=e.a/255,o=t+'="'+e.hex+'"';return r<1?o+" "+t+'-opacity="'+r.toFixed(2).slice(1)+'"':o}function Go(e,t,r){let o=e+t;return void 0!==r&&(o+=" "+r),o}Ko.render=function(e,t,r){const o=Yo.getOptions(t),n=e.modules.size,a=e.modules.data,s=n+2*o.margin,i=o.color.light.a?"<path "+Jo(o.color.light,"fill")+' d="M0 0h'+s+"v"+s+'H0z"/>':"",c="<path "+Jo(o.color.dark,"stroke")+' d="'+function(e,t,r){let o="",n=0,a=!1,s=0;for(let i=0;i<e.length;i++){const c=Math.floor(i%t),l=Math.floor(i/t);c||a||(a=!0),e[i]?(s++,i>0&&c>0&&e[i-1]||(o+=a?Go("M",c+r,.5+l+r):Go("m",n,0),n=0,a=!1),c+1<t&&e[i+1]||(o+=Go("h",s),s=0)):n++}return o}(a,n,o.margin)+'"/>',l='viewBox="0 0 '+s+" "+s+'"',d='<svg xmlns="http://www.w3.org/2000/svg" '+(o.width?'width="'+o.width+'" height="'+o.width+'" ':"")+l+' shape-rendering="crispEdges">'+i+c+"</svg>\n";return"function"==typeof r&&r(null,d),d};const en=function(){return"function"==typeof Promise&&Promise.prototype&&Promise.prototype.then},tn=Lr,rn=Zo,on=Ko;function nn(e,t,r,o,n){const a=[].slice.call(arguments,1),s=a.length,i="function"==typeof a[s-1];if(!i&&!en())throw new Error("Callback required as last argument");if(!i){if(s<1)throw new Error("Too few arguments provided");return 1===s?(r=t,t=o=void 0):2!==s||t.getContext||(o=r,r=t,t=void 0),new Promise((function(n,a){try{const a=tn.create(r,o);n(e(a,t,o))}catch(e){a(e)}}))}if(s<2)throw new Error("Too few arguments provided");2===s?(n=r,r=t,t=o=void 0):3===s&&(t.getContext&&void 0===n?(n=o,o=void 0):(n=o,o=r,r=t,t=void 0));try{const a=tn.create(r,o);n(null,e(a,t,o))}catch(e){n(e)}}Sr.create=tn.create,Sr.toCanvas=nn.bind(null,rn.render),Sr.toDataURL=nn.bind(null,rn.renderToDataURL),Sr.toString=nn.bind(null,(function(e,t,r){return on.render(e,r)}));const an=Array.from({length:256},((e,t)=>t.toString(16).padStart(2,"0"))),sn=e=>{const t=new Uint8Array(e);return self.crypto.getRandomValues(t),window.atob((e=>{if(!(e instanceof Uint8Array))throw new Error("Uint8Array expected");let t="";for(let r=0;r<e.length;r++)t+=an[e[r]];return t})(t))};function cn(t){let r,o,n,a,s;return{c(){r=f("button"),r.textContent="Save QRCode to Image",o=m(),n=f("div")},m(e,i){d(e,r,i),d(e,o,i),d(e,n,i),t[8](n),a||(s=k(r,"click",t[7]),a=!0)},p:e,d(e){e&&u(r),e&&u(o),e&&u(n),t[8](null),a=!1,s()}}}function ln(t){let r,n,a,s,i,c,h,p,g,b=""!=t[1]&&cn(t);return{c(){r=f("div"),n=f("input"),a=m(),s=f("button"),s.textContent="Generate Password",i=m(),c=f("canvas"),h=m(),b&&b.c(),w(n,"placeholder","password")},m(e,o){d(e,r,o),l(r,n),B(n,t[1]),l(r,a),l(r,s),l(r,i),l(r,c),t[6](c),l(r,h),b&&b.m(r,null),p||(g=[k(n,"input",t[4]),k(s,"click",t[5])],p=!0)},p(e,[t]){2&t&&n.value!==e[1]&&B(n,e[1]),""!=e[1]?b?b.p(e,t):(b=cn(e),b.c(),b.m(r,null)):b&&(b.d(1),b=null)},i:e,o:e,d(e){e&&u(r),t[6](null),b&&b.d(),p=!1,o(g)}}}function dn(e,t,r){let o,n,a,s;c(e,ue,(e=>r(3,n=e)));return e.$$.update=()=>{8&e.$$.dirty&&r(1,o=n),2&e.$$.dirty&&ue.set(o),11&e.$$.dirty&&a&&""!=n&&Sr.toCanvas(a,o)},[a,o,s,n,function(){o=this.value,r(1,o),r(3,n)},()=>{r(1,o=sn(100))},function(e){A[e?"unshift":"push"]((()=>{a=e,r(0,a)}))},()=>{const e=a.toDataURL("image/png"),t=new Image;t.src=e,r(2,s.src=t.src,s);let o=document.createElement("a");o.setAttribute("download","download"),o.href=s.src,o.click()},function(e){A[e?"unshift":"push"]((()=>{s=e,r(2,s)}))}]}class un extends Q{constructor(e){super(),Z(this,e,dn,ln,a,{})}}function hn(t){let r,o,n;return{c(){r=f("button"),r.textContent="Home"},m(e,a){d(e,r,a),o||(n=k(r,"click",t[2]),o=!0)},p:e,d(e){e&&u(r),o=!1,n()}}}function fn(t){let r,n,a,s,i,c,h,p,g,w,b,B;return a=new ne({props:{c:"menu",v:"encrypt"}}),c=new ne({props:{c:"menu",v:"decrypt"}}),g=new ne({props:{c:"menu",v:"password"}}),{c(){r=f("div"),n=f("button"),H(a.$$.fragment),s=m(),i=f("button"),H(c.$$.fragment),h=m(),p=f("button"),H(g.$$.fragment)},m(e,o){d(e,r,o),l(r,n),X(a,n,null),l(r,s),l(r,i),X(c,i,null),l(r,h),l(r,p),X(g,p,null),w=!0,b||(B=[k(n,"click",t[3]),k(i,"click",t[4]),k(p,"click",t[5])],b=!0)},p:e,i(e){w||(q(a.$$.fragment,e),q(c.$$.fragment,e),q(g.$$.fragment,e),w=!0)},o(e){j(a.$$.fragment,e),j(c.$$.fragment,e),j(g.$$.fragment,e),w=!1},d(e){e&&u(r),V(a),V(c),V(g),b=!1,o(B)}}}function pn(t){let r,o,n,a,s,i;return n=new ne({props:{c:"menu",v:"message"}}),{c(){r=f("div"),o=f("button"),H(n.$$.fragment)},m(e,c){d(e,r,c),l(r,o),X(n,o,null),a=!0,s||(i=k(o,"click",t[6]),s=!0)},p:e,i(e){a||(q(n.$$.fragment,e),a=!0)},o(e){j(n.$$.fragment,e),a=!1},d(e){e&&u(r),V(n),s=!1,i()}}}function mn(t){let r,o,n,a,s,i;return n=new ne({props:{c:"menu",v:"message"}}),{c(){r=f("div"),o=f("button"),H(n.$$.fragment)},m(e,c){d(e,r,c),l(r,o),X(n,o,null),a=!0,s||(i=k(o,"click",t[7]),s=!0)},p:e,i(e){a||(q(n.$$.fragment,e),a=!0)},o(e){j(n.$$.fragment,e),a=!1},d(e){e&&u(r),V(n),s=!1,i()}}}function gn(t){let r,n,a,s,i,c,h,p;return{c(){r=f("div"),n=f("button"),n.textContent="Generate Random Password",a=m(),s=f("button"),s.textContent="Read from QR Code (photo)",i=m(),c=f("button"),c.textContent="Read from QR Code (image)"},m(e,o){d(e,r,o),l(r,n),l(r,a),l(r,s),l(r,i),l(r,c),h||(p=[k(n,"click",t[8]),k(s,"click",t[9]),k(c,"click",t[10])],h=!0)},p:e,d(e){e&&u(r),h=!1,o(p)}}}function kn(e){let t,r,o;var n=e[0];return n&&(t=new n({})),{c(){t&&H(t.$$.fragment),r=g()},m(e,n){t&&X(t,e,n),d(e,r,n),o=!0},p(e,o){if(n!==(n=e[0])){if(t){U();const e=t;j(e.$$.fragment,1,0,(()=>{V(e,1)})),F()}n?(t=new n({}),H(t.$$.fragment),q(t.$$.fragment,1),X(t,r.parentNode,r)):t=null}},i(e){o||(t&&q(t.$$.fragment,e),o=!0)},o(e){t&&j(t.$$.fragment,e),o=!1},d(e){e&&u(r),t&&V(t,e)}}}function wn(e){let t,r,o,n,a;t=new Se({});let s=e[0]!=mr&&bn(),i=e[0]==mr&&Bn();return{c(){H(t.$$.fragment),r=m(),s&&s.c(),o=m(),i&&i.c(),n=g()},m(e,c){X(t,e,c),d(e,r,c),s&&s.m(e,c),d(e,o,c),i&&i.m(e,c),d(e,n,c),a=!0},p(e,t){e[0]!=mr?s?1&t&&q(s,1):(s=bn(),s.c(),q(s,1),s.m(o.parentNode,o)):s&&(U(),j(s,1,1,(()=>{s=null})),F()),e[0]==mr?i?1&t&&q(i,1):(i=Bn(),i.c(),q(i,1),i.m(n.parentNode,n)):i&&(U(),j(i,1,1,(()=>{i=null})),F())},i(e){a||(q(t.$$.fragment,e),q(s),q(i),a=!0)},o(e){j(t.$$.fragment,e),j(s),j(i),a=!1},d(e){V(t,e),e&&u(r),s&&s.d(e),e&&u(o),i&&i.d(e),e&&u(n)}}}function bn(e){let t,r,o,n;return r=new Fe({}),o=new He({}),{c(){t=f("div"),H(r.$$.fragment),H(o.$$.fragment)},m(e,a){d(e,t,a),X(r,t,null),X(o,t,null),n=!0},i(e){n||(q(r.$$.fragment,e),q(o.$$.fragment,e),n=!0)},o(e){j(r.$$.fragment,e),j(o.$$.fragment,e),n=!1},d(e){e&&u(t),V(r),V(o)}}}function Bn(e){let t,r;return t=new Br({}),{c(){H(t.$$.fragment)},m(e,o){X(t,e,o),r=!0},i(e){r||(q(t.$$.fragment,e),r=!0)},o(e){j(t.$$.fragment,e),r=!1},d(e){V(t,e)}}}function yn(e){let t,r,o,n,a,s,i,c,h,p,g,k,b,B,y,v,C,P="start"!=e[1]&&hn(e),x="start"==e[1]&&fn(e),$="encrypt"==e[1]&&null==e[0]&&pn(e),_="decrypt"==e[1]&&null==e[0]&&mn(e),A="password"==e[1]&&gn(e),E="start"!=e[1]&&kn(e),S="encrypt"==e[1]&&e[0]&&wn(e);return B=new le({}),v=new We({}),{c(){t=m(),r=f("main"),o=f("h1"),o.textContent="DoCrypt",n=m(),P&&P.c(),a=m(),x&&x.c(),s=m(),$&&$.c(),i=m(),_&&_.c(),c=m(),A&&A.c(),h=m(),E&&E.c(),p=m(),S&&S.c(),g=m(),k=f("div"),b=m(),H(B.$$.fragment),y=m(),H(v.$$.fragment),document.title="DoCrypt",w(r,"class","svelte-znj3dt")},m(e,u){d(e,t,u),d(e,r,u),l(r,o),l(r,n),P&&P.m(r,null),l(r,a),x&&x.m(r,null),l(r,s),$&&$.m(r,null),l(r,i),_&&_.m(r,null),l(r,c),A&&A.m(r,null),l(r,h),E&&E.m(r,null),l(r,p),S&&S.m(r,null),l(r,g),l(r,k),l(r,b),X(B,r,null),l(r,y),X(v,r,null),C=!0},p(e,[t]){"start"!=e[1]?P?P.p(e,t):(P=hn(e),P.c(),P.m(r,a)):P&&(P.d(1),P=null),"start"==e[1]?x?(x.p(e,t),2&t&&q(x,1)):(x=fn(e),x.c(),q(x,1),x.m(r,s)):x&&(U(),j(x,1,1,(()=>{x=null})),F()),"encrypt"==e[1]&&null==e[0]?$?($.p(e,t),3&t&&q($,1)):($=pn(e),$.c(),q($,1),$.m(r,i)):$&&(U(),j($,1,1,(()=>{$=null})),F()),"decrypt"==e[1]&&null==e[0]?_?(_.p(e,t),3&t&&q(_,1)):(_=mn(e),_.c(),q(_,1),_.m(r,c)):_&&(U(),j(_,1,1,(()=>{_=null})),F()),"password"==e[1]?A?A.p(e,t):(A=gn(e),A.c(),A.m(r,h)):A&&(A.d(1),A=null),"start"!=e[1]?E?(E.p(e,t),2&t&&q(E,1)):(E=kn(e),E.c(),q(E,1),E.m(r,p)):E&&(U(),j(E,1,1,(()=>{E=null})),F()),"encrypt"==e[1]&&e[0]?S?(S.p(e,t),3&t&&q(S,1)):(S=wn(e),S.c(),q(S,1),S.m(r,g)):S&&(U(),j(S,1,1,(()=>{S=null})),F())},i(e){C||(q(x),q($),q(_),q(E),q(S),q(B.$$.fragment,e),q(v.$$.fragment,e),C=!0)},o(e){j(x),j($),j(_),j(E),j(S),j(B.$$.fragment,e),j(v.$$.fragment,e),C=!1},d(e){e&&u(t),e&&u(r),P&&P.d(),x&&x.d(),$&&$.d(),_&&_.d(),A&&A.d(),E&&E.d(),S&&S.d(),V(B),V(v)}}}function vn(e,t,r){let o;c(e,Er,(e=>r(1,o=e)));let n=null;return[n,o,()=>{Er.set("start"),r(0,n=null),Me.set("")},()=>{Er.set("encrypt"),Me.set("")},()=>{Er.set("decrypt"),Me.set("")},()=>{Er.set("password"),Me.set(""),r(0,n=null)},()=>{r(0,n=mr),Me.set("")},()=>{r(0,n=_r),Me.set("")},()=>{r(0,n=un)},()=>{r(0,n=Be)},()=>{r(0,n=$e)}]}const Cn=new class extends Q{constructor(e){super(),Z(this,e,vn,yn,a,{})}}({target:document.body});var Pn=Object.freeze({__proto__:null,createWorker:()=>new Worker(URL.createObjectURL(new Blob(['class x{constructor(a,b){this.width=b;this.height=a.length/b;this.data=a}static createEmpty(a,b){return new x(new Uint8ClampedArray(a*b),a)}get(a,b){return 0>a||a>=this.width||0>b||b>=this.height?!1:!!this.data[b*this.width+a]}set(a,b,c){this.data[b*this.width+a]=c?1:0}setRegion(a,b,c,d,e){for(let f=b;f<b+d;f++)for(let g=a;g<a+c;g++)this.set(g,f,!!e)}}\nclass A{constructor(a,b,c){this.width=a;a*=b;if(c&&c.length!==a)throw Error("Wrong buffer size");this.data=c||new Uint8ClampedArray(a)}get(a,b){return this.data[b*this.width+a]}set(a,b,c){this.data[b*this.width+a]=c}}\nclass ba{constructor(a){this.bitOffset=this.byteOffset=0;this.bytes=a}readBits(a){if(1>a||32<a||a>this.available())throw Error("Cannot read "+a.toString()+" bits");var b=0;if(0<this.bitOffset){b=8-this.bitOffset;var c=a<b?a:b;b-=c;b=(this.bytes[this.byteOffset]&255>>8-c<<b)>>b;a-=c;this.bitOffset+=c;8===this.bitOffset&&(this.bitOffset=0,this.byteOffset++)}if(0<a){for(;8<=a;)b=b<<8|this.bytes[this.byteOffset]&255,this.byteOffset++,a-=8;0<a&&(c=8-a,b=b<<a|(this.bytes[this.byteOffset]&255>>c<<c)>>c,\nthis.bitOffset+=a)}return b}available(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset}}var B,C=B||(B={});C.Numeric="numeric";C.Alphanumeric="alphanumeric";C.Byte="byte";C.Kanji="kanji";C.ECI="eci";C.StructuredAppend="structuredappend";var D,E=D||(D={});E[E.Terminator=0]="Terminator";E[E.Numeric=1]="Numeric";E[E.Alphanumeric=2]="Alphanumeric";E[E.Byte=4]="Byte";E[E.Kanji=8]="Kanji";E[E.ECI=7]="ECI";E[E.StructuredAppend=3]="StructuredAppend";let F="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:".split("");\nfunction ca(a,b){let c=[],d="";b=a.readBits([8,16,16][b]);for(let e=0;e<b;e++){let f=a.readBits(8);c.push(f)}try{d+=decodeURIComponent(c.map(e=>`%${("0"+e.toString(16)).substr(-2)}`).join(""))}catch(e){}return{bytes:c,text:d}}\nfunction da(a,b){a=new ba(a);let c=9>=b?0:26>=b?1:2;for(b={text:"",bytes:[],chunks:[],version:b};4<=a.available();){var d=a.readBits(4);if(d===D.Terminator)return b;if(d===D.ECI)0===a.readBits(1)?b.chunks.push({type:B.ECI,assignmentNumber:a.readBits(7)}):0===a.readBits(1)?b.chunks.push({type:B.ECI,assignmentNumber:a.readBits(14)}):0===a.readBits(1)?b.chunks.push({type:B.ECI,assignmentNumber:a.readBits(21)}):b.chunks.push({type:B.ECI,assignmentNumber:-1});else if(d===D.Numeric){var e=a,f=[];d="";for(var g=\ne.readBits([10,12,14][c]);3<=g;){var h=e.readBits(10);if(1E3<=h)throw Error("Invalid numeric value above 999");var k=Math.floor(h/100),m=Math.floor(h/10)%10;h%=10;f.push(48+k,48+m,48+h);d+=k.toString()+m.toString()+h.toString();g-=3}if(2===g){g=e.readBits(7);if(100<=g)throw Error("Invalid numeric value above 99");e=Math.floor(g/10);g%=10;f.push(48+e,48+g);d+=e.toString()+g.toString()}else if(1===g){e=e.readBits(4);if(10<=e)throw Error("Invalid numeric value above 9");f.push(48+e);d+=e.toString()}b.text+=\nd;b.bytes.push(...f);b.chunks.push({type:B.Numeric,text:d})}else if(d===D.Alphanumeric){e=a;f=[];d="";for(g=e.readBits([9,11,13][c]);2<=g;)m=e.readBits(11),k=Math.floor(m/45),m%=45,f.push(F[k].charCodeAt(0),F[m].charCodeAt(0)),d+=F[k]+F[m],g-=2;1===g&&(e=e.readBits(6),f.push(F[e].charCodeAt(0)),d+=F[e]);b.text+=d;b.bytes.push(...f);b.chunks.push({type:B.Alphanumeric,text:d})}else if(d===D.Byte)d=ca(a,c),b.text+=d.text,b.bytes.push(...d.bytes),b.chunks.push({type:B.Byte,bytes:d.bytes,text:d.text});\nelse if(d===D.Kanji){f=a;d=[];e=f.readBits([8,10,12][c]);for(g=0;g<e;g++)k=f.readBits(13),k=Math.floor(k/192)<<8|k%192,k=7936>k?k+33088:k+49472,d.push(k>>8,k&255);f=(new TextDecoder("shift-jis")).decode(Uint8Array.from(d));b.text+=f;b.bytes.push(...d);b.chunks.push({type:B.Kanji,bytes:d,text:f})}else d===D.StructuredAppend&&b.chunks.push({type:B.StructuredAppend,currentSequence:a.readBits(4),totalSequence:a.readBits(4),parity:a.readBits(8)})}if(0===a.available()||0===a.readBits(a.available()))return b}\nclass G{constructor(a,b){if(0===b.length)throw Error("No coefficients.");this.field=a;let c=b.length;if(1<c&&0===b[0]){let d=1;for(;d<c&&0===b[d];)d++;if(d===c)this.coefficients=a.zero.coefficients;else for(this.coefficients=new Uint8ClampedArray(c-d),a=0;a<this.coefficients.length;a++)this.coefficients[a]=b[d+a]}else this.coefficients=b}degree(){return this.coefficients.length-1}isZero(){return 0===this.coefficients[0]}getCoefficient(a){return this.coefficients[this.coefficients.length-1-a]}addOrSubtract(a){if(this.isZero())return a;\nif(a.isZero())return this;let b=this.coefficients;a=a.coefficients;b.length>a.length&&([b,a]=[a,b]);let c=new Uint8ClampedArray(a.length),d=a.length-b.length;for(var e=0;e<d;e++)c[e]=a[e];for(e=d;e<a.length;e++)c[e]=b[e-d]^a[e];return new G(this.field,c)}multiply(a){if(0===a)return this.field.zero;if(1===a)return this;let b=this.coefficients.length,c=new Uint8ClampedArray(b);for(let d=0;d<b;d++)c[d]=this.field.multiply(this.coefficients[d],a);return new G(this.field,c)}multiplyPoly(a){if(this.isZero()||\na.isZero())return this.field.zero;let b=this.coefficients,c=b.length;a=a.coefficients;let d=a.length,e=new Uint8ClampedArray(c+d-1);for(let f=0;f<c;f++){let g=b[f];for(let h=0;h<d;h++)e[f+h]=H(e[f+h],this.field.multiply(g,a[h]))}return new G(this.field,e)}multiplyByMonomial(a,b){if(0>a)throw Error("Invalid degree less than 0");if(0===b)return this.field.zero;let c=this.coefficients.length;a=new Uint8ClampedArray(c+a);for(let d=0;d<c;d++)a[d]=this.field.multiply(this.coefficients[d],b);return new G(this.field,\na)}evaluateAt(a){let b=0;if(0===a)return this.getCoefficient(0);let c=this.coefficients.length;if(1===a)return this.coefficients.forEach(d=>{b^=d}),b;b=this.coefficients[0];for(let d=1;d<c;d++)b=H(this.field.multiply(a,b),this.coefficients[d]);return b}}function H(a,b){return a^b}\nclass ea{constructor(a,b,c){this.primitive=a;this.size=b;this.generatorBase=c;this.expTable=Array(this.size);this.logTable=Array(this.size);a=1;for(b=0;b<this.size;b++)this.expTable[b]=a,a*=2,a>=this.size&&(a=(a^this.primitive)&this.size-1);for(a=0;a<this.size-1;a++)this.logTable[this.expTable[a]]=a;this.zero=new G(this,Uint8ClampedArray.from([0]));this.one=new G(this,Uint8ClampedArray.from([1]))}multiply(a,b){return 0===a||0===b?0:this.expTable[(this.logTable[a]+this.logTable[b])%(this.size-1)]}inverse(a){if(0===\na)throw Error("Can\'t invert 0");return this.expTable[this.size-this.logTable[a]-1]}buildMonomial(a,b){if(0>a)throw Error("Invalid monomial degree less than 0");if(0===b)return this.zero;a=new Uint8ClampedArray(a+1);a[0]=b;return new G(this,a)}log(a){if(0===a)throw Error("Can\'t take log(0)");return this.logTable[a]}exp(a){return this.expTable[a]}}\nfunction fa(a,b,c,d){b.degree()<c.degree()&&([b,c]=[c,b]);let e=a.zero;for(var f=a.one;c.degree()>=d/2;){var g=b;let h=e;b=c;e=f;if(b.isZero())return null;c=g;f=a.zero;g=b.getCoefficient(b.degree());for(g=a.inverse(g);c.degree()>=b.degree()&&!c.isZero();){let k=c.degree()-b.degree(),m=a.multiply(c.getCoefficient(c.degree()),g);f=f.addOrSubtract(a.buildMonomial(k,m));c=c.addOrSubtract(b.multiplyByMonomial(k,m))}f=f.multiplyPoly(e).addOrSubtract(h);if(c.degree()>=b.degree())return null}d=f.getCoefficient(0);\nif(0===d)return null;a=a.inverse(d);return[f.multiply(a),c.multiply(a)]}\nfunction ha(a,b){let c=new Uint8ClampedArray(a.length);c.set(a);a=new ea(285,256,0);var d=new G(a,c),e=new Uint8ClampedArray(b),f=!1;for(var g=0;g<b;g++){var h=d.evaluateAt(a.exp(g+a.generatorBase));e[e.length-1-g]=h;0!==h&&(f=!0)}if(!f)return c;d=new G(a,e);d=fa(a,a.buildMonomial(b,1),d,b);if(null===d)return null;b=d[0];g=b.degree();if(1===g)b=[b.getCoefficient(1)];else{e=Array(g);f=0;for(h=1;h<a.size&&f<g;h++)0===b.evaluateAt(h)&&(e[f]=a.inverse(h),f++);b=f!==g?null:e}if(null==b)return null;e=d[1];\nf=b.length;d=Array(f);for(g=0;g<f;g++){h=a.inverse(b[g]);let k=1;for(let m=0;m<f;m++)g!==m&&(k=a.multiply(k,H(1,a.multiply(b[m],h))));d[g]=a.multiply(e.evaluateAt(h),a.inverse(k));0!==a.generatorBase&&(d[g]=a.multiply(d[g],h))}for(e=0;e<b.length;e++){f=c.length-1-a.log(b[e]);if(0>f)return null;c[f]^=d[e]}return c}\nlet I=[{infoBits:null,versionNumber:1,alignmentPatternCenters:[],errorCorrectionLevels:[{ecCodewordsPerBlock:7,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:19}]},{ecCodewordsPerBlock:10,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:16}]},{ecCodewordsPerBlock:13,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:13}]},{ecCodewordsPerBlock:17,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:9}]}]},{infoBits:null,versionNumber:2,alignmentPatternCenters:[6,18],errorCorrectionLevels:[{ecCodewordsPerBlock:10,ecBlocks:[{numBlocks:1,\ndataCodewordsPerBlock:34}]},{ecCodewordsPerBlock:16,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:28}]},{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:22}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:16}]}]},{infoBits:null,versionNumber:3,alignmentPatternCenters:[6,22],errorCorrectionLevels:[{ecCodewordsPerBlock:15,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:55}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:44}]},{ecCodewordsPerBlock:18,\necBlocks:[{numBlocks:2,dataCodewordsPerBlock:17}]},{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:13}]}]},{infoBits:null,versionNumber:4,alignmentPatternCenters:[6,26],errorCorrectionLevels:[{ecCodewordsPerBlock:20,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:80}]},{ecCodewordsPerBlock:18,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:32}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:24}]},{ecCodewordsPerBlock:16,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:9}]}]},\n{infoBits:null,versionNumber:5,alignmentPatternCenters:[6,30],errorCorrectionLevels:[{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:108}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:43}]},{ecCodewordsPerBlock:18,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:15},{numBlocks:2,dataCodewordsPerBlock:16}]},{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:11},{numBlocks:2,dataCodewordsPerBlock:12}]}]},{infoBits:null,versionNumber:6,alignmentPatternCenters:[6,\n34],errorCorrectionLevels:[{ecCodewordsPerBlock:18,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:68}]},{ecCodewordsPerBlock:16,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:27}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:19}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:15}]}]},{infoBits:31892,versionNumber:7,alignmentPatternCenters:[6,22,38],errorCorrectionLevels:[{ecCodewordsPerBlock:20,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:78}]},{ecCodewordsPerBlock:18,\necBlocks:[{numBlocks:4,dataCodewordsPerBlock:31}]},{ecCodewordsPerBlock:18,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:14},{numBlocks:4,dataCodewordsPerBlock:15}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:13},{numBlocks:1,dataCodewordsPerBlock:14}]}]},{infoBits:34236,versionNumber:8,alignmentPatternCenters:[6,24,42],errorCorrectionLevels:[{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:97}]},{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:38},\n{numBlocks:2,dataCodewordsPerBlock:39}]},{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:18},{numBlocks:2,dataCodewordsPerBlock:19}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:14},{numBlocks:2,dataCodewordsPerBlock:15}]}]},{infoBits:39577,versionNumber:9,alignmentPatternCenters:[6,26,46],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:116}]},{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:36},\n{numBlocks:2,dataCodewordsPerBlock:37}]},{ecCodewordsPerBlock:20,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:16},{numBlocks:4,dataCodewordsPerBlock:17}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:12},{numBlocks:4,dataCodewordsPerBlock:13}]}]},{infoBits:42195,versionNumber:10,alignmentPatternCenters:[6,28,50],errorCorrectionLevels:[{ecCodewordsPerBlock:18,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:68},{numBlocks:2,dataCodewordsPerBlock:69}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:4,\ndataCodewordsPerBlock:43},{numBlocks:1,dataCodewordsPerBlock:44}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:6,dataCodewordsPerBlock:19},{numBlocks:2,dataCodewordsPerBlock:20}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:6,dataCodewordsPerBlock:15},{numBlocks:2,dataCodewordsPerBlock:16}]}]},{infoBits:48118,versionNumber:11,alignmentPatternCenters:[6,30,54],errorCorrectionLevels:[{ecCodewordsPerBlock:20,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:81}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:1,\ndataCodewordsPerBlock:50},{numBlocks:4,dataCodewordsPerBlock:51}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:22},{numBlocks:4,dataCodewordsPerBlock:23}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:12},{numBlocks:8,dataCodewordsPerBlock:13}]}]},{infoBits:51042,versionNumber:12,alignmentPatternCenters:[6,32,58],errorCorrectionLevels:[{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:92},{numBlocks:2,dataCodewordsPerBlock:93}]},\n{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:6,dataCodewordsPerBlock:36},{numBlocks:2,dataCodewordsPerBlock:37}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:20},{numBlocks:6,dataCodewordsPerBlock:21}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:7,dataCodewordsPerBlock:14},{numBlocks:4,dataCodewordsPerBlock:15}]}]},{infoBits:55367,versionNumber:13,alignmentPatternCenters:[6,34,62],errorCorrectionLevels:[{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:107}]},\n{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:8,dataCodewordsPerBlock:37},{numBlocks:1,dataCodewordsPerBlock:38}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:8,dataCodewordsPerBlock:20},{numBlocks:4,dataCodewordsPerBlock:21}]},{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:12,dataCodewordsPerBlock:11},{numBlocks:4,dataCodewordsPerBlock:12}]}]},{infoBits:58893,versionNumber:14,alignmentPatternCenters:[6,26,46,66],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:115},\n{numBlocks:1,dataCodewordsPerBlock:116}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:40},{numBlocks:5,dataCodewordsPerBlock:41}]},{ecCodewordsPerBlock:20,ecBlocks:[{numBlocks:11,dataCodewordsPerBlock:16},{numBlocks:5,dataCodewordsPerBlock:17}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:11,dataCodewordsPerBlock:12},{numBlocks:5,dataCodewordsPerBlock:13}]}]},{infoBits:63784,versionNumber:15,alignmentPatternCenters:[6,26,48,70],errorCorrectionLevels:[{ecCodewordsPerBlock:22,\necBlocks:[{numBlocks:5,dataCodewordsPerBlock:87},{numBlocks:1,dataCodewordsPerBlock:88}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:5,dataCodewordsPerBlock:41},{numBlocks:5,dataCodewordsPerBlock:42}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:5,dataCodewordsPerBlock:24},{numBlocks:7,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:11,dataCodewordsPerBlock:12},{numBlocks:7,dataCodewordsPerBlock:13}]}]},{infoBits:68472,versionNumber:16,alignmentPatternCenters:[6,26,50,\n74],errorCorrectionLevels:[{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:5,dataCodewordsPerBlock:98},{numBlocks:1,dataCodewordsPerBlock:99}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:7,dataCodewordsPerBlock:45},{numBlocks:3,dataCodewordsPerBlock:46}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:15,dataCodewordsPerBlock:19},{numBlocks:2,dataCodewordsPerBlock:20}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:15},{numBlocks:13,dataCodewordsPerBlock:16}]}]},{infoBits:70749,\nversionNumber:17,alignmentPatternCenters:[6,30,54,78],errorCorrectionLevels:[{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:107},{numBlocks:5,dataCodewordsPerBlock:108}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:10,dataCodewordsPerBlock:46},{numBlocks:1,dataCodewordsPerBlock:47}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:22},{numBlocks:15,dataCodewordsPerBlock:23}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:14},{numBlocks:17,\ndataCodewordsPerBlock:15}]}]},{infoBits:76311,versionNumber:18,alignmentPatternCenters:[6,30,56,82],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:5,dataCodewordsPerBlock:120},{numBlocks:1,dataCodewordsPerBlock:121}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:9,dataCodewordsPerBlock:43},{numBlocks:4,dataCodewordsPerBlock:44}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:17,dataCodewordsPerBlock:22},{numBlocks:1,dataCodewordsPerBlock:23}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:2,\ndataCodewordsPerBlock:14},{numBlocks:19,dataCodewordsPerBlock:15}]}]},{infoBits:79154,versionNumber:19,alignmentPatternCenters:[6,30,58,86],errorCorrectionLevels:[{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:113},{numBlocks:4,dataCodewordsPerBlock:114}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:44},{numBlocks:11,dataCodewordsPerBlock:45}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:17,dataCodewordsPerBlock:21},{numBlocks:4,dataCodewordsPerBlock:22}]},\n{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:9,dataCodewordsPerBlock:13},{numBlocks:16,dataCodewordsPerBlock:14}]}]},{infoBits:84390,versionNumber:20,alignmentPatternCenters:[6,34,62,90],errorCorrectionLevels:[{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:107},{numBlocks:5,dataCodewordsPerBlock:108}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:41},{numBlocks:13,dataCodewordsPerBlock:42}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:15,dataCodewordsPerBlock:24},\n{numBlocks:5,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:15,dataCodewordsPerBlock:15},{numBlocks:10,dataCodewordsPerBlock:16}]}]},{infoBits:87683,versionNumber:21,alignmentPatternCenters:[6,28,50,72,94],errorCorrectionLevels:[{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:116},{numBlocks:4,dataCodewordsPerBlock:117}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:17,dataCodewordsPerBlock:42}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:17,dataCodewordsPerBlock:22},\n{numBlocks:6,dataCodewordsPerBlock:23}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:19,dataCodewordsPerBlock:16},{numBlocks:6,dataCodewordsPerBlock:17}]}]},{infoBits:92361,versionNumber:22,alignmentPatternCenters:[6,26,50,74,98],errorCorrectionLevels:[{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:111},{numBlocks:7,dataCodewordsPerBlock:112}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:17,dataCodewordsPerBlock:46}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:7,dataCodewordsPerBlock:24},\n{numBlocks:16,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:34,dataCodewordsPerBlock:13}]}]},{infoBits:96236,versionNumber:23,alignmentPatternCenters:[6,30,54,74,102],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:121},{numBlocks:5,dataCodewordsPerBlock:122}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:47},{numBlocks:14,dataCodewordsPerBlock:48}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:11,dataCodewordsPerBlock:24},\n{numBlocks:14,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:16,dataCodewordsPerBlock:15},{numBlocks:14,dataCodewordsPerBlock:16}]}]},{infoBits:102084,versionNumber:24,alignmentPatternCenters:[6,28,54,80,106],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:6,dataCodewordsPerBlock:117},{numBlocks:4,dataCodewordsPerBlock:118}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:6,dataCodewordsPerBlock:45},{numBlocks:14,dataCodewordsPerBlock:46}]},{ecCodewordsPerBlock:30,\necBlocks:[{numBlocks:11,dataCodewordsPerBlock:24},{numBlocks:16,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:30,dataCodewordsPerBlock:16},{numBlocks:2,dataCodewordsPerBlock:17}]}]},{infoBits:102881,versionNumber:25,alignmentPatternCenters:[6,32,58,84,110],errorCorrectionLevels:[{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:8,dataCodewordsPerBlock:106},{numBlocks:4,dataCodewordsPerBlock:107}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:8,dataCodewordsPerBlock:47},{numBlocks:13,\ndataCodewordsPerBlock:48}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:7,dataCodewordsPerBlock:24},{numBlocks:22,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:22,dataCodewordsPerBlock:15},{numBlocks:13,dataCodewordsPerBlock:16}]}]},{infoBits:110507,versionNumber:26,alignmentPatternCenters:[6,30,58,86,114],errorCorrectionLevels:[{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:10,dataCodewordsPerBlock:114},{numBlocks:2,dataCodewordsPerBlock:115}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:19,\ndataCodewordsPerBlock:46},{numBlocks:4,dataCodewordsPerBlock:47}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:28,dataCodewordsPerBlock:22},{numBlocks:6,dataCodewordsPerBlock:23}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:33,dataCodewordsPerBlock:16},{numBlocks:4,dataCodewordsPerBlock:17}]}]},{infoBits:110734,versionNumber:27,alignmentPatternCenters:[6,34,62,90,118],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:8,dataCodewordsPerBlock:122},{numBlocks:4,dataCodewordsPerBlock:123}]},\n{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:22,dataCodewordsPerBlock:45},{numBlocks:3,dataCodewordsPerBlock:46}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:8,dataCodewordsPerBlock:23},{numBlocks:26,dataCodewordsPerBlock:24}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:12,dataCodewordsPerBlock:15},{numBlocks:28,dataCodewordsPerBlock:16}]}]},{infoBits:117786,versionNumber:28,alignmentPatternCenters:[6,26,50,74,98,122],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:117},\n{numBlocks:10,dataCodewordsPerBlock:118}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:45},{numBlocks:23,dataCodewordsPerBlock:46}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:24},{numBlocks:31,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:11,dataCodewordsPerBlock:15},{numBlocks:31,dataCodewordsPerBlock:16}]}]},{infoBits:119615,versionNumber:29,alignmentPatternCenters:[6,30,54,78,102,126],errorCorrectionLevels:[{ecCodewordsPerBlock:30,\necBlocks:[{numBlocks:7,dataCodewordsPerBlock:116},{numBlocks:7,dataCodewordsPerBlock:117}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:21,dataCodewordsPerBlock:45},{numBlocks:7,dataCodewordsPerBlock:46}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:23},{numBlocks:37,dataCodewordsPerBlock:24}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:19,dataCodewordsPerBlock:15},{numBlocks:26,dataCodewordsPerBlock:16}]}]},{infoBits:126325,versionNumber:30,alignmentPatternCenters:[6,\n26,52,78,104,130],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:5,dataCodewordsPerBlock:115},{numBlocks:10,dataCodewordsPerBlock:116}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:19,dataCodewordsPerBlock:47},{numBlocks:10,dataCodewordsPerBlock:48}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:15,dataCodewordsPerBlock:24},{numBlocks:25,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:23,dataCodewordsPerBlock:15},{numBlocks:25,dataCodewordsPerBlock:16}]}]},\n{infoBits:127568,versionNumber:31,alignmentPatternCenters:[6,30,56,82,108,134],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:13,dataCodewordsPerBlock:115},{numBlocks:3,dataCodewordsPerBlock:116}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:46},{numBlocks:29,dataCodewordsPerBlock:47}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:42,dataCodewordsPerBlock:24},{numBlocks:1,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:23,dataCodewordsPerBlock:15},\n{numBlocks:28,dataCodewordsPerBlock:16}]}]},{infoBits:133589,versionNumber:32,alignmentPatternCenters:[6,34,60,86,112,138],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:17,dataCodewordsPerBlock:115}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:10,dataCodewordsPerBlock:46},{numBlocks:23,dataCodewordsPerBlock:47}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:10,dataCodewordsPerBlock:24},{numBlocks:35,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:19,\ndataCodewordsPerBlock:15},{numBlocks:35,dataCodewordsPerBlock:16}]}]},{infoBits:136944,versionNumber:33,alignmentPatternCenters:[6,30,58,86,114,142],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:17,dataCodewordsPerBlock:115},{numBlocks:1,dataCodewordsPerBlock:116}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:14,dataCodewordsPerBlock:46},{numBlocks:21,dataCodewordsPerBlock:47}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:29,dataCodewordsPerBlock:24},{numBlocks:19,dataCodewordsPerBlock:25}]},\n{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:11,dataCodewordsPerBlock:15},{numBlocks:46,dataCodewordsPerBlock:16}]}]},{infoBits:141498,versionNumber:34,alignmentPatternCenters:[6,34,62,90,118,146],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:13,dataCodewordsPerBlock:115},{numBlocks:6,dataCodewordsPerBlock:116}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:14,dataCodewordsPerBlock:46},{numBlocks:23,dataCodewordsPerBlock:47}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:44,\ndataCodewordsPerBlock:24},{numBlocks:7,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:59,dataCodewordsPerBlock:16},{numBlocks:1,dataCodewordsPerBlock:17}]}]},{infoBits:145311,versionNumber:35,alignmentPatternCenters:[6,30,54,78,102,126,150],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:12,dataCodewordsPerBlock:121},{numBlocks:7,dataCodewordsPerBlock:122}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:12,dataCodewordsPerBlock:47},{numBlocks:26,dataCodewordsPerBlock:48}]},\n{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:39,dataCodewordsPerBlock:24},{numBlocks:14,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:22,dataCodewordsPerBlock:15},{numBlocks:41,dataCodewordsPerBlock:16}]}]},{infoBits:150283,versionNumber:36,alignmentPatternCenters:[6,24,50,76,102,128,154],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:6,dataCodewordsPerBlock:121},{numBlocks:14,dataCodewordsPerBlock:122}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:6,\ndataCodewordsPerBlock:47},{numBlocks:34,dataCodewordsPerBlock:48}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:46,dataCodewordsPerBlock:24},{numBlocks:10,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:15},{numBlocks:64,dataCodewordsPerBlock:16}]}]},{infoBits:152622,versionNumber:37,alignmentPatternCenters:[6,28,54,80,106,132,158],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:17,dataCodewordsPerBlock:122},{numBlocks:4,dataCodewordsPerBlock:123}]},\n{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:29,dataCodewordsPerBlock:46},{numBlocks:14,dataCodewordsPerBlock:47}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:49,dataCodewordsPerBlock:24},{numBlocks:10,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:24,dataCodewordsPerBlock:15},{numBlocks:46,dataCodewordsPerBlock:16}]}]},{infoBits:158308,versionNumber:38,alignmentPatternCenters:[6,32,58,84,110,136,162],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:4,\ndataCodewordsPerBlock:122},{numBlocks:18,dataCodewordsPerBlock:123}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:13,dataCodewordsPerBlock:46},{numBlocks:32,dataCodewordsPerBlock:47}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:48,dataCodewordsPerBlock:24},{numBlocks:14,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:42,dataCodewordsPerBlock:15},{numBlocks:32,dataCodewordsPerBlock:16}]}]},{infoBits:161089,versionNumber:39,alignmentPatternCenters:[6,26,54,82,110,138,166],\nerrorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:20,dataCodewordsPerBlock:117},{numBlocks:4,dataCodewordsPerBlock:118}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:40,dataCodewordsPerBlock:47},{numBlocks:7,dataCodewordsPerBlock:48}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:43,dataCodewordsPerBlock:24},{numBlocks:22,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:10,dataCodewordsPerBlock:15},{numBlocks:67,dataCodewordsPerBlock:16}]}]},{infoBits:167017,\nversionNumber:40,alignmentPatternCenters:[6,30,58,86,114,142,170],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:19,dataCodewordsPerBlock:118},{numBlocks:6,dataCodewordsPerBlock:119}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:18,dataCodewordsPerBlock:47},{numBlocks:31,dataCodewordsPerBlock:48}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:34,dataCodewordsPerBlock:24},{numBlocks:34,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:20,dataCodewordsPerBlock:15},\n{numBlocks:61,dataCodewordsPerBlock:16}]}]}];function J(a,b){a^=b;for(b=0;a;)b++,a&=a-1;return b}function K(a,b){return b<<1|a}\nlet ia=[{bits:21522,formatInfo:{errorCorrectionLevel:1,dataMask:0}},{bits:20773,formatInfo:{errorCorrectionLevel:1,dataMask:1}},{bits:24188,formatInfo:{errorCorrectionLevel:1,dataMask:2}},{bits:23371,formatInfo:{errorCorrectionLevel:1,dataMask:3}},{bits:17913,formatInfo:{errorCorrectionLevel:1,dataMask:4}},{bits:16590,formatInfo:{errorCorrectionLevel:1,dataMask:5}},{bits:20375,formatInfo:{errorCorrectionLevel:1,dataMask:6}},{bits:19104,formatInfo:{errorCorrectionLevel:1,dataMask:7}},{bits:30660,formatInfo:{errorCorrectionLevel:0,\ndataMask:0}},{bits:29427,formatInfo:{errorCorrectionLevel:0,dataMask:1}},{bits:32170,formatInfo:{errorCorrectionLevel:0,dataMask:2}},{bits:30877,formatInfo:{errorCorrectionLevel:0,dataMask:3}},{bits:26159,formatInfo:{errorCorrectionLevel:0,dataMask:4}},{bits:25368,formatInfo:{errorCorrectionLevel:0,dataMask:5}},{bits:27713,formatInfo:{errorCorrectionLevel:0,dataMask:6}},{bits:26998,formatInfo:{errorCorrectionLevel:0,dataMask:7}},{bits:5769,formatInfo:{errorCorrectionLevel:3,dataMask:0}},{bits:5054,\nformatInfo:{errorCorrectionLevel:3,dataMask:1}},{bits:7399,formatInfo:{errorCorrectionLevel:3,dataMask:2}},{bits:6608,formatInfo:{errorCorrectionLevel:3,dataMask:3}},{bits:1890,formatInfo:{errorCorrectionLevel:3,dataMask:4}},{bits:597,formatInfo:{errorCorrectionLevel:3,dataMask:5}},{bits:3340,formatInfo:{errorCorrectionLevel:3,dataMask:6}},{bits:2107,formatInfo:{errorCorrectionLevel:3,dataMask:7}},{bits:13663,formatInfo:{errorCorrectionLevel:2,dataMask:0}},{bits:12392,formatInfo:{errorCorrectionLevel:2,\ndataMask:1}},{bits:16177,formatInfo:{errorCorrectionLevel:2,dataMask:2}},{bits:14854,formatInfo:{errorCorrectionLevel:2,dataMask:3}},{bits:9396,formatInfo:{errorCorrectionLevel:2,dataMask:4}},{bits:8579,formatInfo:{errorCorrectionLevel:2,dataMask:5}},{bits:11994,formatInfo:{errorCorrectionLevel:2,dataMask:6}},{bits:11245,formatInfo:{errorCorrectionLevel:2,dataMask:7}}],ja=[a=>0===(a.y+a.x)%2,a=>0===a.y%2,a=>0===a.x%3,a=>0===(a.y+a.x)%3,a=>0===(Math.floor(a.y/2)+Math.floor(a.x/3))%2,a=>0===a.x*a.y%\n2+a.x*a.y%3,a=>0===(a.y*a.x%2+a.y*a.x%3)%2,a=>0===((a.y+a.x)%2+a.y*a.x%3)%2];\nfunction ka(a,b,c){c=ja[c.dataMask];let d=a.height;var e=17+4*b.versionNumber;let f=x.createEmpty(e,e);f.setRegion(0,0,9,9,!0);f.setRegion(e-8,0,8,9,!0);f.setRegion(0,e-8,9,8,!0);for(var g of b.alignmentPatternCenters)for(var h of b.alignmentPatternCenters)6===g&&6===h||6===g&&h===e-7||g===e-7&&6===h||f.setRegion(g-2,h-2,5,5,!0);f.setRegion(6,9,1,e-17,!0);f.setRegion(9,6,e-17,1,!0);6<b.versionNumber&&(f.setRegion(e-11,0,3,6,!0),f.setRegion(0,e-11,6,3,!0));b=[];h=g=0;e=!0;for(let k=d-1;0<k;k-=2){6===\nk&&k--;for(let m=0;m<d;m++){let l=e?d-1-m:m;for(let n=0;2>n;n++){let q=k-n;if(!f.get(q,l)){h++;let r=a.get(q,l);c({y:l,x:q})&&(r=!r);g=g<<1|r;8===h&&(b.push(g),g=h=0)}}}e=!e}return b}\nfunction la(a){var b=a.height,c=Math.floor((b-17)/4);if(6>=c)return I[c-1];c=0;for(var d=5;0<=d;d--)for(var e=b-9;e>=b-11;e--)c=K(a.get(e,d),c);d=0;for(e=5;0<=e;e--)for(let g=b-9;g>=b-11;g--)d=K(a.get(e,g),d);a=Infinity;let f;for(let g of I){if(g.infoBits===c||g.infoBits===d)return g;b=J(c,g.infoBits);b<a&&(f=g,a=b);b=J(d,g.infoBits);b<a&&(f=g,a=b)}if(3>=a)return f}\nfunction ma(a){let b=0;for(var c=0;8>=c;c++)6!==c&&(b=K(a.get(c,8),b));for(c=7;0<=c;c--)6!==c&&(b=K(a.get(8,c),b));var d=a.height;c=0;for(var e=d-1;e>=d-7;e--)c=K(a.get(8,e),c);for(e=d-8;e<d;e++)c=K(a.get(e,8),c);a=Infinity;d=null;for(let {bits:f,formatInfo:g}of ia){if(f===b||f===c)return g;e=J(b,f);e<a&&(d=g,a=e);b!==c&&(e=J(c,f),e<a&&(d=g,a=e))}return 3>=a?d:null}\nfunction na(a,b,c){let d=b.errorCorrectionLevels[c],e=[],f=0;d.ecBlocks.forEach(h=>{for(let k=0;k<h.numBlocks;k++)e.push({numDataCodewords:h.dataCodewordsPerBlock,codewords:[]}),f+=h.dataCodewordsPerBlock+d.ecCodewordsPerBlock});if(a.length<f)return null;a=a.slice(0,f);b=d.ecBlocks[0].dataCodewordsPerBlock;for(c=0;c<b;c++)for(var g of e)g.codewords.push(a.shift());if(1<d.ecBlocks.length)for(g=d.ecBlocks[0].numBlocks,b=d.ecBlocks[1].numBlocks,c=0;c<b;c++)e[g+c].codewords.push(a.shift());for(;0<a.length;)for(let h of e)h.codewords.push(a.shift());\nreturn e}function L(a){let b=la(a);if(!b)return null;var c=ma(a);if(!c)return null;a=ka(a,b,c);var d=na(a,b,c.errorCorrectionLevel);if(!d)return null;c=d.reduce((e,f)=>e+f.numDataCodewords,0);c=new Uint8ClampedArray(c);a=0;for(let e of d){d=ha(e.codewords,e.codewords.length-e.numDataCodewords);if(!d)return null;for(let f=0;f<e.numDataCodewords;f++)c[a++]=d[f]}try{return da(c,b.versionNumber)}catch(e){return null}}\nfunction M(a,b,c,d){var e=a.x-b.x+c.x-d.x;let f=a.y-b.y+c.y-d.y;if(0===e&&0===f)return{a11:b.x-a.x,a12:b.y-a.y,a13:0,a21:c.x-b.x,a22:c.y-b.y,a23:0,a31:a.x,a32:a.y,a33:1};let g=b.x-c.x;var h=d.x-c.x;let k=b.y-c.y,m=d.y-c.y;c=g*m-h*k;h=(e*m-h*f)/c;e=(g*f-e*k)/c;return{a11:b.x-a.x+h*b.x,a12:b.y-a.y+h*b.y,a13:h,a21:d.x-a.x+e*d.x,a22:d.y-a.y+e*d.y,a23:e,a31:a.x,a32:a.y,a33:1}}\nfunction oa(a,b,c,d){a=M(a,b,c,d);return{a11:a.a22*a.a33-a.a23*a.a32,a12:a.a13*a.a32-a.a12*a.a33,a13:a.a12*a.a23-a.a13*a.a22,a21:a.a23*a.a31-a.a21*a.a33,a22:a.a11*a.a33-a.a13*a.a31,a23:a.a13*a.a21-a.a11*a.a23,a31:a.a21*a.a32-a.a22*a.a31,a32:a.a12*a.a31-a.a11*a.a32,a33:a.a11*a.a22-a.a12*a.a21}}\nfunction pa(a,b){var c=oa({x:3.5,y:3.5},{x:b.dimension-3.5,y:3.5},{x:b.dimension-6.5,y:b.dimension-6.5},{x:3.5,y:b.dimension-3.5}),d=M(b.topLeft,b.topRight,b.alignmentPattern,b.bottomLeft),e=d.a11*c.a11+d.a21*c.a12+d.a31*c.a13,f=d.a12*c.a11+d.a22*c.a12+d.a32*c.a13,g=d.a13*c.a11+d.a23*c.a12+d.a33*c.a13,h=d.a11*c.a21+d.a21*c.a22+d.a31*c.a23,k=d.a12*c.a21+d.a22*c.a22+d.a32*c.a23,m=d.a13*c.a21+d.a23*c.a22+d.a33*c.a23,l=d.a11*c.a31+d.a21*c.a32+d.a31*c.a33,n=d.a12*c.a31+d.a22*c.a32+d.a32*c.a33,q=d.a13*\nc.a31+d.a23*c.a32+d.a33*c.a33;c=x.createEmpty(b.dimension,b.dimension);d=(r,u)=>{const p=g*r+m*u+q;return{x:(e*r+h*u+l)/p,y:(f*r+k*u+n)/p}};for(let r=0;r<b.dimension;r++)for(let u=0;u<b.dimension;u++){let p=d(u+.5,r+.5);c.set(u,r,a.get(Math.floor(p.x),Math.floor(p.y)))}return{matrix:c,mappingFunction:d}}let N=(a,b)=>Math.sqrt(Math.pow(b.x-a.x,2)+Math.pow(b.y-a.y,2));function O(a){return a.reduce((b,c)=>b+c)}\nfunction qa(a,b,c){let d=N(a,b),e=N(b,c),f=N(a,c),g,h,k;e>=d&&e>=f?[g,h,k]=[b,a,c]:f>=e&&f>=d?[g,h,k]=[a,b,c]:[g,h,k]=[a,c,b];0>(k.x-h.x)*(g.y-h.y)-(k.y-h.y)*(g.x-h.x)&&([g,k]=[k,g]);return{bottomLeft:g,topLeft:h,topRight:k}}\nfunction ra(a,b,c,d){d=(O(P(a,c,d,5))/7+O(P(a,b,d,5))/7+O(P(c,a,d,5))/7+O(P(b,a,d,5))/7)/4;if(1>d)throw Error("Invalid module size");b=Math.round(N(a,b)/d);a=Math.round(N(a,c)/d);a=Math.floor((b+a)/2)+7;switch(a%4){case 0:a++;break;case 2:a--}return{dimension:a,moduleSize:d}}\nfunction Q(a,b,c,d){let e=[{x:Math.floor(a.x),y:Math.floor(a.y)}];var f=Math.abs(b.y-a.y)>Math.abs(b.x-a.x);if(f){var g=Math.floor(a.y);var h=Math.floor(a.x);a=Math.floor(b.y);b=Math.floor(b.x)}else g=Math.floor(a.x),h=Math.floor(a.y),a=Math.floor(b.x),b=Math.floor(b.y);let k=Math.abs(a-g),m=Math.abs(b-h),l=Math.floor(-k/2),n=g<a?1:-1,q=h<b?1:-1,r=!0;for(let u=g,p=h;u!==a+n;u+=n){g=f?p:u;h=f?u:p;if(c.get(g,h)!==r&&(r=!r,e.push({x:g,y:h}),e.length===d+1))break;l+=m;if(0<l){if(p===b)break;p+=q;l-=k}}c=\n[];for(f=0;f<d;f++)e[f]&&e[f+1]?c.push(N(e[f],e[f+1])):c.push(0);return c}function P(a,b,c,d){let e=b.y-a.y,f=b.x-a.x;b=Q(a,b,c,Math.ceil(d/2));a=Q(a,{x:a.x-f,y:a.y-e},c,Math.ceil(d/2));c=b.shift()+a.shift()-1;return a.concat(c).concat(...b)}function R(a,b){let c=O(a)/O(b),d=0;b.forEach((e,f)=>{d+=Math.pow(a[f]-e*c,2)});return{averageSize:c,error:d}}\nfunction S(a,b,c){try{let d=P(a,{x:-1,y:a.y},c,b.length),e=P(a,{x:a.x,y:-1},c,b.length),f=P(a,{x:Math.max(0,a.x-a.y)-1,y:Math.max(0,a.y-a.x)-1},c,b.length),g=P(a,{x:Math.min(c.width,a.x+a.y)+1,y:Math.min(c.height,a.y+a.x)+1},c,b.length),h=R(d,b),k=R(e,b),m=R(f,b),l=R(g,b),n=(h.averageSize+k.averageSize+m.averageSize+l.averageSize)/4;return Math.sqrt(h.error*h.error+k.error*k.error+m.error*m.error+l.error*l.error)+(Math.pow(h.averageSize-n,2)+Math.pow(k.averageSize-n,2)+Math.pow(m.averageSize-n,2)+\nMath.pow(l.averageSize-n,2))/n}catch(d){return Infinity}}function T(a,b){for(var c=Math.round(b.x);a.get(c,Math.round(b.y));)c--;for(var d=Math.round(b.x);a.get(d,Math.round(b.y));)d++;c=(c+d)/2;for(d=Math.round(b.y);a.get(Math.round(c),d);)d--;for(b=Math.round(b.y);a.get(Math.round(c),b);)b++;return{x:c,y:(d+b)/2}}\nfunction sa(a){var b=[],c=[];let d=[];var e=[];for(let p=0;p<=a.height;p++){var f=0,g=!1;let t=[0,0,0,0,0];for(let v=-1;v<=a.width;v++){var h=a.get(v,p);if(h===g)f++;else{t=[t[1],t[2],t[3],t[4],f];f=1;g=h;var k=O(t)/7;k=Math.abs(t[0]-k)<k&&Math.abs(t[1]-k)<k&&Math.abs(t[2]-3*k)<3*k&&Math.abs(t[3]-k)<k&&Math.abs(t[4]-k)<k&&!h;var m=O(t.slice(-3))/3;h=Math.abs(t[2]-m)<m&&Math.abs(t[3]-m)<m&&Math.abs(t[4]-m)<m&&h;if(k){let z=v-t[3]-t[4],y=z-t[2];k={startX:y,endX:z,y:p};m=c.filter(w=>y>=w.bottom.startX&&\ny<=w.bottom.endX||z>=w.bottom.startX&&y<=w.bottom.endX||y<=w.bottom.startX&&z>=w.bottom.endX&&1.5>t[2]/(w.bottom.endX-w.bottom.startX)&&.5<t[2]/(w.bottom.endX-w.bottom.startX));0<m.length?m[0].bottom=k:c.push({top:k,bottom:k})}if(h){let z=v-t[4],y=z-t[3];h={startX:y,y:p,endX:z};k=e.filter(w=>y>=w.bottom.startX&&y<=w.bottom.endX||z>=w.bottom.startX&&y<=w.bottom.endX||y<=w.bottom.startX&&z>=w.bottom.endX&&1.5>t[2]/(w.bottom.endX-w.bottom.startX)&&.5<t[2]/(w.bottom.endX-w.bottom.startX));0<k.length?\nk[0].bottom=h:e.push({top:h,bottom:h})}}}b.push(...c.filter(v=>v.bottom.y!==p&&2<=v.bottom.y-v.top.y));c=c.filter(v=>v.bottom.y===p);d.push(...e.filter(v=>v.bottom.y!==p));e=e.filter(v=>v.bottom.y===p)}b.push(...c.filter(p=>2<=p.bottom.y-p.top.y));d.push(...e);c=[];for(var l of b)2>l.bottom.y-l.top.y||(b=(l.top.startX+l.top.endX+l.bottom.startX+l.bottom.endX)/4,e=(l.top.y+l.bottom.y+1)/2,a.get(Math.round(b),Math.round(e))&&(f=[l.top.endX-l.top.startX,l.bottom.endX-l.bottom.startX,l.bottom.y-l.top.y+\n1],f=O(f)/f.length,g=S({x:Math.round(b),y:Math.round(e)},[1,1,3,1,1],a),c.push({score:g,x:b,y:e,size:f})));if(3>c.length)return null;c.sort((p,t)=>p.score-t.score);l=[];for(b=0;b<Math.min(c.length,5);++b){e=c[b];f=[];for(var n of c)n!==e&&f.push(Object.assign(Object.assign({},n),{score:n.score+Math.pow(n.size-e.size,2)/e.size}));f.sort((p,t)=>p.score-t.score);l.push({points:[e,f[0],f[1]],score:e.score+f[0].score+f[1].score})}l.sort((p,t)=>p.score-t.score);let {topRight:q,topLeft:r,bottomLeft:u}=qa(...l[0].points);\nl=U(a,d,q,r,u);n=[];l&&n.push({alignmentPattern:{x:l.alignmentPattern.x,y:l.alignmentPattern.y},bottomLeft:{x:u.x,y:u.y},dimension:l.dimension,topLeft:{x:r.x,y:r.y},topRight:{x:q.x,y:q.y}});l=T(a,q);b=T(a,r);c=T(a,u);(a=U(a,d,l,b,c))&&n.push({alignmentPattern:{x:a.alignmentPattern.x,y:a.alignmentPattern.y},bottomLeft:{x:c.x,y:c.y},topLeft:{x:b.x,y:b.y},topRight:{x:l.x,y:l.y},dimension:a.dimension});return 0===n.length?null:n}\nfunction U(a,b,c,d,e){let f,g;try{({dimension:f,moduleSize:g}=ra(d,c,e,a))}catch(l){return null}var h=c.x-d.x+e.x,k=c.y-d.y+e.y;c=(N(d,e)+N(d,c))/2/g;e=1-3/c;let m={x:d.x+e*(h-d.x),y:d.y+e*(k-d.y)};b=b.map(l=>{const n=(l.top.startX+l.top.endX+l.bottom.startX+l.bottom.endX)/4;l=(l.top.y+l.bottom.y+1)/2;if(a.get(Math.floor(n),Math.floor(l))){var q=S({x:Math.floor(n),y:Math.floor(l)},[1,1,1],a)+N({x:n,y:l},m);return{x:n,y:l,score:q}}}).filter(l=>!!l).sort((l,n)=>l.score-n.score);return{alignmentPattern:15<=\nc&&b.length?b[0]:m,dimension:f}}\nfunction V(a){var b=sa(a);if(!b)return null;for(let e of b){b=pa(a,e);var c=b.matrix;if(null==c)c=null;else{var d=L(c);if(d)c=d;else{for(d=0;d<c.width;d++)for(let f=d+1;f<c.height;f++)c.get(d,f)!==c.get(f,d)&&(c.set(d,f,!c.get(d,f)),c.set(f,d,!c.get(f,d)));c=L(c)}}if(c)return{binaryData:c.bytes,data:c.text,chunks:c.chunks,version:c.version,location:{topRightCorner:b.mappingFunction(e.dimension,0),topLeftCorner:b.mappingFunction(0,0),bottomRightCorner:b.mappingFunction(e.dimension,e.dimension),bottomLeftCorner:b.mappingFunction(0,\ne.dimension),topRightFinderPattern:e.topRight,topLeftFinderPattern:e.topLeft,bottomLeftFinderPattern:e.bottomLeft,bottomRightAlignmentPattern:e.alignmentPattern},matrix:b.matrix}}return null}let ta={inversionAttempts:"attemptBoth",greyScaleWeights:{red:.2126,green:.7152,blue:.0722,useIntegerApproximation:!1},canOverwriteImage:!0};function W(a,b){Object.keys(b).forEach(c=>{a[c]=b[c]})}\nfunction X(a,b,c,d={}){let e=Object.create(null);W(e,ta);W(e,d);d="onlyInvert"===e.inversionAttempts||"invertFirst"===e.inversionAttempts;var f="attemptBoth"===e.inversionAttempts||d;var g=e.greyScaleWeights,h=e.canOverwriteImage,k=b*c;if(a.length!==4*k)throw Error("Malformed data passed to binarizer.");var m=0;if(h){var l=new Uint8ClampedArray(a.buffer,m,k);m+=k}l=new A(b,c,l);if(g.useIntegerApproximation)for(var n=0;n<c;n++)for(var q=0;q<b;q++){var r=4*(n*b+q);l.set(q,n,g.red*a[r]+g.green*a[r+1]+\ng.blue*a[r+2]+128>>8)}else for(n=0;n<c;n++)for(q=0;q<b;q++)r=4*(n*b+q),l.set(q,n,g.red*a[r]+g.green*a[r+1]+g.blue*a[r+2]);g=Math.ceil(b/8);n=Math.ceil(c/8);q=g*n;if(h){var u=new Uint8ClampedArray(a.buffer,m,q);m+=q}u=new A(g,n,u);for(q=0;q<n;q++)for(r=0;r<g;r++){var p=Infinity,t=0;for(var v=0;8>v;v++)for(let w=0;8>w;w++){let aa=l.get(8*r+w,8*q+v);p=Math.min(p,aa);t=Math.max(t,aa)}v=(p+t)/2;v=Math.min(255,1.11*v);24>=t-p&&(v=p/2,0<q&&0<r&&(t=(u.get(r,q-1)+2*u.get(r-1,q)+u.get(r-1,q-1))/4,p<t&&(v=t)));\nu.set(r,q,v)}h?(q=new Uint8ClampedArray(a.buffer,m,k),m+=k,q=new x(q,b)):q=x.createEmpty(b,c);r=null;f&&(h?(a=new Uint8ClampedArray(a.buffer,m,k),r=new x(a,b)):r=x.createEmpty(b,c));for(b=0;b<n;b++)for(a=0;a<g;a++){c=g-3;c=2>a?2:a>c?c:a;h=n-3;h=2>b?2:b>h?h:b;k=0;for(m=-2;2>=m;m++)for(p=-2;2>=p;p++)k+=u.get(c+m,h+p);c=k/25;for(h=0;8>h;h++)for(k=0;8>k;k++)m=8*a+h,p=8*b+k,t=l.get(m,p),q.set(m,p,t<=c),f&&r.set(m,p,!(t<=c))}f=f?{binarized:q,inverted:r}:{binarized:q};let {binarized:z,inverted:y}=f;(f=V(d?\ny:z))||"attemptBoth"!==e.inversionAttempts&&"invertFirst"!==e.inversionAttempts||(f=V(d?z:y));return f}X.default=X;let Y="dontInvert",Z={red:77,green:150,blue:29,useIntegerApproximation:!0};\nself.onmessage=a=>{let b=a.data.id,c=a.data.data;switch(a.data.type){case "decode":(a=X(c.data,c.width,c.height,{inversionAttempts:Y,greyScaleWeights:Z}))?self.postMessage({id:b,type:"qrResult",data:a.data,cornerPoints:[a.location.topLeftCorner,a.location.topRightCorner,a.location.bottomRightCorner,a.location.bottomLeftCorner]}):self.postMessage({id:b,type:"qrResult",data:null});break;case "grayscaleWeights":Z.red=c.red;Z.green=c.green;Z.blue=c.blue;Z.useIntegerApproximation=c.useIntegerApproximation;\nbreak;case "inversionMode":switch(c){case "original":Y="dontInvert";break;case "invert":Y="onlyInvert";break;case "both":Y="attemptBoth";break;default:throw Error("Invalid inversion mode");}break;case "close":self.close()}}\n']),{type:"application/javascript"}))});return Cn}();
